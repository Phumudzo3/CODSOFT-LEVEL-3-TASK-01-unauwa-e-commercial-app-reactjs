/*! For license information please see main.c677cea5.js.LICENSE.txt */
!function(){var e={403:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},303:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(525)},525:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return or},debounce:function(){return ur},deprecatedPropType:function(){return sr},isMuiElement:function(){return cr},ownerDocument:function(){return fr},ownerWindow:function(){return hr},requirePropFactory:function(){return dr},setRef:function(){return vr},unstable_ClassNameGenerator:function(){return Mr},unstable_useEnhancedEffect:function(){return yr},unstable_useId:function(){return br},unsupportedProp:function(){return wr},useControlled:function(){return _r},useEventCallback:function(){return Sr},useForkRef:function(){return Tr},useIsFocusVisible:function(){return Rr}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},c=n(462),l=n(791),f=n.t(l,2),h=n(366);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function v(e,t){var n=(0,c.Z)({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=(0,c.Z)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=(0,c.Z)({},a),Object.keys(i).forEach((function(e){n[r][e]=v(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function m(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function g(e){if(!y(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=g(e[n])})),t}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,c.Z)({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=k(e[i],t[i],n):n.clone?r[i]=y(t[i])?g(t[i]):t[i]:r[i]=t[i])})),r}var b=n(942),w=["values","unit","step"],_=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,c.Z)({},e,(0,b.Z)({},t.key,t.val))}),{})};var x={borderRadius:4},S=n(439),E={xs:0,sm:600,md:900,lg:1200,xl:1536},T={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(E[e],"px)")}};function I(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||T;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||T;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||E).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function C(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function A(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function N(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function O(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:N(e,n)||i,t&&(r=t(r,i,e)),r}var P=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=N(e.theme,i)||{};return I(e,n,(function(e){var n=O(u,a,e);return e===n&&"string"===typeof e&&(n=O(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,b.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var D=function(e,t){return t?k(e,t,{clone:!1}):e};var R={m:"margin",p:"padding"},M={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},L={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!L[e])return[e];e=L[e]}var t=e.split(""),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=R[r],o=M[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),j=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],U=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],V=[].concat(j,U);function z(e,t,n,r){var i,a=null!=(i=N(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function B(e){return z(e,"spacing",8)}function q(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function W(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=q(t,n),e}),{})}}(F(n),r);return I(e,e[n],i)}function G(e,t){var n=B(e.theme);return Object.keys(e).map((function(r){return W(e,t,r,n)})).reduce(D,{})}function H(e){return G(e,j)}function K(e){return G(e,U)}function Z(e){return G(e,V)}H.propTypes={},H.filterProps=j,K.propTypes={},K.filterProps=U,Z.propTypes={},Z.filterProps=V;var Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?D(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Q(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var $=P({prop:"border",themeKey:"borders",transform:Q}),J=P({prop:"borderTop",themeKey:"borders",transform:Q}),X=P({prop:"borderRight",themeKey:"borders",transform:Q}),ee=P({prop:"borderBottom",themeKey:"borders",transform:Q}),te=P({prop:"borderLeft",themeKey:"borders",transform:Q}),ne=P({prop:"borderColor",themeKey:"palette"}),re=P({prop:"borderTopColor",themeKey:"palette"}),ie=P({prop:"borderRightColor",themeKey:"palette"}),ae=P({prop:"borderBottomColor",themeKey:"palette"}),oe=P({prop:"borderLeftColor",themeKey:"palette"}),ue=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=z(e.theme,"shape.borderRadius",4);return I(e,e.borderRadius,(function(e){return{borderRadius:q(t,e)}}))}return null};ue.propTypes={},ue.filterProps=["borderRadius"];Y($,J,X,ee,te,ne,re,ie,ae,oe,ue);var se=function(e){if(void 0!==e.gap&&null!==e.gap){var t=z(e.theme,"spacing",8);return I(e,e.gap,(function(e){return{gap:q(t,e)}}))}return null};se.propTypes={},se.filterProps=["gap"];var ce=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=z(e.theme,"spacing",8);return I(e,e.columnGap,(function(e){return{columnGap:q(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["columnGap"];var le=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=z(e.theme,"spacing",8);return I(e,e.rowGap,(function(e){return{rowGap:q(t,e)}}))}return null};le.propTypes={},le.filterProps=["rowGap"];Y(se,ce,le,P({prop:"gridColumn"}),P({prop:"gridRow"}),P({prop:"gridAutoFlow"}),P({prop:"gridAutoColumns"}),P({prop:"gridAutoRows"}),P({prop:"gridTemplateColumns"}),P({prop:"gridTemplateRows"}),P({prop:"gridTemplateAreas"}),P({prop:"gridArea"}));function fe(e,t){return"grey"===t?t:e}Y(P({prop:"color",themeKey:"palette",transform:fe}),P({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fe}),P({prop:"backgroundColor",themeKey:"palette",transform:fe}));function he(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var de=P({prop:"width",transform:he}),pe=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return I(e,e.maxWidth,(function(t){var n,r,i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||E[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:he(t)}}))}return null};pe.filterProps=["maxWidth"];var ve=P({prop:"minWidth",transform:he}),me=P({prop:"height",transform:he}),ye=P({prop:"maxHeight",transform:he}),ge=P({prop:"minHeight",transform:he}),ke=(P({prop:"size",cssProperty:"width",transform:he}),P({prop:"size",cssProperty:"height",transform:he}),Y(de,pe,ve,me,ye,ge,P({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Q},borderTop:{themeKey:"borders",transform:Q},borderRight:{themeKey:"borders",transform:Q},borderBottom:{themeKey:"borders",transform:Q},borderLeft:{themeKey:"borders",transform:Q},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ue},color:{themeKey:"palette",transform:fe},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fe},backgroundColor:{themeKey:"palette",transform:fe},p:{style:K},pt:{style:K},pr:{style:K},pb:{style:K},pl:{style:K},px:{style:K},py:{style:K},padding:{style:K},paddingTop:{style:K},paddingRight:{style:K},paddingBottom:{style:K},paddingLeft:{style:K},paddingX:{style:K},paddingY:{style:K},paddingInline:{style:K},paddingInlineStart:{style:K},paddingInlineEnd:{style:K},paddingBlock:{style:K},paddingBlockStart:{style:K},paddingBlockEnd:{style:K},m:{style:H},mt:{style:H},mr:{style:H},mb:{style:H},ml:{style:H},mx:{style:H},my:{style:H},margin:{style:H},marginTop:{style:H},marginRight:{style:H},marginBottom:{style:H},marginLeft:{style:H},marginX:{style:H},marginY:{style:H},marginInline:{style:H},marginInlineStart:{style:H},marginInlineEnd:{style:H},marginBlock:{style:H},marginBlockStart:{style:H},marginBlockEnd:{style:H},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:se},rowGap:{style:le},columnGap:{style:ce},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:he},maxWidth:{style:pe},minWidth:{transform:he},height:{transform:he},maxHeight:{transform:he},minHeight:{transform:he},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var be=function(){function e(e,t,n,r){var i,a=(i={},(0,b.Z)(i,e,t),(0,b.Z)(i,"theme",n),i),u=r[e];if(!u)return(0,b.Z)({},e,t);var s=u.cssProperty,c=void 0===s?e:s,l=u.themeKey,f=u.transform,h=u.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return(0,b.Z)({},e,t);var d=N(n,l)||{};if(h)return h(a);return I(a,t,(function(t){var n=O(d,f,t);return t===n&&"string"===typeof t&&(n=O(d,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:(0,b.Z)({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:ke;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=C(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=D(o,e(n,c,u,s));else{var l=I({theme:u},c,(function(e){return(0,b.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=D(o,l):o[n]=t({sx:c,theme:u})}else o=D(o,e(n,c,u,s))})),A(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();be.filterProps=["sx"];var we=be,_e=["breakpoints","palette","spacing","shape"];var xe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=(0,h.Z)(e,_e),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=(0,h.Z)(e,w),s=_(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return(0,c.Z)({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=B({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),d=k({breakpoints:l,direction:"ltr",components:{},palette:(0,c.Z)({mode:"light"},i),spacing:f,shape:(0,c.Z)({},x,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(d=v.reduce((function(e,t){return k(e,t)}),d)).unstable_sxConfig=(0,c.Z)({},ke,null==s?void 0:s.unstable_sxConfig),d.unstable_sx=function(e){return we({sx:e,theme:this})},d};var Se=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ee=Math.abs,Te=String.fromCharCode,Ie=Object.assign;function Ce(e){return e.trim()}function Ae(e,t,n){return e.replace(t,n)}function Ne(e,t){return e.indexOf(t)}function Oe(e,t){return 0|e.charCodeAt(t)}function Pe(e,t,n){return e.slice(t,n)}function De(e){return e.length}function Re(e){return e.length}function Me(e,t){return t.push(e),e}var Le=1,Fe=1,je=0,Ue=0,Ve=0,ze="";function Be(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Le,column:Fe,length:o,return:""}}function qe(e,t){return Ie(Be("",null,null,"",null,null,0),e,{length:-e.length},t)}function We(){return Ve=Ue>0?Oe(ze,--Ue):0,Fe--,10===Ve&&(Fe=1,Le--),Ve}function Ge(){return Ve=Ue<je?Oe(ze,Ue++):0,Fe++,10===Ve&&(Fe=1,Le++),Ve}function He(){return Oe(ze,Ue)}function Ke(){return Ue}function Ze(e,t){return Pe(ze,e,t)}function Ye(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qe(e){return Le=Fe=1,je=De(ze=e),Ue=0,[]}function $e(e){return ze="",e}function Je(e){return Ce(Ze(Ue-1,tt(91===e?e+2:40===e?e+1:e)))}function Xe(e){for(;(Ve=He())&&Ve<33;)Ge();return Ye(e)>2||Ye(Ve)>3?"":" "}function et(e,t){for(;--t&&Ge()&&!(Ve<48||Ve>102||Ve>57&&Ve<65||Ve>70&&Ve<97););return Ze(e,Ke()+(t<6&&32==He()&&32==Ge()))}function tt(e){for(;Ge();)switch(Ve){case e:return Ue;case 34:case 39:34!==e&&39!==e&&tt(Ve);break;case 40:41===e&&tt(e);break;case 92:Ge()}return Ue}function nt(e,t){for(;Ge()&&e+Ve!==57&&(e+Ve!==84||47!==He()););return"/*"+Ze(t,Ue-1)+"*"+Te(47===e?e:Ge())}function rt(e){for(;!Ye(He());)Ge();return Ze(e,Ue)}var it="-ms-",at="-moz-",ot="-webkit-",ut="comm",st="rule",ct="decl",lt="@keyframes";function ft(e,t){for(var n="",r=Re(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ht(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ct:return e.return=e.return||e.value;case ut:return"";case lt:return e.return=e.value+"{"+ft(e.children,r)+"}";case st:e.value=e.props.join(",")}return De(n=ft(e.children,r))?e.return=e.value+"{"+n+"}":""}function dt(e){return $e(pt("",null,null,null,[""],e=Qe(e),0,[0],e))}function pt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,_=r,x=k;m;)switch(p=g,g=Ge()){case 40:if(108!=p&&58==Oe(x,f-1)){-1!=Ne(x+=Ae(Je(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Je(g);break;case 9:case 10:case 13:case 32:x+=Xe(p);break;case 92:x+=et(Ke()-1,7);continue;case 47:switch(He()){case 42:case 47:Me(mt(nt(Ge(),Ke()),t,n),s);break;default:x+="/"}break;case 123*v:u[c++]=De(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(x=Ae(x,/\f/g,"")),d>0&&De(x)-f&&Me(d>32?yt(x+";",r,n,f-1):yt(Ae(x," ","")+";",r,n,f-2),s);break;case 59:x+=";";default:if(Me(_=vt(x,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)pt(x,t,_,_,b,a,f,u,w);else switch(99===h&&110===Oe(x,3)?100:h){case 100:case 108:case 109:case 115:pt(e,_,_,r&&Me(vt(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:pt(x,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=x="",f=o;break;case 58:f=1+De(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==We())continue;switch(x+=Te(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:u[c++]=(De(x)-1)*y,y=1;break;case 64:45===He()&&(x+=Je(Ge())),h=He(),l=f=De(k=x+=rt(Ke())),g++;break;case 45:45===p&&2==De(x)&&(v=0)}}return a}function vt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Re(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Pe(e,f+1,f=Ee(v=o[p])),k=e;y<d;++y)(k=Ce(v>0?h[y]+" "+g:Ae(g,/&\f/g,h[y])))&&(s[m++]=k);return Be(e,t,n,0===i?st:u,s,c,l)}function mt(e,t,n){return Be(e,t,n,ut,Te(Ve),Pe(e,2,-2),0)}function yt(e,t,n,r){return Be(e,t,n,ct,Pe(e,0,r),Pe(e,r+1,-1),r)}var gt=function(e,t,n){for(var r=0,i=0;r=i,i=He(),38===r&&12===i&&(t[n]=1),!Ye(i);)Ge();return Ze(e,Ue)},kt=function(e,t){return $e(function(e,t){var n=-1,r=44;do{switch(Ye(r)){case 0:38===r&&12===He()&&(t[n]=1),e[n]+=gt(Ue-1,t,n);break;case 2:e[n]+=Je(r);break;case 4:if(44===r){e[++n]=58===He()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Te(r)}}while(r=Ge());return e}(Qe(e),t))},bt=new WeakMap,wt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||bt.get(n))&&!r){bt.set(e,!0);for(var i=[],a=kt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},_t=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function xt(e,t){switch(function(e,t){return 45^Oe(e,0)?(((t<<2^Oe(e,0))<<2^Oe(e,1))<<2^Oe(e,2))<<2^Oe(e,3):0}(e,t)){case 5103:return ot+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+e+at+e+it+e+e;case 6828:case 4268:return ot+e+it+e+e;case 6165:return ot+e+it+"flex-"+e+e;case 5187:return ot+e+Ae(e,/(\w+).+(:[^]+)/,ot+"box-$1$2"+it+"flex-$1$2")+e;case 5443:return ot+e+it+"flex-item-"+Ae(e,/flex-|-self/,"")+e;case 4675:return ot+e+it+"flex-line-pack"+Ae(e,/align-content|flex-|-self/,"")+e;case 5548:return ot+e+it+Ae(e,"shrink","negative")+e;case 5292:return ot+e+it+Ae(e,"basis","preferred-size")+e;case 6060:return ot+"box-"+Ae(e,"-grow","")+ot+e+it+Ae(e,"grow","positive")+e;case 4554:return ot+Ae(e,/([^-])(transform)/g,"$1"+ot+"$2")+e;case 6187:return Ae(Ae(Ae(e,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),e,"")+e;case 5495:case 3959:return Ae(e,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return Ae(Ae(e,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+it+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+e+e;case 4095:case 3583:case 4068:case 2532:return Ae(e,/(.+)-inline(.+)/,ot+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(De(e)-1-t>6)switch(Oe(e,t+1)){case 109:if(45!==Oe(e,t+4))break;case 102:return Ae(e,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+at+(108==Oe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ne(e,"stretch")?xt(Ae(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Oe(e,t+1))break;case 6444:switch(Oe(e,De(e)-3-(~Ne(e,"!important")&&10))){case 107:return Ae(e,":",":"+ot)+e;case 101:return Ae(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(45===Oe(e,14)?"inline-":"")+"box$3$1"+ot+"$2$3$1"+it+"$2box$3")+e}break;case 5936:switch(Oe(e,t+11)){case 114:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ot+e+it+e+e}return e}var St=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ct:e.return=xt(e.value,e.length);break;case lt:return ft([qe(e,{value:Ae(e.value,"@","@"+ot)})],r);case st:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ft([qe(e,{props:[Ae(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ft([qe(e,{props:[Ae(t,/:(plac\w+)/,":"+ot+"input-$1")]}),qe(e,{props:[Ae(t,/:(plac\w+)/,":-moz-$1")]}),qe(e,{props:[Ae(t,/:(plac\w+)/,it+"input-$1")]})],r)}return""}))}}],Et=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||St;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[ht,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Re(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([wt,_t].concat(r,l));a=function(e,t,n,r){s=n,ft(dt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Se({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Tt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function It(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ct=/[A-Z]|^ms/g,At=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Nt=function(e){return 45===e.charCodeAt(1)},Ot=function(e){return null!=e&&"boolean"!==typeof e},Pt=It((function(e){return Nt(e)?e:e.replace(Ct,"-$&").toLowerCase()})),Dt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(At,(function(e,t,n){return Mt={name:t,styles:n,next:Mt},t}))}return 1===Tt[e]||Nt(e)||"number"!==typeof t||0===t?t:t+"px"};function Rt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Mt={name:n.name,styles:n.styles,next:Mt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Mt={name:r.name,styles:r.styles,next:Mt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Rt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ot(o)&&(r+=Pt(a)+":"+Dt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Rt(e,t,o);switch(a){case"animation":case"animationName":r+=Pt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Ot(o[s])&&(r+=Pt(a)+":"+Dt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Mt,a=n(e);return Mt=i,Rt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Mt,Lt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ft=!!f.useInsertionEffect&&f.useInsertionEffect,jt=Ft||function(e){return e()},Ut=(Ft||l.useLayoutEffect,l.createContext("undefined"!==typeof HTMLElement?Et({key:"css"}):null));Ut.Provider;var Vt=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(Ut);return e(t,r,n)}))};var zt=l.createContext({});var Bt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l.useContext(zt);return n&&(e=n,0!==Object.keys(e).length)?n:t},qt=xe();var Wt=function(){return Bt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt)};function Gt(e,t){var n;return(0,c.Z)({toolbar:(n={minHeight:56},(0,b.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,b.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Kt(e){if(e.type)return e;if("#"===e.charAt(0))return Kt(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Zt(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Yt(e){var t="hsl"===(e=Kt(e)).type||"hsla"===e.type?Kt(function(e){var t=(e=Kt(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Zt({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Qt(e,t){if(e=Kt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Zt(e)}function $t(e,t){if(e=Kt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Zt(e)}var Jt={black:"#000",white:"#fff"},Xt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},en={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},tn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},nn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},rn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},an={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},on={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},un=["mode","contrastThreshold","tonalOffset"],sn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jt.white,default:Jt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cn={text:{primary:Jt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ln(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=$t(e.main,i):"dark"===t&&(e.dark=Qt(e.main,a)))}function fn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=(0,h.Z)(e,un),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[200],light:rn[50],dark:rn[400]}:{main:rn[700],light:rn[400],dark:rn[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:en[200],light:en[50],dark:en[400]}:{main:en[500],light:en[300],dark:en[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[500],light:tn[300],dark:tn[700]}:{main:tn[700],light:tn[400],dark:tn[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:an[400],light:an[300],dark:an[700]}:{main:an[700],light:an[500],dark:an[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:on[800],light:on[500],dark:on[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nn[400],light:nn[300],dark:nn[700]}:{main:"#ed6c02",light:nn[500],dark:nn[900]}}(n);function y(e){var t=function(e,t){var n=Yt(e),r=Yt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,cn.text.primary)>=i?cn.text.primary:sn.text.primary;return t}var g=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,c.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ln(t,"light",s,u),ln(t,"dark",f,u),t.contrastText||(t.contrastText=y(t.main)),t},b={dark:cn,light:sn};return k((0,c.Z)({common:(0,c.Z)({},Jt),mode:n,primary:g({color:l,name:"primary"}),secondary:g({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:d,name:"error"}),warning:g({color:m,name:"warning"}),info:g({color:p,name:"info"}),success:g({color:v,name:"success"}),grey:Xt,contrastThreshold:i,getContrastText:y,augmentColor:g,tonalOffset:u},b[n]),s)}var hn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var dn={textTransform:"uppercase"},pn='"Roboto", "Helvetica", "Arial", sans-serif';function vn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?pn:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,b=n.allVariants,w=n.pxToRem,_=(0,h.Z)(n,hn);var x=o/14,S=w||function(e){return"".concat(e/g*x,"rem")},E=function(e,t,n,r,a){return(0,c.Z)({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===pn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},T={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,dn),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,dn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return k((0,c.Z)({htmlFontSize:g,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},T),_,{clone:!1})}function mn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var yn=["none",mn(0,2,1,-1,0,1,1,0,0,1,3,0),mn(0,3,1,-2,0,2,2,0,0,1,5,0),mn(0,3,3,-2,0,3,4,0,0,1,8,0),mn(0,2,4,-1,0,4,5,0,0,1,10,0),mn(0,3,5,-1,0,5,8,0,0,1,14,0),mn(0,3,5,-1,0,6,10,0,0,1,18,0),mn(0,4,5,-2,0,7,10,1,0,2,16,1),mn(0,5,5,-3,0,8,10,1,0,3,14,2),mn(0,5,6,-3,0,9,12,1,0,3,16,2),mn(0,6,6,-3,0,10,14,1,0,4,18,3),mn(0,6,7,-4,0,11,15,1,0,4,20,3),mn(0,7,8,-4,0,12,17,2,0,5,22,4),mn(0,7,8,-4,0,13,19,2,0,5,24,4),mn(0,7,9,-4,0,14,21,2,0,5,26,4),mn(0,8,9,-5,0,15,22,2,0,6,28,5),mn(0,8,10,-5,0,16,24,2,0,6,30,5),mn(0,8,11,-5,0,17,26,2,0,6,32,5),mn(0,9,11,-5,0,18,28,2,0,7,34,6),mn(0,9,12,-6,0,19,29,2,0,7,36,6),mn(0,10,13,-6,0,20,31,3,0,8,38,7),mn(0,10,13,-6,0,21,33,3,0,8,40,7),mn(0,10,14,-6,0,22,35,3,0,8,42,7),mn(0,11,14,-7,0,23,36,3,0,9,44,8),mn(0,11,15,-7,0,24,38,3,0,9,46,8)],gn=["duration","easing","delay"],kn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},bn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wn(e){return"".concat(Math.round(e),"ms")}function _n(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function xn(e){var t=(0,c.Z)({},kn,e.easing),n=(0,c.Z)({},bn,e.duration);return(0,c.Z)({getAutoHeightDuration:_n,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;(0,h.Z)(r,gn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:wn(a)," ").concat(u," ").concat("string"===typeof c?c:wn(c))})).join(",")}},e,{easing:t,duration:n})}var Sn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},En=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,u=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,f=(0,h.Z)(e,En);if(e.vars)throw new Error(a(18));var d=fn(i),p=xe(e),v=k(p,{mixins:Gt(p.breakpoints,n),palette:d,shadows:yn.slice(),typography:vn(d,l),transitions:xn(u),zIndex:(0,c.Z)({},Sn)});v=k(v,f);for(var m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return(v=y.reduce((function(e,t){return k(e,t)}),v)).unstable_sxConfig=(0,c.Z)({},ke,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return we({sx:e,theme:this})},v}var In=Tn(),Cn="$$material";function An(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=Wt(r);return i&&(a=a[i]||a),m({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:In,themeId:Cn})}var Nn=n(433),On=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var Pn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Dn=It((function(e){return On.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Rn=function(e){return"theme"!==e},Mn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Dn:Rn},Ln=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Fn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Pn(t,n,r),jt((function(){return function(e,t,n){Pn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},jn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=Ln(t,n,a),s=u||Mn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Vt((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=l.useContext(zt)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Mt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Rt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Rt(n,t,e[o]),r&&(i+=a[o]);Lt.lastIndex=0;for(var u,s="";null!==(u=Lt.exec(i));)s+="-"+u[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+s;return{name:c,styles:i,next:Mt}}(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?Mn(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,l.createElement(l.Fragment,null,l.createElement(Fn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),l.createElement(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,(0,c.Z)({},n,r,{shouldForwardProp:Ln(m,r,!0)})).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){jn[e]=jn(e)}));var Un=["variant"];function Vn(e){return 0===e.length}function zn(e){var t=e.variant,n=(0,h.Z)(e,Un),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Vn(r)?e[t]:o(e[t]):"".concat(Vn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var Bn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];var qn=function(e){var t={};return e&&e.forEach((function(e){var n=zn(e.props);t[n]=e.style})),t},Wn=function(e,t,n){var r=e.ownerState,i=void 0===r?{}:r,a=[];return n&&n.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){i[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&a.push(t[zn(n.props)])})),a};function Gn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Hn=xe();function Kn(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var Zn=function(e){var t,n=e.styledArg,r=e.props,i=e.defaultTheme,a=e.themeId,o=n((0,c.Z)({},r,{theme:Kn((0,c.Z)({},r,{defaultTheme:i,themeId:a}))}));if(o&&o.variants&&(t=o.variants,delete o.variants),t){var u=Wn(r,qn(t),t);return[o].concat((0,Nn.Z)(u))}return o};var Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?Hn:n,i=e.rootShouldForwardProp,a=void 0===i?Gn:i,o=e.slotShouldForwardProp,u=void 0===o?Gn:o,s=function(e){return we((0,c.Z)({},e,{theme:Kn((0,c.Z)({},e,{defaultTheme:r,themeId:t}))}))};return s.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,o,l=n.name,f=n.slot,d=n.skipVariantsResolver,p=n.skipSx,v=n.overridesResolver,m=void 0===v?(i=(o=f)?o.charAt(0).toLowerCase()+o.slice(1):o)?function(e,t){return t[i]}:null:v,g=(0,h.Z)(n,Bn),b=void 0!==d?d:f&&"Root"!==f&&"root"!==f||!1,w=p||!1;var _=Gn;"Root"===f||"root"===f?_=a:f?_=u:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(_=void 0);var x=function(e,t){return jn(e,t)}(e,(0,c.Z)({shouldForwardProp:_,label:undefined},g)),E=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var u,f=a?a.map((function(e){if("function"===typeof e&&e.__emotion_real!==e)return function(n){return Zn({styledArg:e,props:n,defaultTheme:r,themeId:t})};if(y(e)){var n,i=e;return e&&e.variants&&(n=e.variants,delete i.variants,i=function(t){var r=e;return Wn(t,qn(n),n).forEach((function(e){r=k(r,e)})),r}),i}return e})):[],h=n;y(n)?n&&n.variants&&(u=n.variants,delete h.variants,h=function(e){var t=n;return Wn(e,qn(u),u).forEach((function(e){t=k(t,e)})),t}):"function"===typeof n&&n.__emotion_real!==n&&(h=function(e){return Zn({styledArg:n,props:e,defaultTheme:r,themeId:t})});l&&m&&f.push((function(e){var n=Kn((0,c.Z)({},e,{defaultTheme:r,themeId:t})),i=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(l,n);if(i){var a={};return Object.entries(i).forEach((function(t){var r=(0,S.Z)(t,2),i=r[0],o=r[1];a[i]="function"===typeof o?o((0,c.Z)({},e,{theme:n})):o})),m(e,a)}return null})),l&&!b&&f.push((function(e){var n=Kn((0,c.Z)({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return Wn(e,t,a)}(e,function(e,t){var n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),qn(n)}(l,n),n,l)})),w||f.push(s);var d=f.length-a.length;if(Array.isArray(n)&&d>0){var p=new Array(d).fill("");(h=[].concat((0,Nn.Z)(n),(0,Nn.Z)(p))).raw=[].concat((0,Nn.Z)(n.raw),(0,Nn.Z)(p))}var v=x.apply(void 0,[h].concat((0,Nn.Z)(f)));return e.muiName&&(v.muiName=e.muiName),v};return x.withConfig&&(E.withConfig=x.withConfig),E}}({themeId:Cn,defaultTheme:In,rootShouldForwardProp:function(e){return Gn(e)&&"classes"!==e}}),Qn=Yn,$n={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=$n[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function Xn(e){return Jn("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=Jn(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var er=n(184),tr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},Xn,r)},rr=Qn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:v.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=p.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(i=p.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(o=p.typography)||null==(u=o.pxToRem)?void 0:u.call(o,24))||"1.5rem",large:(null==(s=p.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"}[v.fontSize],color:null!=(l=null==(f=(p.vars||p).palette)||null==(f=f[v.color])?void 0:f.main)?l:{action:null==(h=(p.vars||p).palette)||null==(h=h.action)?void 0:h.active,disabled:null==(d=(p.vars||p).palette)||null==(d=d.action)?void 0:d.disabled,inherit:void 0}[v.color]}})),ir=l.forwardRef((function(e,t){var n=An({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,f=n.fontSize,d=void 0===f?"medium":f,v=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,k=n.viewBox,b=void 0===k?"0 0 24 24":k,w=(0,h.Z)(n,tr),_=l.isValidElement(r)&&"svg"===r.type,x=(0,c.Z)({},n,{color:o,component:s,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:b,hasSvgAsChild:_}),S={};y||(S.viewBox=b);var E=nr(x);return(0,er.jsxs)(rr,(0,c.Z)({as:s,className:p(E.root,i),focusable:"false",color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},S,w,_&&r.props,{ownerState:x,children:[_?r.props.children:r,g?(0,er.jsx)("title",{children:g}):null]}))}));ir.muiName="SvgIcon";var ar=ir;function or(e,t){function n(n,r){return(0,er.jsx)(ar,(0,c.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=ar.muiName,l.memo(l.forwardRef(n))}var ur=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var sr=function(e,t){return function(){return null}};var cr=function(e,t){var n,r;return l.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};function lr(e){return e&&e.ownerDocument||document}var fr=lr;var hr=function(e){return lr(e).defaultView||window};var dr=function(e,t){return function(){return null}};function pr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var vr=pr,mr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,yr=mr,gr=0;var kr=f["useId".toString()];var br=function(e){if(void 0!==kr){var t=kr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(gr+=1))}),[r]),a}(e)};var wr=function(e,t,n,r,i){return null};var _r=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,S.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var xr=function(e){var t=l.useRef(e);return mr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])},Sr=xr;var Er,Tr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){pr(t,e)}))}}),t)},Ir=!0,Cr=!1,Ar={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Nr(e){e.metaKey||e.altKey||e.ctrlKey||(Ir=!0)}function Or(){Ir=!1}function Pr(){"hidden"===this.visibilityState&&Cr&&(Ir=!0)}function Dr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Ir||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Ar[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Rr=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Nr,!0),t.addEventListener("mousedown",Or,!0),t.addEventListener("pointerdown",Or,!0),t.addEventListener("touchstart",Or,!0),t.addEventListener("visibilitychange",Pr,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Dr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Cr=!0,window.clearTimeout(Er),Er=window.setTimeout((function(){Cr=!1}),100),t.current=!1,!0)},ref:e}},Mr={configure:function(e){i.configure(e)}}},764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){return c(e)||l(e,t)||f(e,t)||d()}function c(e){if(Array.isArray(e))return e}function l(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var v="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function m(){}function y(){}y.resetWarningCache=m;var g=function(){function e(e,t,n,r,i,a){if(a!==v){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y,resetWarningCache:m};return n.PropTypes=n,n},k=p((function(e){e.exports=g()})),b=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},w=function(e){return null!==e&&"object"===i(e)},_=function(e){return w(e)&&"function"===typeof e.then},x=function(e){return w(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},S="[object Object]",E=function e(t,n){if(!w(t)||!w(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===S;if(i!==(Object.prototype.toString.call(n)===S))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var u={},s=0;s<a.length;s+=1)u[a[s]]=!0;for(var c=0;c<o.length;c+=1)u[o[c]]=!0;var l=Object.keys(u);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},T=function(e,t,n){return w(e)?Object.keys(e).reduce((function(i,o){var u=!w(t)||!E(e[o],t[o]);return n.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?r(r({},i||{}),{},a({},o,e[o])):i}),null):null},I="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(null===e||x(e))return e;throw new Error(t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(_(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return C(e,t)}))};var n=C(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},N=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.3.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.3.1",url:"https://stripe.com/docs/stripe-js/react"}))},O=["on","session"],P=t.createContext(null);P.displayName="CustomCheckoutSdkContext";var D=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},R=t.createContext(null);R.displayName="CustomCheckoutContext";var M=function(e,t){if(!e)return null;e.on,e.session;var n=u(e,O);return r(r({},n),t||e.session())},L="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",F=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return A(n,L)}),[n]),o=s(t.useState(null),2),u=o[0],c=o[1],l=s(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,customCheckoutSdk:null}})),2),f=l[0],h=l[1],d=function(e,t){h((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==a.tag||f.stripe?"sync"===a.tag&&a.stripe&&!p.current&&(p.current=!0,a.stripe.initCustomCheckout(r).then((function(e){e&&(d(a.stripe,e),e.on("change",c))}))):a.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCustomCheckout(r).then((function(e){e&&(d(t,e),e.on("change",c))})))})),function(){e=!1}}),[a,f,r,c]);var v=b(n);t.useEffect((function(){null!==v&&v!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[v,n]);var m=b(r);t.useEffect((function(){var e,t;if(f.customCheckoutSdk){!r.clientSecret||w(m)||E(r.clientSecret,m.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null===m||void 0===m||null===(e=m.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!E(i,n)&&f.customCheckoutSdk.changeAppearance(i)}}),[r,m,f.customCheckoutSdk]),t.useEffect((function(){N(f.stripe)}),[f.stripe]);var y=t.useMemo((function(){return M(f.customCheckoutSdk,u)}),[f.customCheckoutSdk,u]);return f.customCheckoutSdk?t.createElement(P.Provider,{value:f},t.createElement(R.Provider,{value:y},i)):null};F.propTypes={stripe:k.any,options:k.shape({clientSecret:k.string.isRequired,elementsOptions:k.object}).isRequired};var j=function(e){var n=t.useContext(P);return D(n,e)},U=function(e){var n=t.useContext(P),r=t.useContext(z);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?D(n,e):B(r,e)},V=function(){j("calls useCustomCheckout()");var e=t.useContext(R);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},z=t.createContext(null);z.displayName="ElementsContext";var B=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},q=t.createContext(null);q.displayName="CartElementContext";var W=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},G=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return A(n)}),[n]),o=s(t.useState(null),2),u=o[0],c=o[1],l=s(t.useState(null),2),f=l[0],h=l[1],d=s(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),p=d[0],v=d[1];t.useEffect((function(){var e=!0,t=function(e){v((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||p.stripe?"sync"!==a.tag||p.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,p,r]);var m=b(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[m,n]);var y=b(r);return t.useEffect((function(){if(p.elements){var e=T(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){N(p.stripe)}),[p.stripe]),t.createElement(z.Provider,{value:p},t.createElement(q.Provider,{value:{cart:u,setCart:c,cartState:f,setCartState:h}},i))};G.propTypes={stripe:k.any,options:k.object};var H=function(e){var n=t.useContext(z);return B(n,e)},K={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.useContext(q);return n?K:W(r,e)},Y=function(){return H("calls useElements()").elements},Q=function(){return U("calls useStripe()").stripe},$=function(){return Z("calls useCartElement()").cart},J=function(){return Z("calls useCartElementState()").cartState},X=function(e){return(0,e.children)(H("mounts <ElementsConsumer>"))};X.propTypes={children:k.func.isRequired};var ee=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},te=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ne=function(e,n){var r="".concat(te(e),"Element"),i=n?function(e){var n=U("mounts <".concat(r,">"));Z("mounts <".concat(r,">"),"customCheckoutSdk"in n);var i=e.id,a=e.className;return t.createElement("div",{id:i,className:a})}:function(n){var i,a=n.id,o=n.className,u=n.options,c=void 0===u?{}:u,l=n.onBlur,f=n.onFocus,h=n.onReady,d=n.onChange,p=n.onEscape,v=n.onClick,m=n.onLoadError,y=n.onLoaderStart,g=n.onNetworksChange,k=n.onCheckout,w=n.onLineItemClick,_=n.onConfirm,x=n.onCancel,S=n.onShippingAddressChange,E=n.onShippingRateChange,I=U("mounts <".concat(r,">")),C="elements"in I?I.elements:null,A="customCheckoutSdk"in I?I.customCheckoutSdk:null,N=s(t.useState(null),2),O=N[0],P=N[1],D=t.useRef(null),R=t.useRef(null),M=Z("mounts <".concat(r,">"),"customCheckoutSdk"in I),L=M.setCart,F=M.setCartState;ee(O,"blur",l),ee(O,"focus",f),ee(O,"escape",p),ee(O,"click",v),ee(O,"loaderror",m),ee(O,"loaderstart",y),ee(O,"networkschange",g),ee(O,"lineitemclick",w),ee(O,"confirm",_),ee(O,"cancel",x),ee(O,"shippingaddresschange",S),ee(O,"shippingratechange",E),"cart"===e?i=function(e){F(e),h&&h(e)}:h&&(i="expressCheckout"===e?h:function(){h(O)}),ee(O,"ready",i),ee(O,"change","cart"===e?function(e){F(e),d&&d(e)}:d),ee(O,"checkout","cart"===e?function(e){F(e),k&&k(e)}:k),t.useLayoutEffect((function(){if(null===D.current&&null!==R.current&&(C||A)){var t=null;A?t=A.createElement(e,c):C&&(t=C.create(e,c)),"cart"===e&&L&&L(t),D.current=t,P(t),t&&t.mount(R.current)}}),[C,A,c,L]);var j=b(c);return t.useEffect((function(){if(D.current){var e=T(c,j,["paymentRequest"]);e&&D.current.update(e)}}),[c,j]),t.useLayoutEffect((function(){return function(){if(D.current&&"function"===typeof D.current.destroy)try{D.current.destroy(),D.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:o,ref:R})};return i.propTypes={id:k.string,className:k.string,onChange:k.func,onBlur:k.func,onFocus:k.func,onReady:k.func,onEscape:k.func,onClick:k.func,onLoadError:k.func,onLoaderStart:k.func,onNetworksChange:k.func,onCheckout:k.func,onLineItemClick:k.func,onConfirm:k.func,onCancel:k.func,onShippingAddressChange:k.func,onShippingRateChange:k.func,options:k.object},i.displayName=r,i.__elementType=e,i},re="undefined"===typeof window,ie=t.createContext(null);ie.displayName="EmbeddedCheckoutProviderContext";var ae=function(){var e=t.useContext(ie);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},oe="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ue=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return A(n,oe)}),[n]),o=t.useRef(null),u=t.useRef(null),c=s(t.useState({embeddedCheckout:null}),2),l=c[0],f=c[1];t.useEffect((function(){if(!u.current&&!o.current){var e=function(e){u.current||o.current||(u.current=e,o.current=u.current.initEmbeddedCheckout(r).then((function(e){f({embeddedCheckout:e})})))};"async"===a.tag&&!u.current&&r.clientSecret?a.stripePromise.then((function(t){t&&e(t)})):"sync"===a.tag&&!u.current&&r.clientSecret&&e(a.stripe)}}),[a,r,l,u]),t.useEffect((function(){return function(){l.embeddedCheckout?(o.current=null,l.embeddedCheckout.destroy()):o.current&&o.current.then((function(){o.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()}))}}),[l.embeddedCheckout]),t.useEffect((function(){N(u)}),[u]);var h=b(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var d=b(r);return t.useEffect((function(){null!=d&&(null!=r?(null!=d.clientSecret&&r.clientSecret!==d.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=d.onComplete&&r.onComplete!==d.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[d,r]),t.createElement(ie.Provider,{value:l},i)},se=function(e){var n=e.id,r=e.className,i=ae().embeddedCheckout,a=t.useRef(!1),o=t.useRef(null);return t.useLayoutEffect((function(){return!a.current&&i&&null!==o.current&&(i.mount(o.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:o,id:n,className:r})},ce=function(e){var n=e.id,r=e.className;return ae(),t.createElement("div",{id:n,className:r})},le=re?ce:se,fe=ne("auBankAccount",re),he=ne("card",re),de=ne("cardNumber",re),pe=ne("cardExpiry",re),ve=ne("cardCvc",re),me=ne("fpxBank",re),ye=ne("iban",re),ge=ne("idealBank",re),ke=ne("p24Bank",re),be=ne("epsBank",re),we=ne("payment",re),_e=ne("expressCheckout",re),xe=ne("paymentRequestButton",re),Se=ne("linkAuthentication",re),Ee=ne("address",re),Te=ne("shippingAddress",re),Ie=ne("cart",re),Ce=ne("paymentMethodMessaging",re),Ae=ne("affirmMessage",re),Ne=ne("afterpayClearpayMessage",re);e.AddressElement=Ee,e.AffirmMessageElement=Ae,e.AfterpayClearpayMessageElement=Ne,e.AuBankAccountElement=fe,e.CardCvcElement=ve,e.CardElement=he,e.CardExpiryElement=pe,e.CardNumberElement=de,e.CartElement=Ie,e.CustomCheckoutProvider=F,e.Elements=G,e.ElementsConsumer=X,e.EmbeddedCheckout=le,e.EmbeddedCheckoutProvider=ue,e.EpsBankElement=be,e.ExpressCheckoutElement=_e,e.FpxBankElement=me,e.IbanElement=ye,e.IdealBankElement=ge,e.LinkAuthenticationElement=Se,e.P24BankElement=ke,e.PaymentElement=we,e.PaymentMethodMessagingElement=Ce,e.PaymentRequestButtonElement=xe,e.ShippingAddressElement=Te,e.useCartElement=$,e.useCartElementState=J,e.useCustomCheckout=V,e.useElements=Y,e.useStripe=Q,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(u(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Zn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],b=!1;function w(e,t){var n,r,i,a=k.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,s=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])u(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];s.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(S(t),I[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)u(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=A(r[i])?r[i].call(t,e):r[i];return a}}function q(e,t){return e.isValid()?(t=W(t,e.localeData()),j[t]=j[t]||B(t),j[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Z(){return this._invalidDate}var Y="%d",Q=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)u(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function ue(e){var t,n=[];for(t in e)u(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function se(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&se(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Xe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return A(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=ue(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(A(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,be=/\d{4}/,we=/[+-]?\d{6}/,_e=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Te=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Ae=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,Oe=/Z|[+-]\d\d(?::?\d\d)?/gi,Pe=/[+-]?\d+(\.\d{1,3})?/,De=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){me[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return u(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var je={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)je[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&u(je,e)&&je[e](t,n._a,n,e)}var Be,qe=0,We=1,Ge=2,He=3,Ke=4,Ze=5,Ye=6,Qe=7,$e=8;function Je(e,t){return(e%t+t)%t}function Xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?se(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Re("M",_e),Re("MM",_e,ge),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=De,it=De;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function st(e,t,n){var r,i,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Xe(this.year(),this.month())}function ht(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return se(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Re("Y",Ae),Re("YY",_e,ge),Re("YYYY",Te,be),Re("YYYYY",Ie,we),Re("YYYYYY",Ie,we),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return se(this.year())}function gt(e,t,n,r,i,a,o){var u;return e<100&&e>=0?(u=new Date(e+400,t,n,r,i,a,o),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,n,r,i,a,o),u}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var a,o,u=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return u<=0?o=vt(a=e-1)+u:u>vt(e)?(a=e+1,o=u-vt(e)):(a=e,o=u),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",_e),Re("ww",_e,ge),Re("W",_e),Re("WW",_e,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function Tt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Nt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",_e),Re("e",_e),Re("E",_e),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=De,Ft=De,jt=De;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Zt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],u=[],s=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),u.push(i),s.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),u.sort(e),s.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Xt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,$t),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),ne("hour","h"),oe("hour",13),Re("a",en),Re("A",en),Re("H",_e),Re("h",_e),Re("k",_e),Re("HH",_e,ge),Re("hh",_e,ge),Re("kk",_e,ge),Re("hmm",xe),Re("hmmss",Se),Re("Hmm",xe),Re("Hmmss",Se),Ue(["H","HH"],He),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[He]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[He]=le(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ze]=le(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ze]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,un={calendar:D,longDateFormat:G,invalidDate:K,ordinal:Y,dayOfMonthOrdinalParse:Q,relativeTime:J,months:et,monthsShort:tt,week:Et,weekdays:Dt,weekdaysMin:Mt,weekdaysShort:Rt,meridiemParse:nn},sn={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===sn[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){sn[t]=null}return sn[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=un;if(t.abbr=e,null!=sn[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=sn[e]._config;else if(null!=t.parentLocale)if(null!=sn[t.parentLocale])r=sn[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return sn[e]=new P(O(r,t)),cn[e]&&cn[e].forEach((function(e){mn(e.name,e.config)})),vn(e),sn[e]}return delete sn[e],null}function yn(e,t){if(null!=t){var n,r,i=un;null!=sn[e]&&null!=sn[e].parentLocale?sn[e].set(O(sn[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=sn[e],sn[e]=n),vn(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?(sn[e]=sn[e].parentLocale,e===vn()&&vn(e)):null!=sn[e]&&delete sn[e]);return sn[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function kn(){return T(sn)}function bn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ge]<1||n[Ge]>Xe(n[qe],n[We])?Ge:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ke]||0!==n[Ze]||0!==n[Ye])?He:n[Ke]<0||n[Ke]>59?Ke:n[Ze]<0||n[Ze]>59?Ze:n[Ye]<0||n[Ye]>999?Ye:-1,m(e)._overflowDayOfYear&&(t<qe||t>Ge)&&(t=Ge),m(e)._overflowWeeks&&-1===t&&(t=Qe),m(e)._overflowWeekday&&-1===t&&(t=$e),m(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,r,i,a,o,u=e._i,s=wn.exec(u)||_n.exec(u),c=Sn.length,l=En.length;if(s){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(s[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(s[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(s[3])){a=(s[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(s[4]){if(!xn.exec(s[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),zn(e)}else e._isValid=!1}function Nn(e,t,n,r,i,a){var o=[On(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=In.exec(Pn(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Tn.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[Ge]&&null==e._a[We]&&Vn(e),null!=e._dayOfYear&&(a=Fn(e._a[qe],r[qe]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ke]&&0===e._a[Ze]&&0===e._a[Ye]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,u,s,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Fn(t.GG,e._a[qe],_t(Yn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(s=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t(Yn(),a,o),n=Fn(t.gg,e._a[qe],c.year),r=Fn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(s=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(s=!0)):i=a),r<1||r>xt(n,a,o)?m(e)._overflowWeeks=!0:null!=s?m(e)._overflowWeekday=!0:(u=wt(n,r,i,a,o),e._a[qe]=u.year,e._dayOfYear=u.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,u,s,c=""+e._i,l=c.length,f=0;for(s=(i=W(e._f,e._locale).match(L)||[]).length,t=0;t<s;t++)a=i[t],(n=(c.match(Me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),ze(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-f,c.length>0&&m(e).unusedInput.push(c),e._a[He]<=12&&!0===m(e).bigHour&&e._a[He]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[He]=Bn(e._locale,e._a[He],e._meridiem),null!==(u=m(e).era)&&(e._a[qe]=e._locale.erasConvertYear(u,e._a[qe])),Un(e),bn(e)}else Mn(e);else An(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,u=!1,s=e._f.length;if(0===s)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<s;i++)a=0,o=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,u?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(u=!0));d(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Gn(e){var t=new _(bn(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(bn(t)):(f(t)?e._d=t:a(n)?qn(e):n?zn(e):Kn(e),y(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Wn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Zn(e,t,n,r,i){var u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,Gn(u)}function Yn(e,t,n,r){return Zn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),$n=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Yn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Xn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(u(e,t)&&(-1===Be.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,s=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*s+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function ur(e){return e instanceof or}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Re("Z",Oe),Re("ZZ",Oe),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Oe,e)}));var fr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||f(e)?e.valueOf():Yn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Yn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Dr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Ne,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Yn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Hn(t))._a?(e=t._isUTC?p(t._a):Yn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Tr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return ur(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[Ge])*n,h:le(o[He])*n,m:le(o[Ke])*n,s:le(o[Ze])*n,ms:le(sr(1e3*o[Ye]))*n}):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:Ar(o[2],n),M:Ar(o[3],n),w:Ar(o[4],n),d:Ar(o[5],n),h:Ar(o[6],n),m:Ar(o[7],n),s:Ar(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Or(Yn(a.from),Yn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),ur(e)&&u(e,"_locale")&&(r._locale=e._locale),ur(e)&&u(e,"_isValid")&&(r._isValid=e._isValid),r}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Dr(this,Cr(n,r),e),this}}function Dr(e,t,n,i){var a=t._milliseconds,o=sr(t._days),u=sr(t._months);e.isValid()&&(i=null==i||i,u&&ct(e,he(e,"Month")+u*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||u))}Cr.fn=or.prototype,Cr.invalid=ar;var Rr=Pr(1,"add"),Mr=Pr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Fr(e){return x(e)||f(e)||Lr(e)||l(e)||Ur(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Yn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(A(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Yn(n)))}function qr(){return new _(this)}function Wr(e,t){var n=x(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=x(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Hr(e,t,n,r){var i=x(e)?e:Yn(e),a=x(t)?t:Yn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Kr(e,t){var n,r=x(e)?e:Yn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Zr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Yr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=$r(this,r)/12;break;case"month":a=$r(this,r);break;case"quarter":a=$r(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(x(e)&&e.isValid()||Yn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Yn(),e)}function ii(e,t){return this.isValid()&&(x(e)&&e.isValid()||Yn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Yn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ui=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,hi=3506328*fi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-di(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return y(this)}function Ei(){return d({},m(this))}function Ti(){return m(this).overflow}function Ii(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ai(e,t,n){var r,i,a,o,u,s=this.eras();for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),u=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(u===e)return s[r]}else if([a,o,u].indexOf(e)>=0)return s[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Mi(e){return u(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return u(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return u(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ji(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Ce}function Bi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Wi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return xt(this.year(),1,4)}function Ki(){return xt(this.isoWeekYear(),1,4)}function Zi(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Yi(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var a=wt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Re("N",ji),Re("NN",ji),Re("NNN",ji),Re("NNNN",Ui),Re("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Re("y",Ce),Re("yy",Ce),Re("yyy",Ce),Re("yyyy",Ce),Re("yo",zi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Ae),Re("g",Ae),Re("GG",_e,ge),Re("gg",_e,ge),Re("GGGG",Te,be),Re("gggg",Te,be),Re("GGGGG",Ie,we),Re("ggggg",Ie,we),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Re("Q",ye),Ue("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Re("D",_e),Re("DD",_e,ge),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],Ge),Ue("Do",(function(e,t){t[Ge]=le(e.match(_e)[0])}));var Xi=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",Ee),Re("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Re("m",_e),Re("mm",_e,ge),Ue(["m","mm"],Ke);var ta=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Re("s",_e),Re("ss",_e,ge),Ue(["s","ss"],Ze);var na,ra,ia=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Re("S",Ee,ye),Re("SS",Ee,ge),Re("SSS",Ee,ke),na="SSSS";na.length<=9;na+="S")Re(na,Ce);function aa(e,t){t[Ye]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function oa(){return this._isUTC?"UTC":""}function ua(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var sa=_.prototype;function ca(e){return Yn(1e3*e)}function la(){return Yn.apply(null,arguments).parseZone()}function fa(e){return e}sa.add=Rr,sa.calendar=Br,sa.clone=qr,sa.diff=Qr,sa.endOf=yi,sa.format=ti,sa.from=ni,sa.fromNow=ri,sa.to=ii,sa.toNow=ai,sa.get=pe,sa.invalidAt=Ti,sa.isAfter=Wr,sa.isBefore=Gr,sa.isBetween=Hr,sa.isSame=Kr,sa.isSameOrAfter=Zr,sa.isSameOrBefore=Yr,sa.isValid=Si,sa.lang=ui,sa.locale=oi,sa.localeData=si,sa.max=$n,sa.min=Qn,sa.parsingFlags=Ei,sa.set=ve,sa.startOf=mi,sa.subtract=Mr,sa.toArray=wi,sa.toObject=_i,sa.toDate=bi,sa.toISOString=Xr,sa.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=xi,sa.toString=Jr,sa.unix=ki,sa.valueOf=gi,sa.creationData=Ii,sa.eraName=Oi,sa.eraNarrow=Pi,sa.eraAbbr=Di,sa.eraYear=Ri,sa.year=mt,sa.isLeapYear=yt,sa.weekYear=Wi,sa.isoWeekYear=Gi,sa.quarter=sa.quarters=Ji,sa.month=lt,sa.daysInMonth=ft,sa.week=sa.weeks=Ct,sa.isoWeek=sa.isoWeeks=At,sa.weeksInYear=Zi,sa.weeksInWeekYear=Yi,sa.isoWeeksInYear=Hi,sa.isoWeeksInISOWeekYear=Ki,sa.date=Xi,sa.day=sa.days=Wt,sa.weekday=Gt,sa.isoWeekday=Ht,sa.dayOfYear=ea,sa.hour=sa.hours=rn,sa.minute=sa.minutes=ta,sa.second=sa.seconds=ia,sa.millisecond=sa.milliseconds=ra,sa.utcOffset=vr,sa.utc=yr,sa.local=gr,sa.parseZone=kr,sa.hasAlignedHourOffset=br,sa.isDST=wr,sa.isLocal=xr,sa.isUtcOffset=Sr,sa.isUtc=Er,sa.isUTC=Er,sa.zoneAbbr=oa,sa.zoneName=ua,sa.dates=E("dates accessor is deprecated. Use date instead.",Xi),sa.months=E("months accessor is deprecated. Use month instead",lt),sa.years=E("years accessor is deprecated. Use year instead",mt),sa.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),sa.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var ha=P.prototype;function da(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,u=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)u[i]=da(t,(i+o)%7,r,"day");return u}function ma(e,t){return pa(e,t,"months")}function ya(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}ha.calendar=R,ha.longDateFormat=H,ha.invalidDate=Z,ha.ordinal=$,ha.preparse=fa,ha.postformat=fa,ha.relativeTime=X,ha.pastFuture=ee,ha.set=N,ha.eras=Ci,ha.erasParse=Ai,ha.erasConvertYear=Ni,ha.erasAbbrRegex=Li,ha.erasNameRegex=Mi,ha.erasNarrowRegex=Fi,ha.months=at,ha.monthsShort=ot,ha.monthsParse=st,ha.monthsRegex=dt,ha.monthsShortRegex=ht,ha.week=St,ha.firstDayOfYear=It,ha.firstDayOfWeek=Tt,ha.weekdays=Ut,ha.weekdaysMin=zt,ha.weekdaysShort=Vt,ha.weekdaysParse=qt,ha.weekdaysRegex=Kt,ha.weekdaysShortRegex=Zt,ha.weekdaysMinRegex=Yt,ha.isPM=tn,ha.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var wa=Math.abs;function _a(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function xa(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return xa(this,e,t,1)}function Ea(e,t){return xa(this,e,t,-1)}function Ta(e){return e<0?Math.floor(e):Math.ceil(e)}function Ia(){var e,t,n,r,i,a=this._milliseconds,o=this._days,u=this._months,s=this._data;return a>=0&&o>=0&&u>=0||a<=0&&o<=0&&u<=0||(a+=864e5*Ta(Aa(u)+o),o=0,u=0),s.milliseconds=a%1e3,e=ce(a/1e3),s.seconds=e%60,t=ce(e/60),s.minutes=t%60,n=ce(t/60),s.hours=n%24,o+=ce(n/24),u+=i=ce(Ca(o)),o-=Ta(Aa(i)),r=ce(u/12),u%=12,s.days=o,s.months=u,s.years=r,this}function Ca(e){return 4800*e/146097}function Aa(e){return 146097*e/4800}function Na(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Aa(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Pa(e){return function(){return this.as(e)}}var Da=Pa("ms"),Ra=Pa("s"),Ma=Pa("m"),La=Pa("h"),Fa=Pa("d"),ja=Pa("w"),Ua=Pa("M"),Va=Pa("Q"),za=Pa("y");function Ba(){return Cr(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ga=Wa("milliseconds"),Ha=Wa("seconds"),Ka=Wa("minutes"),Za=Wa("hours"),Ya=Wa("days"),Qa=Wa("months"),$a=Wa("years");function Ja(){return ce(this.days()/7)}var Xa=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),a=Xa(i.as("s")),o=Xa(i.as("m")),u=Xa(i.as("h")),s=Xa(i.as("d")),c=Xa(i.as("M")),l=Xa(i.as("w")),f=Xa(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||s<=1&&["d"]||s<n.d&&["dd",s];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?Xa:"function"===typeof e&&(Xa=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function uo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,u,s=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),f=this.asSeconds();return f?(e=ce(s/60),t=ce(e/60),s%=60,e%=60,n=ce(l/12),l%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=uo(this._months)!==uo(f)?"-":"",o=uo(this._days)!==uo(f)?"-":"",u=uo(this._milliseconds)!==uo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||s?"T":"")+(t?u+t+"H":"")+(e?u+e+"M":"")+(s?u+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=_a,co.add=Sa,co.subtract=Ea,co.as=Na,co.asMilliseconds=Da,co.asSeconds=Ra,co.asMinutes=Ma,co.asHours=La,co.asDays=Fa,co.asWeeks=ja,co.asMonths=Ua,co.asQuarters=Va,co.asYears=za,co.valueOf=Oa,co._bubble=Ia,co.clone=Ba,co.get=qa,co.milliseconds=Ga,co.seconds=Ha,co.minutes=Ka,co.hours=Za,co.days=Ya,co.weeks=Ja,co.months=Qa,co.years=$a,co.humanize=ao,co.toISOString=so,co.toString=so,co.toJSON=so,co.locale=oi,co.localeData=si,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),co.lang=ui,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Re("x",Ae),Re("X",Pe),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Yn),r.fn=sa,r.min=Xn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ma,r.isDate=f,r.locale=vn,r.invalid=g,r.duration=Cr,r.isMoment=x,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=ur,r.monthsShort=ya,r.weekdaysMin=ba,r.defineLocale=mn,r.updateLocale=yn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=zr,r.prototype=sa,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(7)),o=s(n(791)),u=n(432);function s(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:u.noop,onChange:u.noop,onKeyDown:u.noop,onMouseUp:u.noop,onFocus:u.noop,onBlur:u.noop,isAllowed:u.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators().decimalSeparator,n=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-",""));var i=(e=(e.match(n)||[]).join("").replace(t,".")).indexOf(".");return-1!==i&&(e=e.substring(0,i)+"."+e.substring(i+1,e.length).replace(new RegExp((0,u.escapeRegExp)(t),"g"),"")),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,u.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,u.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,u.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var s="-"===e[0];return Math.min(Math.max(t,i.length+(s?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,u.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,u.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,u.charIsNumber)(e[h]));)h-=1;return!(0,u.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),u=(t.match(a)||[]).join(""),s=void 0,c=void 0;for(s=0,c=0;c<n;c++){var l=e[c]||"",f=t[s]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===u.length)){for(;l!==t[s]&&s<t.length;)s++;s++}}return"string"!==typeof r||i||(s=t.length),s=this.correctCaretPosition(t,s)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",u=i===a?e.length:e.indexOf(o,n);if(-1===u){r=e;break}r+=e.substring(n,u),n=u+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case u.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case u.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case u.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),s=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,u.limitToScale)(p,n,r)),s&&(d=this.formatThousand(d,s,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,u.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,u=n.fixedDecimalScale,s=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&u&&t[e]===s))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,u.splitString)(t,e),s=(0,u.splitString)(n,e),c=o[1].lastIndexOf(s[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",u=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(u,o,n);var s=this.formatInput(n)||"",c=this.removeFormatting(s),l={formattedValue:s,value:c,floatValue:parseFloat(c)};a(l)||(s=o),t.value=s;var f=this.getCaretPosition(n,s,u);this.setPatchedCaretPosition(t,f,s),s!==o?this.setState({value:s,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,u.fixLeadingZero)(a);var s=this.formatNumString(a),c={formattedValue:s,value:a,floatValue:parseFloat(a)};if(s!==o)return e.persist(),void this.setState({value:s,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,u=this.props,s=u.decimalScale,c=u.fixedDecimalScale,l=u.prefix,f=u.suffix,h=u.format,d=u.onKeyDown,p=void 0!==s&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,b=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var w="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,w)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<b;)g++;(g!==o||o<k||o>b)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,s=this.state.value,l=(0,u.omit)(this.props,c),f=r({},l,{type:t,value:s,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(s)||null:o.default.createElement("span",l,s);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),u=n(a[1]||"",(i[1]||"").length,r);return o+(u?"."+u:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Ae(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Zt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Zt=null;function Yt(e,t,n,r){if(Zt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Rn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Zn(e){jr(e,0)}function Yn(e){if(K(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Jn=Xn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Oe(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Tr:case Ir:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Zr(o,u,s,l,!1),null!==c&&null!==f&&Zr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Wn(u))if($n)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Xt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Ai=Si(!1),Ni=Ii;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ai),Ei(Ci)}function Ri(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ti(Ci,e)):Ei(Ai),Ti(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Xe,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Gi=null,Hi=0,Ki=[],Zi=0,Yi=null,Qi=1,$i="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Gi,Gi=e,Hi=t}function Xi(e,t,n){Ki[Zi++]=Qi,Ki[Zi++]=$i,Ki[Zi++]=Yi,Yi=e;var r=Qi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Qi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Ki[--Zi],Ki[Zi]=null,$i=Ki[--Zi],Ki[Zi]=null,Qi=Ki[--Zi],Ki[Zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Za(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Mc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Qa=Ya(!0),$a=Ya(!1),Ja={},Xa=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Xa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Xa),Ti(Xa,t)}function io(){Ei(Xa),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Xa.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Xa,n))}function oo(e){eo.current===e&&(Ei(Xa),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=Io(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Qo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Xo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Io().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ia(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Xo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ns.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Wo,useImperativeHandle:Zo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Wo,useImperativeHandle:Zo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?$a(t,null,n,r):Qa(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Iu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Oi(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Mu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Zi++]=Qi,Ki[Zi++]=$i,Ki[Zi++]=Yi,Qi=e.id,$i=e.overflow,Yi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),X(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ms&&(Ms=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Du(e,t),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*$e()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,$u=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Xu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!$u&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,ds(e,t,n),$u=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=$e())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,ms(t,e),$u=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Xu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Xu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Qu;var c=$u;if(Qu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,bs(a,t,n),a=a.sibling;Xu=i,Qu=u,$u=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):ws(e)}}function ws(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function _s(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Ss,Es=Math.ceil,Ts=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Os=null,Ps=0,Ds=0,Rs=Si(0),Ms=0,Ls=null,Fs=0,js=0,Us=0,Vs=null,zs=null,Bs=0,qs=1/0,Ws=null,Gs=!1,Hs=null,Ks=null,Zs=!1,Ys=null,Qs=0,$s=0,Js=null,Xs=-1,ec=0;function tc(){return 0!==(6&As)?$e():-1!==Xs?Xs:Xs=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,r){if(50<$s)throw $s=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(js|=n),4===Ms&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=$e()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ps:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ps===t||(Ws=null,qs=$e()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ts.current=o,As=i,null!==Os?t=0:(Ns=null,Ps=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,dc(e,0),sc(e,r),ic(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ls,dc(e,0),sc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Ws),t);break}_c(e,zs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Ws),r);break}_c(e,zs,Ws);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,dc(e,0),sc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Ws),ic(e,$e()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=$e()+500,Ui&&Bi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&As)&&xc();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Ds=Rs.current,Ei(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Os=e=Rc(e.current,null),Ps=Ds=t,Ms=0,Ls=null,Us=js=Fs=0,zs=Vs=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Ms=1,Ls=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ms&&(Ms=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function vc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function mc(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===Ns||0===(268435455&Fs)&&0===(268435455&js)||sc(Ns,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ps===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Ts.current=r,null!==Os)throw Error(a(261));return Ns=null,Ps=0,Ms}function gc(){for(;null!==Os;)bc(Os)}function kc(){for(;null!==Os&&!Ye();)bc(Os)}function bc(e){var t=Ss(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Os=t,Is.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zu(n,t,Ds)))return void(Os=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Ms=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ms&&(Ms=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ys);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Os=Ns=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zs||(Zs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Is.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Qe(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Zs&&(Zs=!1,Ys=e,Qs=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Hs,Hs=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?$s++:($s=0,Js=e):$s=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==Ys){var e=bt(Qs),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Qs=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(os(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ps&n)===n&&(4===Ms||3===Ms&&(130023424&Ps)===Ps&&500>$e()-Bs?dc(e,0):Us|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ti(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,$e()),0===(6&As)&&(qs=$e()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},813:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,S=n[2]||l,E=y||g;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(S)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},316:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,x=function(){P.postMessage(null)}}else x=function(){y(N,0)};function D(e){E=e,S||(S=!0,x())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(316)},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return at},SDK_VERSION:function(){return bn},_DEFAULT_ENTRY_NAME:function(){return un},_addComponent:function(){return fn},_addOrOverwriteComponent:function(){return hn},_apps:function(){return cn},_clearComponents:function(){return mn},_components:function(){return ln},_getProvider:function(){return pn},_registerComponent:function(){return dn},_removeServiceInstance:function(){return vn},deleteApp:function(){return Sn},getApp:function(){return _n},getApps:function(){return xn},initializeApp:function(){return wn},onLog:function(){return In},registerVersion:function(){return Tn},setLogLevel:function(){return Cn}});var t=n(791);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var a=n(7),o=n.n(a),u=n(462);function s(e){return"/"===e.charAt(0)}function c(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var l=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&s(e),o=t&&s(t),u=a||o;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?c(i,h):".."===d?(c(i,h),f++):f&&(c(i,h),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function f(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var h=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=f(t),i=f(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},d=!0,p="Invariant failed";function v(e,t){if(!e){if(d)throw new Error(p);var n="function"===typeof t?t():t,r=n?"".concat(p,": ").concat(n):p;throw new Error(r)}}function m(e){return"/"===e.charAt(0)?e:"/"+e}function y(e){return"/"===e.charAt(0)?e.substr(1):e}function g(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function k(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function w(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,u.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=l(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function _(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var x=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var E="popstate",T="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),x||v(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?S:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?k(m(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=g(a,h)),w(a,r,n)}function p(){return Math.random().toString(36).substr(2,f)}var y=_();function C(e){(0,u.Z)(V,e),V.length=t.length,y.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(d(e.state))}function N(){P(d(I()))}var O=!1;function P(e){if(O)O=!1,C();else{y.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,L(i))}(e)}))}}var D=d(I()),R=[D.key];function M(e){return h+b(e)}function L(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(E,A),r&&window.addEventListener(T,N)):0===F&&(window.removeEventListener(E,A),r&&window.removeEventListener(T,N))}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:M,push:function(e,r){var i="PUSH",a=w(e,r,p(),V.location);y.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(a.key),R=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=w(e,r,p(),V.location);y.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=y.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=y.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var A="hashchange",N={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+y(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:y,decodePath:m},slash:{encodePath:m,decodePath:m}};function O(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function P(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){window.location.replace(O(window.location.href)+"#"+e)}function R(e){void 0===e&&{},x||v(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?S:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?k(m(e.basename)):"",c=N[o],l=c.encodePath,f=c.decodePath;function h(){var e=f(P());return s&&g(e,s),w(e)}var d=_();function p(e){(0,u.Z)(V,e),V.length=t.length,d.notifyListeners(V.location,V.action)}var y=!1,E=null;function T(){var e=P(),t=l(e);if(e!==t)D(t);else{var n=h(),r=V.location;if(!y&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(E===b(n))return;null,function(e){if(y)!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=V.location,n=M.lastIndexOf(b(t));-1===n&&0;var r=M.lastIndexOf(b(e));-1===r&&0;var i=n-r;i&&(!0,L(i))}(e)}))}}(n)}}var I=P(),C=l(I);I!==C&&D(C);var R=h(),M=[b(R)];function L(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(A,T):0===F&&window.removeEventListener(A,T)}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&O(window.location.href),n+"#"+l(s+b(e))},push:function(e,t){var n="PUSH",r=w(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=b(r),i=l(s+t);if(P()!==i){t,function(e){window.location.hash=e}(i);var a=M.lastIndexOf(b(V.location)),o=M.slice(0,a+1);o.push(t),o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=w(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=b(r),i=l(s+t);P()!==i&&(t,D(i));var a=M.indexOf(b(V.location));-1!==a&&(M[a]=t),p({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&!1;var t=d.setPrompt(e);return U||(j(1),!0),function(){return U&&(!1,j(-1)),t()}},listen:function(e){var t=d.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function M(e,t,n){return Math.min(Math.max(e,t),n)}var L=n(813),F=n.n(L),j=(n(228),n(366)),U=(n(110),1073741823),V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var z=t.createContext||function(e,n){var r,a,u="__create-react-context-"+function(){var e="__global_unique_id__";return V[e]=(V[e]||0)+1}()+"__",s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}i(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[u]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):U,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[u]=o().object.isRequired,r);var c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}i(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?U:t},r.componentDidMount=function(){this.context[u]&&this.context[u].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?U:e},r.componentWillUnmount=function(){this.context[u]&&this.context[u].off(this.onUpdate)},r.getValue=function(){return this.context[u]?this.context[u].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return c.contextTypes=((a={})[u]=o().object,a),{Provider:s,Consumer:c}},B=function(e){var t=z();return t.displayName=e,t},q=B("Router-History"),W=B("Router"),G=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}i(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(W.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(q.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var H=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var K={},Z=1e4,Y=0;function Q(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(K[e])return K[e];var t=F().compile(e);return Y<Z&&(K[e]=t,Y++),t}(e)(t,{pretty:!0})}function $(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(W.Consumer,null,(function(e){e||v(!1);var i=e.history,o=e.staticContext,s=a?i.push:i.replace,c=w(n?"string"===typeof r?Q(r,n.params):(0,u.Z)({},r,{pathname:Q(r.pathname,n.params)}):r);return o?(s(c),null):t.createElement(H,{onMount:function(){s(c)},onUpdate:function(e,t){var n=w(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&h(e.state,t.state)})(n,(0,u.Z)({},c,{key:n.key}))||s(c)},to:r})}))}var J={},X=1e4,ee=0;function te(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=J[n]||(J[n]={});if(r[e])return r[e];var i=[],a={regexp:F()(e,i,t),keys:i};return ee<X&&(r[e]=a,ee++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ne=function(e){function n(){return e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){var e=this;return t.createElement(W.Consumer,null,(function(n){n||v(!1);var r=e.props.location||n.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?te(r.pathname,e.props):n.match,a=(0,u.Z)({},n,{location:r,match:i}),o=e.props,s=o.children,c=o.component,l=o.render;return Array.isArray(s)&&function(e){return 0===t.Children.count(e)}(s)&&(s=null),t.createElement(W.Provider,{value:a},a.match?s?"function"===typeof s?s(a):s:c?t.createElement(c,a):l?l(a):null:"function"===typeof s?s(a):null)}))},n}(t.Component);function re(e){return"/"===e.charAt(0)?e:"/"+e}function ie(e,t){if(!e)return t;var n=re(e);return 0!==t.pathname.indexOf(n)?t:(0,u.Z)({},t,{pathname:t.pathname.substr(n.length)})}function ae(e){return"string"===typeof e?e:b(e)}function oe(e){return function(){v(!1)}}function ue(){}t.Component;var se=function(e){function n(){return e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){var e=this;return t.createElement(W.Consumer,null,(function(n){n||v(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?te(a.pathname,(0,u.Z)({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var ce=t.useContext;function le(){return ce(q)}var fe=n(439),he=(0,t.createContext)(),de=n(184),pe=function(e){var n=e.id,r=e.image,i=e.title,a=e.rating,o=e.price,u=(0,t.useContext)(he).addToBasket;return(0,de.jsxs)("div",{className:"product",children:[(0,de.jsx)("img",{src:r,alt:""}),(0,de.jsxs)("div",{className:"product_info",children:[(0,de.jsx)("p",{children:i}),(0,de.jsx)("div",{className:"product_rating",children:Array(a).fill().map((function(e,t){return(0,de.jsx)("p",{children:"\u2b50"},t)}))}),(0,de.jsx)("p",{className:"product_price",children:"$"+o})]}),(0,de.jsx)("button",{className:"product_button",onClick:function(){u({item:{id:n,image:r,title:i,rating:a,price:o}})},children:"Add to basket"})]},n)},ve=function(){var e=(0,t.useState)(null),n=(0,fe.Z)(e,2),r=n[0],i=n[1],a=function(e){i(e)},o=[{id:"1",title:"Apple iPhone 11",image:"https://d28i4xct2kl5lp.cloudfront.net/product_images/78877_cbe0138e-899f-457b-b3a9-423b8fac2599.jpg",alt:"iphone",rating:4,price:59.99,category:"phones"},{id:"2",title:"Samsung Galaxy S23+ 512GB Dual Sim 5G",image:"https://thefoschini.vtexassets.com/arquivos/ids/101034439-800-800?v=638366241854600000&width=800&height=800&aspect=true",alt:"samsung",rating:5,price:89.99,category:"phones"},{id:"3",title:"Samsung 75 inch Au7000 Uhd 4K Tv",image:"https://thefoschini.vtexassets.com/arquivos/ids/100949808-800-800?v=638365640995670000&width=800&height=800&aspect=true",alt:"plasma-screen",rating:5,price:60.99,category:"tv"},{id:"4",title:"Roku Express 4K+ | Roku Streaming Device 4K/HDR, Roku Voice Remote, Free & Live TV",image:"https://altechelectronics.org/wp-content/uploads/2021/06/samsung-galaxy-tab-s7-124-inch-android-tablet-128gb-wi-fi-bluetooth-s-pen-1536x1536.jpg",alt:"",rating:3,price:28.99,category:"streaming"},{id:"5",title:"Lenovo IdeaPad Flex 5 14\u2033 Touch Laptop \u2013 Core i7, 16GB RAM, 512GB SSD, Win 11 Home",image:"https://tech.co.za/wp-content/uploads/2023/01/IdeaPad-Flex-5-14IAU7a-768x576.png",alt:"tablet",rating:10,price:59.99,category:"laptop"}],u=r?o.filter((function(e){return e.category===r})):o;return(0,de.jsxs)(de.Fragment,{children:[(0,de.jsxs)("div",{className:"filter_buttons",children:[(0,de.jsx)("button",{onClick:function(){return a(null)},children:"All"}),(0,de.jsx)("button",{onClick:function(){return a("phones")},children:"Phones"}),(0,de.jsx)("button",{onClick:function(){return a("tv")},children:"TV"}),(0,de.jsx)("button",{onClick:function(){return a("streaming")},children:"Streaming"}),(0,de.jsx)("button",{onClick:function(){return a("laptop")},children:"Laptop"})]}),(0,de.jsx)("div",{className:"products_row",children:u.map((function(e){return(0,de.jsx)(pe,{id:e.id,title:e.title,image:e.image,alt:e.alt,rating:e.rating,price:e.price},e.id)}))})]})},me=function(){return(0,de.jsx)("div",{className:"home",children:(0,de.jsx)("div",{className:"home_container",children:(0,de.jsx)(ve,{})})})},ye=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=C(t.props),t}return i(n,e),n.prototype.render=function(){return t.createElement(G,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ge=function(e,t){return"function"===typeof e?e(t):e},ke=function(e,t){return"string"===typeof e?w(e,null,null,t):e},be=function(e){return e},we=t.forwardRef;"undefined"===typeof we&&(we=be);var _e=we((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=(0,j.Z)(e,["innerRef","navigate","onClick"]),s=o.target,c=(0,u.Z)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=be!==we&&n||r,t.createElement("a",c)}));var xe=we((function(e,n){var r=e.component,i=void 0===r?_e:r,a=e.replace,o=e.to,s=e.innerRef,c=(0,j.Z)(e,["component","replace","to","innerRef"]);return t.createElement(W.Consumer,null,(function(e){e||v(!1);var r=e.history,l=ke(ge(o,e.location),e.location),f=l?r.createHref(l):"",h=(0,u.Z)({},c,{href:f,navigate:function(){var t=ge(o,e.location),n=b(e.location)===b(ke(t));(a||n?r.replace:r.push)(t)}});return be!==we?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),Se=function(e){return e},Ee=t.forwardRef;"undefined"===typeof Ee&&(Ee=Se);Ee((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,d=e.sensitive,p=e.strict,m=e.style,y=e.to,g=e.innerRef,k=(0,j.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(W.Consumer,null,(function(e){e||v(!1);var r=h||e.location,a=ke(ge(y,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?te(r.pathname,{path:w,exact:l,sensitive:d,strict:p}):null,x=!!(f?f(_,r):_),S="function"===typeof c?c(x):c,E="function"===typeof m?m(x):m;x&&(S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(S,o),E=(0,u.Z)({},E,s));var T=(0,u.Z)({"aria-current":x&&i||null,className:S,style:E,to:a},k);return Se!==Ee?T.ref=n||g:T.innerRef=g,t.createElement(xe,T)}))}));var Te=n(303),Ie=n(942);function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ae=n(142);function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,Ae.Z)(r.key),r)}}function Oe(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Pe=n(181);function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Pe.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function Fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var je=n(2);function Ue(e){var t=Fe();return function(){var n,r=Le(e);if(t){var i=Le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,je.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}(this,n)}}function Ve(e,t,n){return Ve=Fe()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},Ve.apply(null,arguments)}function ze(e){var t="function"===typeof Map?new Map:void 0;return ze=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ve(e,arguments,Le(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r(n,e)},ze(e)}var Be=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Be(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new We;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},We=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Oe(n)}(ze(Error)),Ge=function(e){return function(e){var t=Be(e);return qe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},He=function(e){try{return qe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ke(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ze(n)&&(e[n]=Ke(e[n],t[n]));return e}function Ze(e){return"__proto__"!==e}var Ye=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Qe=function(){try{return Ye()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&He(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},$e=function(){var e;return null===(e=Qe())||void 0===e?void 0:e.config},Je=function(){function e(){var t=this;Ce(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Oe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function et(){var e,t=null===(e=Qe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function tt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function nt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function rt(){var e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function it(){try{return"object"===typeof indexedDB}catch(e){return!1}}var at=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Re(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Re(a),ot.prototype.create),a}return Oe(n)}(ze(Error)),ot=function(){function e(t,n,r){Ce(this,e),this.service=t,this.serviceName=n,this.errors=r}return Oe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ut,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new at(n,a,t)}}]),e}();var ut=/\{\$([^}]+)}/g;function st(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ct(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function lt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ft(u)&&ft(s)){if(!lt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ft(e){return null!==e&&"object"===typeof e}function ht(e){for(var t=[],n=function(){var e=(0,fe.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function dt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,fe.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function pt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vt(e,t){var n=new mt(e,t);return n.subscribe.bind(n)}var mt=function(){function e(t,n){var r=this;Ce(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Oe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=De(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=yt),void 0===r.error&&(r.error=yt),void 0===r.complete&&(r.complete=yt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function yt(){}function gt(e){return e&&e._delegate?e._delegate:e}function kt(){kt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),u=new N(r||[]);return i(o,"_invoke",{value:T(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function k(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&r.call(_,o)&&(b=_);var x=k.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=f(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==(0,je.Z)(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=I(u,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError((0,je.Z)(t)+" is not iterable")}return g.prototype=k,i(x,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:g,configurable:!0}),g.displayName=c(k,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}var bt=n(433);function wt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function _t(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){wt(a,r,i,o,u,"next",e)}function u(e){wt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var xt=function(){function e(t,n,r){Ce(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Oe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),St="[DEFAULT]",Et=function(){function e(t,n){Ce(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Oe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Je;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:St})}catch(s){}var t,n=De(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,fe.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,bt.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,bt.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=De(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,fe.Z)(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===St?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return this.component?this.component.multipleInstances?e:St:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Tt,It,Ct=function(){function e(t){Ce(this,e),this.name=t,this.providers=new Map}return Oe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Et(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),At=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(It||(It={}));var Nt={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},Ot=It.INFO,Pt=(Tt={},(0,Ie.Z)(Tt,It.DEBUG,"log"),(0,Ie.Z)(Tt,It.VERBOSE,"log"),(0,Ie.Z)(Tt,It.INFO,"info"),(0,Ie.Z)(Tt,It.WARN,"warn"),(0,Ie.Z)(Tt,It.ERROR,"error"),Tt),Dt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Pt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Rt=function(){function e(t){Ce(this,e),this.name=t,this._logLevel=Ot,this._logHandler=Dt,this._userLogHandler=null,At.push(this)}return Oe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in It))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Nt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,It.DEBUG].concat(t)),this._logHandler.apply(this,[this,It.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,It.VERBOSE].concat(t)),this._logHandler.apply(this,[this,It.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,It.INFO].concat(t)),this._logHandler.apply(this,[this,It.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,It.WARN].concat(t)),this._logHandler.apply(this,[this,It.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,It.ERROR].concat(t)),this._logHandler.apply(this,[this,It.ERROR].concat(t))}}]),e}();function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,Ie.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft,jt,Ut=function(e,t){return t.some((function(t){return e instanceof t}))};var Vt=new WeakMap,zt=new WeakMap,Bt=new WeakMap,qt=new WeakMap,Wt=new WeakMap;var Gt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ht(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(jt||(jt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yt(this),n),Zt(Vt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(e.apply(Yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Yt(this),t].concat(r));return Bt.set(a,t.sort?t.sort():[t]),Zt(a)}}function Kt(e){return"function"===typeof e?Ht(e):(e instanceof IDBTransaction&&function(e){if(!zt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));zt.set(e,t)}}(e),Ut(e,Ft||(Ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Gt):e)}function Zt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Zt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Vt.set(t,e)})).catch((function(){})),Wt.set(t,e),t}(e);if(qt.has(e))return qt.get(e);var t=Kt(e);return t!==e&&(qt.set(e,t),Wt.set(t,e)),t}var Yt=function(e){return Wt.get(e)};var Qt,$t,Jt=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],en=new Map;function tn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(en.get(t))return en.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Xt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Jt.includes(n))){var a=function(){var e=_t(kt().mark((function e(t){var a,o,u,s,c,l,f=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return en.set(t,a),a}}}Gt=function(e){return Lt(Lt({},e),{},{get:function(t,n,r){return tn(t,n)||e.get(t,n,r)},has:function(t,n){return!!tn(t,n)||e.has(t,n)}})}(Gt);var nn=function(){function e(t){Ce(this,e),this.container=t}return Oe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var rn="@firebase/app",an="0.9.20",on=new Rt("@firebase/app"),un="[DEFAULT]",sn=(Qt={},(0,Ie.Z)(Qt,rn,"fire-core"),(0,Ie.Z)(Qt,"@firebase/app-compat","fire-core-compat"),(0,Ie.Z)(Qt,"@firebase/analytics","fire-analytics"),(0,Ie.Z)(Qt,"@firebase/analytics-compat","fire-analytics-compat"),(0,Ie.Z)(Qt,"@firebase/app-check","fire-app-check"),(0,Ie.Z)(Qt,"@firebase/app-check-compat","fire-app-check-compat"),(0,Ie.Z)(Qt,"@firebase/auth","fire-auth"),(0,Ie.Z)(Qt,"@firebase/auth-compat","fire-auth-compat"),(0,Ie.Z)(Qt,"@firebase/database","fire-rtdb"),(0,Ie.Z)(Qt,"@firebase/database-compat","fire-rtdb-compat"),(0,Ie.Z)(Qt,"@firebase/functions","fire-fn"),(0,Ie.Z)(Qt,"@firebase/functions-compat","fire-fn-compat"),(0,Ie.Z)(Qt,"@firebase/installations","fire-iid"),(0,Ie.Z)(Qt,"@firebase/installations-compat","fire-iid-compat"),(0,Ie.Z)(Qt,"@firebase/messaging","fire-fcm"),(0,Ie.Z)(Qt,"@firebase/messaging-compat","fire-fcm-compat"),(0,Ie.Z)(Qt,"@firebase/performance","fire-perf"),(0,Ie.Z)(Qt,"@firebase/performance-compat","fire-perf-compat"),(0,Ie.Z)(Qt,"@firebase/remote-config","fire-rc"),(0,Ie.Z)(Qt,"@firebase/remote-config-compat","fire-rc-compat"),(0,Ie.Z)(Qt,"@firebase/storage","fire-gcs"),(0,Ie.Z)(Qt,"@firebase/storage-compat","fire-gcs-compat"),(0,Ie.Z)(Qt,"@firebase/firestore","fire-fst"),(0,Ie.Z)(Qt,"@firebase/firestore-compat","fire-fst-compat"),(0,Ie.Z)(Qt,"fire-js","fire-js"),(0,Ie.Z)(Qt,"firebase","fire-js-all"),Qt),cn=new Map,ln=new Map;function fn(e,t){try{e.container.addComponent(t)}catch(n){on.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function hn(e,t){e.container.addOrOverwriteComponent(t)}function dn(e){var t=e.name;if(ln.has(t))return on.debug("There were multiple attempts to register component ".concat(t,".")),!1;ln.set(t,e);var n,r=De(cn.values());try{for(r.s();!(n=r.n()).done;){fn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:un;pn(e,t).clearInstance(n)}function mn(){ln.clear()}var yn=($t={},(0,Ie.Z)($t,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,Ie.Z)($t,"bad-app-name","Illegal App name: '{$appName}"),(0,Ie.Z)($t,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Ie.Z)($t,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Ie.Z)($t,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,Ie.Z)($t,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Ie.Z)($t,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Ie.Z)($t,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,Ie.Z)($t,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,Ie.Z)($t,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,Ie.Z)($t,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),$t),gn=new ot("app","Firebase",yn),kn=function(){function e(t,n,r){var i=this;Ce(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",(function(){return i}),"PUBLIC"))}return Oe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}]),e}(),bn="10.5.0";function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:un,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gn.create("bad-app-name",{appName:String(i)});if(n||(n=$e()),!n)throw gn.create("no-options");var a=cn.get(i);if(a){if(lt(n,a.options)&&lt(r,a.config))return a;throw gn.create("duplicate-app",{appName:i})}var o,u=new Ct(i),s=De(ln.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new kn(n,r,u);return cn.set(i,l),l}function _n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=cn.get(e);if(!t&&e===un&&$e())return wn();if(!t)throw gn.create("no-app",{appName:e});return t}function xn(){return Array.from(cn.values())}function Sn(e){return En.apply(this,arguments)}function En(){return(En=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!cn.has(n)){e.next=6;break}return cn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t,n){var r,i=null!==(r=sn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void on.warn(u.join(" "))}dn(new xt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function In(e,t){if(null!==e&&"function"!==typeof e)throw gn.create("invalid-log-argument");!function(e,t){var n,r=De(At);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Nt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:It[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Cn(e){var t;t=e,At.forEach((function(e){e.setLogLevel(t)}))}var An="firebase-heartbeat-database",Nn=1,On="firebase-heartbeat-store",Pn=null;function Dn(){return Pn||(Pn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Zt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Zt(u.result),e.oldVersion,e.newVersion,Zt(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(An,Nn,{upgrade:function(e,t){if(0===t)e.createObjectStore(On)}}).catch((function(e){throw gn.create("idb-open",{originalErrorMessage:e.message})}))),Pn}function Rn(e){return Mn.apply(this,arguments)}function Mn(){return Mn=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn();case 3:return n=e.sent,e.next=6,n.transaction(On).objectStore(On).get(jn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof at?on.warn(e.t0.message):(i=gn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),on.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Mn.apply(this,arguments)}function Ln(e,t){return Fn.apply(this,arguments)}function Fn(){return Fn=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn();case 3:return r=e.sent,i=r.transaction(On,"readwrite"),a=i.objectStore(On),e.next=8,a.put(n,jn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof at?on.warn(e.t0.message):(o=gn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),on.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Fn.apply(this,arguments)}function jn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Un=function(){function e(t){var n=this;Ce(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Wn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Oe(e,[{key:"triggerHeartbeat",value:function(){var e=_t(kt().mark((function e(){var t,n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Vn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Vn(),n=zn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ge(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vn(){return(new Date).toISOString().substring(0,10)}function zn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=De(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gn(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Gn(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Bn,qn,Wn=function(){function e(t){Ce(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Oe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(it()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Rn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,bt.Z)(r.heartbeats),(0,bt.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gn(e){return Ge(JSON.stringify({version:2,heartbeats:e})).length}Bn="",dn(new xt("platform-logger",(function(e){return new nn(e)}),"PRIVATE")),dn(new xt("heartbeat",(function(e){return new Un(e)}),"PRIVATE")),Tn(rn,an,Bn),Tn(rn,an,"esm2017"),Tn("fire-js","");var Hn=function(){function e(t,n){var r=this;Ce(this,e),this._delegate=t,this.firebase=n,fn(t,new xt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Oe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Sn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){fn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){hn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Kn=(qn={},(0,Ie.Z)(qn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ie.Z)(qn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qn),Zn=new ot("app-compat","Firebase",Kn);var Yn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(st(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Tn,setLogLevel:Cn,onLog:In,apps:null,SDK_VERSION:bn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(dn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Zn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ke(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!st(n,e=e||un))throw Zn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Hn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ke(n,e)},createSubscribe:vt,ErrorFactory:ot,deepExtend:Ke}),n}(),Qn=new Rt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Qn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $n=self.firebase.SDK_VERSION;$n&&$n.indexOf("LITE")>=0&&Qn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Jn=Yn;!function(e){Tn("@firebase/app-compat","0.2.20",e)}();Jn.registerVersion("firebase","10.5.0","app-compat");var Xn=n(878),er=n(199),tr=n(267);function nr(){return nr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nr.apply(this,arguments)}function rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ir,ar={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},or="EMAIL_SIGNIN",ur="PASSWORD_RESET",sr="RECOVER_EMAIL",cr="REVERT_SECOND_FACTOR_ADDITION",lr="VERIFY_AND_CHANGE_EMAIL",fr="VERIFY_EMAIL";function hr(e){return void 0!==e&&void 0!==e.getResponse}function dr(e){return void 0!==e&&void 0!==e.enterprise}var pr=Oe((function e(t){if(Ce(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function vr(){return(0,Ie.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var mr=function(){var e;return e={},(0,Ie.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Ie.Z)(e,"argument-error",""),(0,Ie.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Ie.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Ie.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Ie.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Ie.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Ie.Z)(e,"cors-unsupported","This browser is not supported."),(0,Ie.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Ie.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Ie.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Ie.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Ie.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Ie.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Ie.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Ie.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Ie.Z)(e,"expired-action-code","The action code has expired."),(0,Ie.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Ie.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Ie.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Ie.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Ie.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Ie.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Ie.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Ie.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Ie.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Ie.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Ie.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Ie.Z)(e,"invalid-email","The email address is badly formatted."),(0,Ie.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Ie.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Ie.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Ie.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Ie.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ie.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Ie.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Ie.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Ie.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Ie.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Ie.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Ie.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Ie.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Ie.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Ie.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Ie.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ie.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Ie.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Ie.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Ie.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Ie.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Ie.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Ie.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Ie.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Ie.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Ie.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Ie.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Ie.Z)(e,"missing-password","A non-empty password must be provided"),(0,Ie.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Ie.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Ie.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Ie.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Ie.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Ie.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Ie.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Ie.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Ie.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Ie.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Ie.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Ie.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Ie.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Ie.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Ie.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Ie.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Ie.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Ie.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Ie.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Ie.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Ie.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Ie.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Ie.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Ie.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Ie.Z)(e,"timeout","The operation has timed out."),(0,Ie.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Ie.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Ie.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Ie.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Ie.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Ie.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Ie.Z)(e,"unverified-email","The operation requires a verified email."),(0,Ie.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Ie.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Ie.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Ie.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Ie.Z)(e,"user-signed-out",""),(0,Ie.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Ie.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Ie.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,Ie.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,Ie.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,Ie.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,Ie.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,Ie.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,Ie.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,Ie.Z)(e,"invalid-req-type","Invalid request parameters."),(0,Ie.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),(0,Ie.Z)(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),(0,Ie.Z)(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},yr=vr,gr=new ot("auth","Firebase",vr()),kr=new Rt("@firebase/auth");function br(e){if(kr.logLevel<=It.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kr.warn.apply(kr,["Auth (".concat(bn,"): ").concat(e)].concat(n))}}function wr(e){if(kr.logLevel<=It.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kr.error.apply(kr,["Auth (".concat(bn,"): ").concat(e)].concat(n))}}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tr.apply(void 0,[e].concat(n))}function xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tr.apply(void 0,[e].concat(n))}function Sr(e,t,n){var r=Object.assign(Object.assign({},yr()),(0,Ie.Z)({},t,n));return new ot("auth","Firebase",r).create(t,{appName:e.name})}function Er(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_r(e,"argument-error"),Sr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,bt.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,bt.Z)(o)))}return gr.create.apply(gr,[e].concat(n))}function Ir(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Tr.apply(void 0,[t].concat(r))}}function Cr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw wr(t),new Error(t)}function Ar(e,t){e||Cr(t)}function Nr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Or(){return"http:"===Pr()||"https:"===Pr()}function Pr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Dr=function(){function e(t,n){Ce(this,e),this.shortDelay=t,this.longDelay=n,Ar(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||nt()}return Oe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Or()||tt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Rr(e,t){Ar(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mr=function(){function e(){Ce(this,e)}return Oe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Lr=(ir={},(0,Ie.Z)(ir,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Ie.Z)(ir,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Ie.Z)(ir,"INVALID_IDENTIFIER","invalid-email"),(0,Ie.Z)(ir,"MISSING_CONTINUE_URI","internal-error"),(0,Ie.Z)(ir,"INVALID_PASSWORD","wrong-password"),(0,Ie.Z)(ir,"MISSING_PASSWORD","missing-password"),(0,Ie.Z)(ir,"EMAIL_EXISTS","email-already-in-use"),(0,Ie.Z)(ir,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Ie.Z)(ir,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Ie.Z)(ir,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Ie.Z)(ir,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Ie.Z)(ir,"MISSING_REQ_TYPE","internal-error"),(0,Ie.Z)(ir,"EMAIL_NOT_FOUND","user-not-found"),(0,Ie.Z)(ir,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Ie.Z)(ir,"EXPIRED_OOB_CODE","expired-action-code"),(0,Ie.Z)(ir,"INVALID_OOB_CODE","invalid-action-code"),(0,Ie.Z)(ir,"MISSING_OOB_CODE","internal-error"),(0,Ie.Z)(ir,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Ie.Z)(ir,"INVALID_ID_TOKEN","invalid-user-token"),(0,Ie.Z)(ir,"TOKEN_EXPIRED","user-token-expired"),(0,Ie.Z)(ir,"USER_NOT_FOUND","user-token-expired"),(0,Ie.Z)(ir,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Ie.Z)(ir,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),(0,Ie.Z)(ir,"INVALID_CODE","invalid-verification-code"),(0,Ie.Z)(ir,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Ie.Z)(ir,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Ie.Z)(ir,"MISSING_SESSION_INFO","missing-verification-id"),(0,Ie.Z)(ir,"SESSION_EXPIRED","code-expired"),(0,Ie.Z)(ir,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Ie.Z)(ir,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Ie.Z)(ir,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Ie.Z)(ir,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Ie.Z)(ir,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Ie.Z)(ir,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Ie.Z)(ir,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Ie.Z)(ir,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Ie.Z)(ir,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Ie.Z)(ir,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Ie.Z)(ir,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,Ie.Z)(ir,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,Ie.Z)(ir,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,Ie.Z)(ir,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,Ie.Z)(ir,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,Ie.Z)(ir,"MISSING_CLIENT_TYPE","missing-client-type"),(0,Ie.Z)(ir,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,Ie.Z)(ir,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,Ie.Z)(ir,"INVALID_REQ_TYPE","invalid-req-type"),ir),Fr=new Dr(3e4,6e4);function jr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ur(e,t,n,r){return Vr.apply(this,arguments)}function Vr(){return Vr=_t(kt().mark((function e(t,n,r,i){var a,o=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zr(t,a,_t(kt().mark((function e(){var a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ht(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Mr.fetch()(Gr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}function zr(e,t,n){return Br.apply(this,arguments)}function Br(){return Br=_t(kt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Lr),n),e.prev=2,a=new Hr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Kr(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,fe.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Kr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Kr(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Kr(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Sr(t,d,h);case 34:_r(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof at)){e.next=41;break}throw e.t0;case 41:_r(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Br.apply(this,arguments)}function qr(e,t,n,r){return Wr.apply(this,arguments)}function Wr(){return Wr=_t(kt().mark((function e(t,n,r,i){var a,o,u=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ur(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&_r(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Gr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Rr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Hr=function(){function e(t){var n=this;Ce(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(xr(n.auth,"network-request-failed"))}),Fr.get())}))}return Oe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Kr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=xr(e,t,r);return i.customData._tokenResponse=n,i}function Zr(e){return Yr.apply(this,arguments)}function Yr(){return Yr=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}function Qr(e,t){return $r.apply(this,arguments)}function $r(){return $r=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"GET","/v2/recaptchaConfig",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Jr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ai(){return ai=_t(kt().mark((function e(t){var n,r,i,a,o,u,s=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=gt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ir((a=ui(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ii(oi(a.auth_time)),issuedAtTime:ii(oi(a.iat)),expirationTime:ii(oi(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e){return 1e3*Number(e)}function ui(e){var t=e.split("."),n=(0,fe.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return wr("JWT malformed, contained fewer than 3 sections"),null;try{var o=He(i);return o?JSON.parse(o):(wr("Failed to decode base64 JWT payload"),null)}catch(u){return wr("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function si(e,t){return ci.apply(this,arguments)}function ci(){return ci=_t(kt().mark((function e(t,n){var r=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof at&&li(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ci.apply(this,arguments)}function li(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var fi=function(){function e(t){Ce(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Oe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),hi=function(){function e(t,n){Ce(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Oe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function di(e){return pi.apply(this,arguments)}function pi(){return pi=_t(kt().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,si(t,ni(r,{idToken:i}));case 6:Ir(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=rr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=mi(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new hi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(){return(vi=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gt(t),e.next=3,di(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,bt.Z)(n),(0,bt.Z)(t))}function yi(e,t){return gi.apply(this,arguments)}function gi(){return gi=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr(t,{},_t(kt().mark((function e(){var r,i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ht({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Gr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Mr.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}var ki=function(){function e(){Ce(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Oe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ir(e.idToken,"internal-error"),Ir("undefined"!==typeof e.idToken,"internal-error"),Ir("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ui(e);return Ir(t,"internal-error"),Ir("undefined"!==typeof t.exp,"internal-error"),Ir("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=_t(kt().mark((function e(t){var n,r=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ir(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Cr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ir("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ir("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ir("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function bi(e,t){Ir("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var wi=function(){function e(t){Ce(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=rr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,bt.Z)(a.providerData):[],this.metadata=new hi(a.createdAt||void 0,a.lastLoginAt||void 0)}return Oe(e,[{key:"getIdToken",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ir(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ai.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return vi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ir(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=_t(kt().mark((function e(t){var n,r,i=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,di(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,si(this,Jr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Ir(k&&x,t,"internal-error");var S=ki.fromJSON(this.name,x);Ir("string"===typeof k,t,"internal-error"),bi(f,t.name),bi(h,t.name),Ir("boolean"===typeof b,t,"internal-error"),Ir("boolean"===typeof w,t,"internal-error"),bi(d,t.name),bi(p,t.name),bi(v,t.name),bi(m,t.name),bi(y,t.name),bi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=_t(kt().mark((function t(n,r){var i,a,o,u=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ki).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,di(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),_i=new Map;function xi(e){Ar(e instanceof Function,"Expected a class definition");var t=_i.get(e);return t?(Ar(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_i.set(e,t),t)}var Si=function(){function e(){Ce(this,e),this.type="NONE",this.storage={}}return Oe(e,[{key:"_isAvailable",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Si.type="NONE";var Ei=Si;function Ti(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ii=function(){function e(t,n,r){Ce(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ti(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ti("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Oe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?wi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=_t(kt().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(xi(Ei),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||xi(Ei),u=Ti(i,n.config.apiKey,n.name),s=null,c=De(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=wi._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ci(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ai(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ri(t))return"Blackberry";if(Mi(t))return"Webos";if(Ni(t))return"Safari";if((t.includes("chrome/")||Oi(t))&&!t.includes("edge/"))return"Chrome";if(Di(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function Ni(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function Mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Li(e)||Di(e)||Mi(e)||Ri(e)||/windows phone/i.test(e)||Pi(e)}function ji(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ci(Xe());break;case"Worker":t="".concat(Ci(Xe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bn,"/").concat(r)}var Ui=function(){function e(t){Ce(this,e),this.auth=t,this.queue=[]}return Oe(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=_t(kt().mark((function e(t){var n,r,i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=De(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=De(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Vi(e){return zi.apply(this,arguments)}function zi(){return zi=_t(kt().mark((function e(t){var n,r=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ur(t,"GET","/v2/passwordPolicy",jr(t,n)));case 2:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}var Bi=function(){function e(t){var n,r,i,a;Ce(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return Oe(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),qi=function(){function e(t,n,r,i){Ce(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gi(this),this.idTokenSubscription=new Gi(this),this.beforeStateQueue=new Ui(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Oe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(_t(kt().mark((function r(){var i,a;return kt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ii.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=_t(kt().mark((function e(t){var n,r,i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ir(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,di(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?gt(t):null)&&Ir(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=_t(kt().mark((function e(t){var n,r=this,i=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ir(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(_t(kt().mark((function n(){return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(xi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=_t(kt().mark((function e(){var t,n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi(this);case 2:t=e.sent,n=new Bi(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ot("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ir(n=t&&xi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ii.create(this,[xi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=_t(kt().mark((function e(t){var n=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ir(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ji(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ie.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_t(kt().mark((function e(){var t,n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&br("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wi(e){return gt(e)}var Gi=function(){function e(t){var n=this;Ce(this,e),this.auth=t,this.observer=null,this.addObserver=vt((function(e){return n.observer=e}))}return Oe(e,[{key:"next",get:function(){return Ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Hi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=xr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ki(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Zi=function(){function e(t){Ce(this,e),this.type="recaptcha-enterprise",this.auth=Wi(t)}return Oe(e,[{key:"verify",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;dr(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=_t(kt().mark((function e(n,r){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new pr(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&dr(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Hi("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yi(e,t,n){return Qi.apply(this,arguments)}function Qi(){return Qi=_t(kt().mark((function e(t,n,r){var i,a,o,u,s=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Zi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Qi.apply(this,arguments)}function $i(e,t,n){var r=Wi(e);Ir(r._canInitEmulator,r,"emulator-config-failed"),Ir(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ji(t),o=function(e){var t=Ji(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Xi(r.substr(a.length+1))}}var o=r.split(":"),u=(0,fe.Z)(o,2);return{host:u[0],port:Xi(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ji(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ea=function(){function e(t,n){Ce(this,e),this.providerId=t,this.signInMethod=n}return Oe(e,[{key:"toJSON",value:function(){return Cr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Cr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Cr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Cr("not implemented")}}]),e}();function ta(e,t){return na.apply(this,arguments)}function na(){return na=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:resetPassword",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function ua(e,t){return sa.apply(this,arguments)}function sa(){return sa=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:signInWithPassword",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:sendOobCode",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,n));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,n));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,n));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(t,n));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(e,t){return ba.apply(this,arguments)}function ba(){return ba=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function wa(e,t){return _a.apply(this,arguments)}function _a(){return _a=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}var xa=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ce(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Oe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Yi(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",ua(t,i));case 11:return e.abrupt("return",ua(t,r).catch(function(){var e=_t(kt().mark((function e(n){var i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Yi(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",ua(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",ka(t,{email:this._email,oobCode:this._password}));case 13:_r(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ra(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:_r(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ea);function Sa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:signInWithIdp",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}var Ta=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Oe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Sa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Sa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Sa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ht(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=rr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ea);function Ia(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:sendVerificationCode",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Aa(){return Aa=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Na(){return Na=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Kr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}var Oa=(0,Ie.Z)({},"USER_NOT_FOUND","user-not-found");function Pa(){return Pa=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",qr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,r),Oa));case 2:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}var Da=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Oe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Aa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Na.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Pa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ea);var Ra=function(){function e(t){var n,r,i,a,o,u;Ce(this,e);var s=dt(pt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ir(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Oe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=dt(pt(e)).link,n=t?dt(pt(t)).deep_link_id:null,r=dt(pt(e)).deep_link_id;return(r?dt(pt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ma=function(){function e(){Ce(this,e),this.providerId=e.PROVIDER_ID}return Oe(e,null,[{key:"credential",value:function(e,t){return xa._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ra.parseLink(t);return Ir(n,"argument-error"),xa._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ma.PROVIDER_ID="password",Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var La=function(){function e(t){Ce(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Oe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Fa=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Oe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,bt.Z)(this.scopes)}}]),n}(La),ja=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ir(e.idToken||e.accessToken,"argument-error"),Ta._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ir("providerId"in t&&"signInMethod"in t,"argument-error"),Ta._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Fa),Ua=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.call(this,"facebook.com")}return Oe(n,null,[{key:"credential",value:function(e){return Ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Fa);Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ua.PROVIDER_ID="facebook.com";var Va=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Oe(n,null,[{key:"credential",value:function(e,t){return Ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Fa);Va.GOOGLE_SIGN_IN_METHOD="google.com",Va.PROVIDER_ID="google.com";var za=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.call(this,"github.com")}return Oe(n,null,[{key:"credential",value:function(e){return Ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Fa);za.GITHUB_SIGN_IN_METHOD="github.com",za.PROVIDER_ID="github.com";var Ba=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Oe(n,[{key:"_getIdTokenResponse",value:function(e){return Sa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Sa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Sa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ea),qa=function(e){Me(n,e);var t=Ue(n);function n(e){return Ce(this,n),Ir(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Oe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ba.fromJSON(e);return Ir(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ba._create(r,n)}catch(i){return null}}}]),n}(La),Wa=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.call(this,"twitter.com")}return Oe(n,null,[{key:"credential",value:function(e,t){return Ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Fa);function Ga(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:signUp",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}Wa.TWITTER_SIGN_IN_METHOD="twitter.com",Wa.PROVIDER_ID="twitter.com";var Ka=function(){function e(t){Ce(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Oe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=_t(kt().mark((function t(n,r,i){var a,o,u,s,c=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,wi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Za(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=_t(kt().mark((function t(n,r,i){var a;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Za(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Za(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ya(){return Ya=_t(kt().mark((function e(t){var n,r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ka({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ga(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ka._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}var Qa=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a){var o,u;return Ce(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Re(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Oe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(at);function $a(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qa._fromErrorAndOperation(e,n,t,r);throw n}))}function Ja(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Xa(e,t){return eo.apply(this,arguments)}function eo(){return eo=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,ro(!0,r,n);case 3:return e.t0=ei,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ja(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=_t(kt().mark((function e(t,n){var r,i,a=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=si,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ka._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e,t,n){return io.apply(this,arguments)}function io(){return(io=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(n);case 2:i=Ja(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ir(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=_t(kt().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,si(t,$a(i,a,n,t),r);case 6:return Ir((o=e.sent).idToken,i,"internal-error"),Ir(u=ui(o.idToken),i,"internal-error"),s=u.sub,Ir(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ka._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&_r(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),oo.apply(this,arguments)}function uo(e,t){return so.apply(this,arguments)}function so(){return so=_t(kt().mark((function e(t,n){var r,i,a,o,u=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,$a(t,i,n);case 4:return a=e.sent,e.next=7,Ka._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uo(Wi(t),n));case 1:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return(ho=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,ro(!1,r,n.providerId);case 3:return e.abrupt("return",to(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return(vo=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ao(gt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return yo=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:signInWithCustomToken",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(){return go=_t(kt().mark((function e(t,n){var r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi(t),e.next=3,mo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ka._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var ko=function(){function e(t,n){Ce(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Oe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?bo._fromServerResponse(e,t):"totpInfo"in t?wo._fromServerResponse(e,t):_r(e,"internal-error")}}]),e}(),bo=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Oe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ko),wo=function(e){Me(n,e);var t=Ue(n);function n(e){return Ce(this,n),t.call(this,"totp",e)}return Oe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ko);function _o(e,t,n){var r;Ir((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ir("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ir(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ir(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function xo(e){return So.apply(this,arguments)}function So(){return So=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Wi(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function Eo(){return Eo=_t(kt().mark((function e(t,n,r){var i,a,o,u;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Wi(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Yi(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&_o(a,u,r),e.next=9,da(a,u);case 9:e.next=14;break;case 11:return r&&_o(a,o,r),e.next=14,da(a,o).catch(function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Yi(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&_o(a,n,r),e.next=8,da(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function To(){return To=_t(kt().mark((function e(t,n,r){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(gt(t),{oobCode:n,newPassword:r}).catch(function(){var e=_t(kt().mark((function e(n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&xo(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Io(){return Io=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aa(gt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,ta(r,{oobCode:n});case 3:i=e.sent,Ir(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ir(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ir(i.mfaInfo,r,"internal-error");case 13:Ir(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ko._fromServerResponse(Wi(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function No(){return No=_t(kt().mark((function e(t,n){var r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(gt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Oo(e,t,n){return Po.apply(this,arguments)}function Po(){return Po=_t(kt().mark((function e(t,n,r){var i,a,o,u,s,c,l;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Wi(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Yi(a,o,"signUpPassword");case 5:s=e.sent,u=Ga(a,s),e.next=10;break;case 9:u=Ga(a,o).catch(function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Yi(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Ga(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&xo(t),e}));case 12:return c=e.sent,e.next=15,Ka._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Do(){return Do=_t(kt().mark((function e(t,n,r){var i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Ir(t.handleCodeInApp,a,"argument-error"),t&&_o(a,e,t)},a=Wi(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Yi(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,va(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,va(a,o).catch(function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Yi(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,va(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ro(){return Ro=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),Ir((a=Ma.credentialWithLink(n,r||Nr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",co(i,a));case 4:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Mo(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:createAuthUri",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Fo(){return Fo=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Or()?Nr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Mo(gt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function jo(){return(jo=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&_o(r.auth,a,n),e.next=8,fa(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(){return(Uo=_t(kt().mark((function e(t,n,r){var i,a,o,u;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&_o(i.auth,o,r),e.next=8,ya(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return zo.apply(this,arguments)}function zo(){return zo=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Bo(){return(Bo=_t(kt().mark((function e(t,n){var r,i,a,o,u,s,c;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=gt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,si(a,Vo(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t,n){return Wo.apply(this,arguments)}function Wo(){return Wo=_t(kt().mark((function e(t,n,r){var i,a,o,u;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,si(t,ra(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}var Go=Oe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ce(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ho=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a){var o;return Ce(this,n),(o=t.call(this,e,r,i)).username=a,o}return Oe(n)}(Go),Ko=function(e){Me(n,e);var t=Ue(n);function n(e,r){return Ce(this,n),t.call(this,e,"facebook.com",r)}return Oe(n)}(Go),Zo=function(e){Me(n,e);var t=Ue(n);function n(e,r){return Ce(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Oe(n)}(Ho),Yo=function(e){Me(n,e);var t=Ue(n);function n(e,r){return Ce(this,n),t.call(this,e,"google.com",r)}return Oe(n)}(Go),Qo=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){return Ce(this,n),t.call(this,e,"twitter.com",r,i)}return Oe(n)}(Ho);function $o(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ui(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Go(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ko(a,i);case"github.com":return new Zo(a,i);case"google.com":return new Yo(a,i);case"twitter.com":return new Qo(a,i,e.screenName||null);case"custom":case"anonymous":return new Go(a,null);default:return new Go(a,r,i)}}(n)}var Jo=function(){function e(t,n,r){Ce(this,e),this.type=t,this.credential=n,this.user=r}return Oe(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Ie.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Xo=function(){function e(t,n,r){Ce(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Oe(e,[{key:"resolveSignIn",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Wi(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ko._fromServerResponse(r,e)}));Ir(i.mfaPendingCredential,r,"internal-error");var o=Jo._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=_t(kt().mark((function e(t){var a,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ka._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ir(n.user,r,"internal-error"),e.abrupt("return",Ka._forOperation(n.user,n.operationType,u));case 17:_r(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function eu(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:start",jr(e,t))}function tu(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:start",jr(e,t))}function nu(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:finalize",jr(e,t))}function ru(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:withdraw",jr(e,t))}var iu=function(){function e(t){var n=this;Ce(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ko._fromServerResponse(t.auth,e)})))}))}return Oe(e,[{key:"getSession",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Jo,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=_t(kt().mark((function e(t,n){var r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,si(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,si(this.user,ru(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),au=new WeakMap;var ou="__sak",uu=function(){function e(t,n){Ce(this,e),this.storageRetriever=t,this.type=n}return Oe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var su=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Xe();return Ni(e)||Li(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Fi(),e._shouldAllowMigration=!0,e}return Oe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);rt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=_t(kt().mark((function e(t,r){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(Le(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(kt().mark((function e(t){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(Le(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(Le(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(uu);su.type="LOCAL";var cu=su,lu=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Oe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(uu);lu.type="SESSION";var fu=lu;function hu(e){return Promise.all(e.map(function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var du=function(){function e(t){Ce(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Oe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=_t(kt().mark((function e(t){var n,r,i,a,o,u,s,c;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,hu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function pu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}du.receivers=[];var vu=function(){function e(t){Ce(this,e),this.target=t,this.handlers=new Set}return Oe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=_t(kt().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=pu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function mu(){return window}function yu(e){mu().location.href=e}function gu(){return"undefined"!==typeof mu().WorkerGlobalScope&&"function"===typeof mu().importScripts}function ku(){return bu.apply(this,arguments)}function bu(){return(bu=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var _u="firebaseLocalStorageDb",xu="firebaseLocalStorage",Su="fbase_key",Eu=function(){function e(t){Ce(this,e),this.request=t}return Oe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Tu(e,t){return e.transaction([xu],t?"readwrite":"readonly").objectStore(xu)}function Iu(){var e=indexedDB.deleteDatabase(_u);return new Eu(e).toPromise()}function Cu(){var e=indexedDB.open(_u,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xu,{keyPath:Su})}catch(r){n(r)}})),e.addEventListener("success",_t(kt().mark((function n(){var r;return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(xu)){n.next=12;break}return r.close(),n.next=5,Iu();case 5:return n.t0=t,n.next=8,Cu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Au(e,t,n){return Nu.apply(this,arguments)}function Nu(){return Nu=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tu(t,!0).put((i={},(0,Ie.Z)(i,Su,n),(0,Ie.Z)(i,"value",r),i)),e.abrupt("return",new Eu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}function Ou(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=_t(kt().mark((function e(t,n){var r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tu(t,!1).get(n),e.next=3,new Eu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Du(e,t){var n=Tu(e,!0).delete(t);return new Eu(n).toPromise()}var Ru=function(){function e(){Ce(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Oe(e,[{key:"_openDb",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Cu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=_t(kt().mark((function e(){var t=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=du._getInstance(gu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=_t(kt().mark((function e(n,r){var i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=_t(kt().mark((function e(){var t,n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new vu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Cu();case 5:return t=e.sent,e.next=8,Au(t,ou,"1");case 8:return e.next=10,Du(t,ou);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_t(kt().mark((function e(t,n){var r=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Au(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ou(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_t(kt().mark((function e(t){var n=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Du(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Tu(e,!1).getAll();return new Eu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=De(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ru.type="LOCAL";var Mu=Ru;function Lu(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:start",jr(e,t))}function Fu(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:finalize",jr(e,t))}var ju=1e12,Uu=function(){function e(t){Ce(this,e),this.auth=t,this.counter=ju,this._widgets=new Map}return Oe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Vu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ju;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ju;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ju,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vu=function(){function e(t,n,r){var i=this;Ce(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ir(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Oe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zu=Ki("rcb"),Bu=new Dr(3e4,6e4),qu=function(){function e(){var t;Ce(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=mu().grecaptcha)||void 0===t?void 0:t.render)}return Oe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ir(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&hr(mu().grecaptcha)?Promise.resolve(mu().grecaptcha):new Promise((function(r,i){var a=mu().setTimeout((function(){i(xr(e,"network-request-failed"))}),Bu.get());mu()[zu]=function(){mu().clearTimeout(a),delete mu()[zu];var o=mu().grecaptcha;if(o&&hr(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(xr(e,"internal-error"))},Hi("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ht({onload:zu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(xr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=mu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Wu=function(){function e(){Ce(this,e)}return Oe(e,[{key:"load",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Uu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Gu="recaptcha",Hu={theme:"light",type:"image"},Ku=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Hu);Ce(this,e),this.parameters=r,this.type=Gu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wi(t),this.isInvisible="invisible"===this.parameters.size,Ir("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Ir(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wu:new qu,this.validateStartingState()}return Oe(e,[{key:"verify",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ir(!this.parameters.sitekey,this.auth,"argument-error"),Ir(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ir("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=mu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ir(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=_t(kt().mark((function e(){var t,n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir(Or()&&!gu(),this.auth,"internal-error"),e.next=3,Zu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Zr(this.auth);case 8:Ir(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ir(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Zu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Yu=function(){function e(t,n){Ce(this,e),this.verificationId=t,this.onConfirmation=n}return Oe(e,[{key:"confirm",value:function(e){var t=Da._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Qu(){return Qu=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wi(t),e.next=3,es(i,n,gt(r));case 3:return a=e.sent,e.abrupt("return",new Yu(a,(function(e){return co(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function $u(e,t,n){return Ju.apply(this,arguments)}function Ju(){return(Ju=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,ro(!1,i,"phone");case 3:return e.next=5,es(i.auth,n,gt(r));case 5:return a=e.sent,e.abrupt("return",new Yu(a,(function(e){return fo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(){return(Xu=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,es(i.auth,n,gt(r));case 3:return a=e.sent,e.abrupt("return",new Yu(a,(function(e){return po(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t,n){return ts.apply(this,arguments)}function ts(){return ts=_t(kt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ir("string"===typeof a,t,"argument-error"),Ir(r.type===Gu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ir("enroll"===u.type,t,"internal-error"),e.next=13,eu(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ir("signin"===u.type,t,"internal-error"),Ir(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Lu(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ia(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ts.apply(this,arguments)}function ns(){return(ns=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(gt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rs=function(){function e(t){Ce(this,e),this.providerId=e.PROVIDER_ID,this.auth=Wi(t)}return Oe(e,[{key:"verifyPhoneNumber",value:function(e,t){return es(this.auth,e,gt(t))}}],[{key:"credential",value:function(e,t){return Da._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Da._fromTokenResponse(n,r):null}}]),e}();function is(e,t){return t?xi(t):(Ir(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}rs.PROVIDER_ID="phone",rs.PHONE_SIGN_IN_METHOD="phone";var as=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Oe(n,[{key:"_getIdTokenResponse",value:function(e){return Sa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Sa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Sa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ea);function os(e){return uo(e.auth,new as(e),e.bypassAuthState)}function us(e){var t=e.auth,n=e.user;return Ir(n,t,"internal-error"),ao(n,new as(e),e.bypassAuthState)}function ss(e){return cs.apply(this,arguments)}function cs(){return cs=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ir(r=t.user,n,"internal-error"),e.abrupt("return",to(r,new as(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}var ls=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ce(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Oe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=_t(kt().mark((function t(n,r){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=_t(kt().mark((function e(t){var n,r,i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return os;case"linkViaPopup":case"linkViaRedirect":return ss;case"reauthViaPopup":case"reauthViaRedirect":return us;default:_r(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),fs=new Dr(2e3,1e4);function hs(e,t,n){return ds.apply(this,arguments)}function ds(){return ds=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wi(t),Er(t,n,La),a=is(i,r),o=new ys(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(){return(ps=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er((i=gt(t)).auth,n,La),a=is(i.auth,r),o=new ys(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t,n){return ms.apply(this,arguments)}function ms(){return(ms=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er((i=gt(t)).auth,n,La),a=is(i.auth,r),o=new ys(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ys=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a,o){var u;return Ce(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Re(u),u}return Oe(n,[{key:"executeNotNull",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ir(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_t(kt().mark((function e(){var t,n=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar(1===this.filter.length,"Popup operations only handle one event"),t=pu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(xr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(xr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(xr(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,fs.get())}()}}]),n}(ls);ys.currentPopupAction=null;var gs="pendingRedirect",ks=new Map,bs=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ce(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Oe(n,[{key:"execute",value:function(){var e=_t(kt().mark((function e(){var t,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ks.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ws(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,nr(Le(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ks.set(this.auth._key(),t);case 21:return this.bypassAuthState||ks.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=_t(kt().mark((function e(t){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",nr(Le(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",nr(Le(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ls);function ws(e,t){return _s.apply(this,arguments)}function _s(){return _s=_t(kt().mark((function e(t,n){var r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Is(n),i=Ts(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function xs(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t)._set(Is(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Es(e,t){ks.set(e._key(),t)}function Ts(e){return xi(e._redirectPersistence)}function Is(e){return Ti(gs,e.config.apiKey,e.name)}function Cs(e,t,n){return function(e,t,n){return As.apply(this,arguments)}(e,t,n)}function As(){return As=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wi(t),Er(t,n,La),e.next=4,i._initializationPromise;case 4:return a=is(i,r),e.next=7,xs(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Ns(e,t,n){return function(e,t,n){return Os.apply(this,arguments)}(e,t,n)}function Os(){return(Os=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er((i=gt(t)).auth,n,La),e.next=4,i.auth._initializationPromise;case 4:return a=is(i.auth,r),e.next=7,xs(a,i.auth);case 7:return e.next=9,js(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(e,t,n){return function(e,t,n){return Ds.apply(this,arguments)}(e,t,n)}function Ds(){return(Ds=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er((i=gt(t)).auth,n,La),e.next=4,i.auth._initializationPromise;case 4:return a=is(i.auth,r),e.next=7,ro(!1,i,n.providerId);case 7:return e.next=9,xs(a,i.auth);case 9:return e.next=11,js(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(t)._initializationPromise;case 2:return e.abrupt("return",Ls(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Ls(e,t){return Fs.apply(this,arguments)}function Fs(){return Fs=_t(kt().mark((function e(t,n){var r,i,a,o,u,s=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Wi(t),a=is(i,n),o=new bs(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}function js(e){return Us.apply(this,arguments)}function Us(){return(Us=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vs=function(){function e(t){Ce(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Oe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Bs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(zs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function zs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Bs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function qs(e){return Ws.apply(this,arguments)}function Ws(){return Ws=_t(kt().mark((function e(t){var n,r=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ur(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Gs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hs=/^https?/;function Ks(){return Ks=_t(kt().mark((function e(t){var n,r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qs(t);case 4:n=e.sent,r=n.authorizedDomains,i=De(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Zs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:_r(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ks.apply(this,arguments)}function Zs(e){var t=Nr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hs.test(r))return!1;if(Gs.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ys=new Dr(3e4,6e4);function Qs(){var e=mu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,bt.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var $s=null;function Js(e){return $s=$s||function(e){return new Promise((function(t,n){var r,i,a;function o(){Qs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Qs(),n(xr(e,"network-request-failed"))},timeout:Ys.get()})}if(null===(i=null===(r=mu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=mu().gapi)||void 0===a?void 0:a.load)){var u=Ki("iframefcb");return mu()[u]=function(){gapi.load?o():n(xr(e,"network-request-failed"))},Hi("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw $s=null,e}))}(e),$s}var Xs=new Dr(5e3,15e3),ec="__/auth/iframe",tc="emulator/auth/iframe",nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ic(e){var t=e.config;Ir(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Rr(t,tc):"https://".concat(e.config.authDomain,"/").concat(ec),r={apiKey:t.apiKey,appName:e.name,v:bn},i=rc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ht(r).slice(1))}function ac(e){return oc.apply(this,arguments)}function oc(){return oc=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Js(t);case 2:return n=e.sent,Ir(r=mu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ic(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nc,dontclear:!0},(function(e){return new Promise(function(){var n=_t(kt().mark((function n(r,i){var a,o,u;return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){mu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=xr(t,"network-request-failed"),o=mu().setTimeout((function(){i(a)}),Xs.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}var uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sc=function(){function e(t){Ce(this,e),this.window=t,this.associatedEvent=null}return Oe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function cc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},uc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Xe().toLowerCase();n&&(u=Oi(c)?"_blank":n),Ai(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,fe.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Li(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new sc(null);var f=window.open(t||"",u,l);Ir(f,e,"popup-blocked");try{f.focus()}catch(h){}return new sc(f)}var lc="__/auth/handler",fc="emulator/auth/handler",hc=encodeURIComponent("fac");function dc(e,t,n,r,i,a){return pc.apply(this,arguments)}function pc(){return pc=_t(kt().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,h,d,p,v,m,y,g,k;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ir(t.config.authDomain,t,"auth-domain-config-required"),Ir(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:bn,eventId:a},n instanceof La)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",ct(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=(0,fe.Z)(c[s],2),f=l[0],h=l[1],u[f]=h;for(n instanceof Fa&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=d.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,k=g?"#".concat(hc,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(vc(t),"?").concat(ht(p).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e){var t=e.config;return t.emulator?Rr(t,fc):"https://".concat(t.authDomain,"/").concat(lc)}var mc="webStorageSupport",yc=function(){function e(){Ce(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fu,this._completeRedirectFn=Ls,this._overrideRedirectResult=Es}return Oe(e,[{key:"_openPopup",value:function(){var e=_t(kt().mark((function e(t,n,r,i){var a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,dc(t,n,r,Nr(),i);case 3:return o=e.sent,e.abrupt("return",cc(t,o,pu()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_t(kt().mark((function e(t,n,r,i){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,dc(t,n,r,Nr(),i);case 4:return yu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ar(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac(t);case 2:return n=e.sent,r=new Vs(t),n.register("authEvent",(function(e){return Ir(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(mc,{type:mc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mc];void 0!==i&&t(!!i),_r(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ks.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Fi()||Ni()||Li()}}]),e}(),gc=yc,kc=function(){function e(t){Ce(this,e),this.factorId=t}return Oe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Cr("unexpected MultiFactorSessionType")}}}]),e}(),bc=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"phone")).credential=e,r}return Oe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:finalize",jr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:finalize",jr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(kc),wc=function(){function e(){Ce(this,e)}return Oe(e,null,[{key:"assertion",value:function(e){return bc._fromCredential(e)}}]),e}();wc.FACTOR_ID="phone";var _c=function(){function e(){Ce(this,e)}return Oe(e,null,[{key:"assertionForEnrollment",value:function(e,t){return xc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return xc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,tu(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Sc._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();_c.FACTOR_ID="totp";var xc=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Oe(n,[{key:"_finalizeEnroll",value:function(){var e=_t(kt().mark((function e(t,n,r){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",nu(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Fu(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(kc),Sc=function(){function e(t,n,r,i,a,o,u){Ce(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Oe(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Ec(e)||Ec(t))&&(r=!0),r&&(Ec(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Ec(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Ec(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Tc="@firebase/auth",Ic="1.3.0",Cc=function(){function e(t){Ce(this,e),this.auth=t,this.internalListeners=new Map}return Oe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ac;!function(e){var t;null===(t=Qe())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Nc(){return window}Ac="Browser",dn(new xt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Ir(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Ac,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ji(Ac)},l=new qi(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),dn(new xt("auth-internal",(function(e){return function(e){return new Cc(e)}(Wi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(Tc,Ic,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ac)),Tn(Tc,Ic,"esm2017");var Oc=2e3;function Pc(e,t,n){return Dc.apply(this,arguments)}function Dc(){return Dc=_t(kt().mark((function e(t,n,r){var i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nc(),o=a.BuildInfo,Ar(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Uc(n.sessionId);case 4:return u=e.sent,s={},Li()?s.ibi=o.packageName:Di()?s.apn=o.packageName:_r(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",dc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Rc(){return Rc=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nc(),r=n.BuildInfo,i={},Li()?i.iosBundleId=r.packageName:Di()?i.androidPackageName=r.packageName:_r(t,"operation-not-supported-in-this-environment"),e.next=5,qs(t,i);case 5:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Mc(e){var t=Nc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Lc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return Fc=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(xr(t,"redirect-cancelled-by-user"))}),Oc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Di()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Fc.apply(this,arguments)}function jc(e){var t,n,r,i,a,o,u,s,c,l,f=Nc();Ir("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ir("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ir("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ir("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ir("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Uc(e){return Vc.apply(this,arguments)}function Vc(){return(Vc=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e){if(Ar(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Bc=20,qc=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Oe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),nr(Le(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Vs);function Wc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Yc(),postBody:null,tenantId:e.tenantId,error:xr(e,"no-auth-event")}}function Gc(e,t){return Qc()._set($c(e),t)}function Hc(e){return Kc.apply(this,arguments)}function Kc(){return Kc=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc()._get($c(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Qc()._remove($c(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Zc(e,t){var n,r,i=function(e){var t=Jc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Jc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Jc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Jc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?xr(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Yc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Bc;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Qc(){return xi(cu)}function $c(e){return Ti("authEvent",e.config.apiKey,e.name)}function Jc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Xn.Z)(t)||(0,er.Z)(t)||(0,Pe.Z)(t)||(0,tr.Z)());r[0];return dt(r.slice(1).join("?"))}var Xc=function(){function e(){Ce(this,e),this._redirectPersistence=fu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ls,this._overrideRedirectResult=Es}return Oe(e,[{key:"_initialize",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){_r(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=_t(kt().mark((function e(t,n,r,i){var a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ks.clear(),e.next=10,this._originValidation(t);case 10:return o=Wc(t,r,i),e.next=13,Gc(t,o);case 13:return e.next=15,Pc(t,o,n);case 15:return u=e.sent,e.next=18,Mc(u);case 18:return s=e.sent,e.abrupt("return",Lc(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Nc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(_t(kt().mark((function n(){return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Hc(e);case 2:t.onEvent(tl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=_t(kt().mark((function n(r){var i,a;return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Hc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Zc(i,r.url)),t.onEvent(a||tl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Nc().handleOpenURL=function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),el=Xc;function tl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xr("no-auth-event")}}var nl=1e3;function rl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return!("file:"!==rl()&&"ionic:"!==rl()&&"capacitor:"!==rl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return rt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/Edge\/\d+/.test(e)}(e)}function ol(){try{var e=self.localStorage,t=pu();if(e)return e.setItem(t,"1"),e.removeItem(t),!al()||it()}catch(n){return ul()&&it()}return!1}function ul(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sl(){return("http:"===rl()||"https:"===rl()||tt()||il())&&!(nt()||et())&&ol()&&!ul()}function cl(){return il()&&"undefined"!==typeof document}function ll(){return fl.apply(this,arguments)}function fl(){return(fl=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),nl);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hl={LOCAL:"local",NONE:"none",SESSION:"session"},dl=Ir,pl="persistence";function vl(e,t){dl(Object.values(hl).includes(t),e,"invalid-persistence-type"),nt()?dl(t!==hl.SESSION,e,"unsupported-persistence-type"):et()?dl(t===hl.NONE,e,"unsupported-persistence-type"):ul()?dl(t===hl.NONE||t===hl.LOCAL&&it(),e,"unsupported-persistence-type"):dl(t===hl.NONE||ol(),e,"unsupported-persistence-type")}function ml(e){return yl.apply(this,arguments)}function yl(){return yl=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gl(),r=Ti(pl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var kl=Ir,bl=function(){function e(){Ce(this,e),this.browserResolver=xi(gc),this.cordovaResolver=xi(el),this.underlyingResolver=null,this._redirectPersistence=fu,this._completeRedirectFn=Ls,this._overrideRedirectResult=Es}return Oe(e,[{key:"_initialize",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=_t(kt().mark((function e(t,n,r,i){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_t(kt().mark((function e(t,n,r,i){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return cl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ll();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wl(e){return e.unwrap()}function _l(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Il(e,function(e,t){var n,r=gt(e),i=t;return Ir(t.customData.operationType,r,"argument-error"),Ir(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Xo._fromError(r,i)}(e,t));else if(r){var i=xl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function xl(e){var t=(e instanceof at?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof at)&&"temporaryProof"in t&&"phoneNumber"in t)return rs.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ar.PASSWORD)return null;switch(r){case ar.GOOGLE:n=Va;break;case ar.FACEBOOK:n=Ua;break;case ar.GITHUB:n=za;break;case ar.TWITTER:n=Wa;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ba._create(r,u):Ta._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new ja(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof at?n.credentialFromError(e):n.credentialFromResult(e)}function Sl(e,t){return t.catch((function(t){throw t instanceof at&&_l(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,xl(t)),additionalUserInfo:$o(e),user:Cl.getOrCreate(r)}}))}function El(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Sl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}var Il=function(){function e(t,n){Ce(this,e),this.resolver=n,this.auth=t.wrapped()}return Oe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Sl(wl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Cl=function(){function e(t){Ce(this,e),this._delegate=t,this.multiFactor=function(e){var t=gt(e);return au.has(t)||au.set(t,iu._fromUser(t)),au.get(t)}(t)}return Oe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(this.auth,fo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(this.auth,$u(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(this.auth,vs(this._delegate,t,bl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(Wi(this.auth));case 2:return e.abrupt("return",Ps(this._delegate,t,bl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(this.auth,po(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return El(this.auth,function(e,t,n){return Xu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Sl(this.auth,function(e,t,n){return ps.apply(this,arguments)}(this._delegate,e,bl))}},{key:"reauthenticateWithRedirect",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(Wi(this.auth));case 2:return e.abrupt("return",Ns(this._delegate,t,bl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return jo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return qo(gt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return qo(gt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ns.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Bo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Uo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Cl.USER_MAP=new WeakMap;var Al=Ir,Nl=function(){function e(t,n){if(Ce(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Al(r,"invalid-api-key",{appName:t.name}),Al(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?bl:void 0;this._delegate=n.initialize({options:{persistence:Pl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(mr),this.linkUnderlyingAuth()}return Oe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Cl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){$i(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Io.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Co(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return To.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(this._delegate,Oo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Fo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ra.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Rs(this._delegate,bl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Sl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Wi(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ol(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ol(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Do.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Eo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vl(this._delegate,t),e.t0=t,e.next=e.t0===hl.SESSION?4:e.t0===hl.LOCAL?6:e.t0===hl.NONE?11:13;break;case 4:return n=fu,e.abrupt("break",14);case 6:return e.next=8,xi(Mu)._isAvailable();case 8:return r=e.sent,n=r?Mu:cu,e.abrupt("break",14);case 11:return n=Ei,e.abrupt("break",14);case 13:return e.abrupt("return",_r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Sl(this._delegate,function(e){return Ya.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Sl(this._delegate,co(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Sl(this._delegate,function(e,t){return go.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Sl(this._delegate,function(e,t,n){return co(gt(e),Ma.credential(t,n)).catch(function(){var t=_t(kt().mark((function t(n){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&xo(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Sl(this._delegate,function(e,t,n){return Ro.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return El(this._delegate,function(e,t,n){return Qu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Sl(this._delegate,hs(this._delegate,t,bl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ml(this._delegate);case 3:return e.abrupt("return",Cs(this._delegate,t,bl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return No.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ol(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Cl.getOrCreate(e))},error:t,complete:n}}function Pl(e,t){var n=function(e,t){var n=gl();if(!n)return[];var r=Ti(pl,e,t);switch(n.getItem(r)){case hl.NONE:return[Ei];case hl.LOCAL:return[Mu,fu];case hl.SESSION:return[fu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Mu)||n.push(Mu),"undefined"!==typeof window)for(var r=0,i=[cu,fu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ei)||n.push(Ei),n}Nl.Persistence=hl;var Dl=function(){function e(){Ce(this,e),this.providerId="phone",this._delegate=new rs(wl(Jn.auth()))}return Oe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return rs.credential(e,t)}}]),e}();Dl.PHONE_SIGN_IN_METHOD=rs.PHONE_SIGN_IN_METHOD,Dl.PROVIDER_ID=rs.PROVIDER_ID;var Rl=Ir,Ml=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn.app();Ce(this,e),Rl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ku(i.auth(),t,n),this.type=this._delegate.type}return Oe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new xt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Nl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:or,PASSWORD_RESET:ur,RECOVER_EMAIL:sr,REVERT_SECOND_FACTOR_ADDITION:cr,VERIFY_AND_CHANGE_EMAIL:lr,VERIFY_EMAIL:fr}},EmailAuthProvider:Ma,FacebookAuthProvider:Ua,GithubAuthProvider:za,GoogleAuthProvider:Va,OAuthProvider:ja,SAMLAuthProvider:qa,PhoneAuthProvider:Dl,PhoneMultiFactorGenerator:wc,RecaptchaVerifier:Ml,TwitterAuthProvider:Wa,Auth:Nl,AuthCredential:ea,Error:at}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.6")}(Jn);var Ll,Fl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jl={},Ul=Ul||{},Vl=Fl||self;function zl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ql="closure_uid_"+(1e9*Math.random()>>>0),Wl=0;function Gl(e,t,n){return e.call.apply(e.bind,arguments)}function Hl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Kl(e,t,n){return(Kl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gl:Hl).apply(null,arguments)}function Zl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Yl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ql(){this.s=this.s,this.o=this.o}Ql.prototype.s=!1,Ql.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ql)&&e[ql]||(e[ql]=++Wl))},Ql.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $l=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Jl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(zl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ef(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ef.prototype.h=function(){this.defaultPrevented=!0};var tf=function(){if(!Vl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vl.addEventListener("test",(function(){}),t),Vl.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function nf(e){return/^[\s\xa0]*$/.test(e)}function rf(){var e=Vl.navigator;return e&&(e=e.userAgent)?e:""}function af(e){return-1!=rf().indexOf(e)}function of(e){return of[" "](e),e}of[" "]=function(){};var uf,sf,cf=af("Opera"),lf=af("Trident")||af("MSIE"),ff=af("Edge"),hf=ff||lf,df=af("Gecko")&&!(-1!=rf().toLowerCase().indexOf("webkit")&&!af("Edge"))&&!(af("Trident")||af("MSIE"))&&!af("Edge"),pf=-1!=rf().toLowerCase().indexOf("webkit")&&!af("Edge");function vf(){var e=Vl.document;return e?e.documentMode:void 0}e:{var mf="",yf=function(){var e=rf();return df?/rv:([^\);]+)(\)|;)/.exec(e):ff?/Edge\/([\d\.]+)/.exec(e):lf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pf?/WebKit\/(\S+)/.exec(e):cf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yf&&(mf=yf?yf[1]:""),lf){var gf=vf();if(null!=gf&&gf>parseFloat(mf)){uf=String(gf);break e}}uf=mf}if(Vl.document&&lf){var kf=vf();sf=kf||(parseInt(uf,10)||void 0)}else sf=void 0;var bf=sf;function wf(e,t){if(ef.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(df){e:{try{of(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_f[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wf.$.h.call(this)}}Yl(wf,ef);var _f={2:"touch",3:"pen",4:"mouse"};wf.prototype.h=function(){wf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xf="closure_listenable_"+(1e6*Math.random()|0),Sf=0;function Ef(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sf,this.fa=this.ia=!1}function Tf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function If(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Cf(e){var t={};for(var n in e)t[n]=e[n];return t}var Af="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Af.length;a++)n=Af[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Of(e){this.src=e,this.g={},this.h=0}function Pf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$l(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Tf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Df(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Of.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Df(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ef(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Rf="closure_lm_"+(1e6*Math.random()|0),Mf={};function Lf(e,t,n,r,i){if(r&&r.once)return jf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Lf(e,t[a],n,r,i);return null}return n=Gf(n),e&&e[xf]?e.O(t,n,Bl(r)?!!r.capture:!!r,i):Ff(e,t,n,!1,r,i)}function Ff(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Bl(i)?!!i.capture:!!i,u=qf(e);if(u||(e[Rf]=u=new Of(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Bf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jf(e,t[a],n,r,i);return null}return n=Gf(n),e&&e[xf]?e.P(t,n,Bl(r)?!!r.capture:!!r,i):Ff(e,t,n,!0,r,i)}function Uf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Uf(e,t[a],n,r,i);else r=Bl(r)?!!r.capture:!!r,n=Gf(n),e&&e[xf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Df(a=e.g[t],n,r,i))&&(Tf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=qf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Df(t,n,r,i)),(n=-1<e?t[e]:null)&&Vf(n))}function Vf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[xf])Pf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qf(t))?(Pf(n,e),0==n.h&&(n.src=null,t[Rf]=null)):Tf(e)}}}function zf(e){return e in Mf?Mf[e]:Mf[e]="on"+e}function Bf(e,t){if(e.fa)e=!0;else{t=new wf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vf(e),e=n.call(r,t)}return e}function qf(e){return(e=e[Rf])instanceof Of?e:null}var Wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gf(e){return"function"===typeof e?e:(e[Wf]||(e[Wf]=function(t){return e.handleEvent(t)}),e[Wf])}function Hf(){Ql.call(this),this.i=new Of(this),this.S=this,this.J=null}function Kf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ef(t,e);else if(t instanceof ef)t.target=t.target||e;else{var i=t;Nf(t=new ef(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Zf(o,r,!0,t)&&i}if(i=Zf(o=t.g=e,r,!0,t)&&i,i=Zf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Zf(o=t.g=n[a],r,!1,t)&&i}function Zf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Pf(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Yl(Hf,Ql),Hf.prototype[xf]=!0,Hf.prototype.removeEventListener=function(e,t,n,r){Uf(this,e,t,n,r)},Hf.prototype.N=function(){if(Hf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tf(n[r]);delete t.g[e],t.h--}}this.J=null},Hf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Hf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yf=Vl.JSON.stringify,Qf=function(){function e(t,n){Ce(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Oe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function $f(){var e=ah,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jf=function(){function e(){Ce(this,e),this.h=this.g=null}return Oe(e,[{key:"add",value:function(e,t){var n=Xf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xf=new Qf((function(){return new eh}),(function(e){return e.reset()})),eh=function(){function e(){Ce(this,e),this.next=this.g=this.h=null}return Oe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function th(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function nh(e){Vl.setTimeout((function(){throw e}),0)}var rh,ih=!1,ah=new Jf,oh=function(){var e=Vl.Promise.resolve(void 0);rh=function(){e.then(uh)}},uh=function(){for(var e;e=$f();){try{e.h.call(e.g)}catch(n){nh(n)}var t=Xf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ih=!1};function sh(e,t){Hf.call(this),this.h=e||1,this.g=t||Vl,this.j=Kl(this.qb,this),this.l=Date.now()}function ch(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function lh(e,t,n){if("function"===typeof e)n&&(e=Kl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Kl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vl.setTimeout(e,t||0)}function fh(e){e.g=lh((function(){e.g=null,e.i&&(e.i=!1,fh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Yl(sh,Hf),(Ll=sh.prototype).ga=!1,Ll.T=null,Ll.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kf(this,"tick"),this.ga&&(ch(this),this.start()))}},Ll.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ll.N=function(){sh.$.N.call(this),ch(this),delete this.g};var hh=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Oe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fh(this)}},{key:"N",value:function(){nr(Le(n.prototype),"N",this).call(this),this.g&&(Vl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ql);function dh(e){Ql.call(this),this.h=e,this.g={}}Yl(dh,Ql);var ph=[];function vh(e,t,n,r){Array.isArray(n)||(n&&(ph[0]=n.toString()),n=ph);for(var i=0;i<n.length;i++){var a=Lf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function mh(e){If(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vf(e)}),e),e.g={}}function yh(){this.g=!0}function gh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Yf(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}dh.prototype.N=function(){dh.$.N.call(this),mh(this)},dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yh.prototype.Ea=function(){this.g=!1},yh.prototype.info=function(){};var kh={},bh=null;function wh(){return bh=bh||new Hf}function _h(e){ef.call(this,kh.Ta,e)}function xh(e){var t=wh();Kf(t,new _h(t))}function Sh(e,t){ef.call(this,kh.STAT_EVENT,e),this.stat=t}function Eh(e){var t=wh();Kf(t,new Sh(t,e))}function Th(e,t){ef.call(this,kh.Ua,e),this.size=t}function Ih(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vl.setTimeout((function(){e()}),t)}kh.Ta="serverreachability",Yl(_h,ef),kh.STAT_EVENT="statevent",Yl(Sh,ef),kh.Ua="timingevent",Yl(Th,ef);var Ch={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ah={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nh(){}function Oh(e){return e.h||(e.h=e.i())}function Ph(){}Nh.prototype.h=null;var Dh,Rh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mh(){ef.call(this,"d")}function Lh(){ef.call(this,"c")}function Fh(){}function jh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new dh(this),this.P=Vh,e=hf?125:void 0,this.V=new sh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Uh}function Uh(){this.i=null,this.g="",this.h=!1}Yl(Mh,ef),Yl(Lh,ef),Yl(Fh,Nh),Fh.prototype.g=function(){return new XMLHttpRequest},Fh.prototype.i=function(){return{}},Dh=new Fh;var Vh=45e3,zh={},Bh={};function qh(e,t,n){e.L=1,e.v=sd(rd(t)),e.s=n,e.S=!0,Wh(e,null)}function Wh(e,t){e.G=Date.now(),Zh(e),e.A=rd(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),wd(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Uh,e.g=_p(e.l,n?t:null,!e.s),0<e.O&&(e.M=new hh(Kl(e.Pa,e,e.g),e.O)),vh(e.U,e.g,"readystatechange",e.nb),t=e.I?Cf(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),xh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Gh(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Hh(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Kh(e,n))==Bh){4==t&&(e.o=4,Eh(14),i=!1),gh(e.j,e.m,null,"[Incomplete Response]");break}if(r==zh){e.o=4,Eh(15),gh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gh(e.j,e.m,r,null),Xh(e,r)}Gh(e)&&r!=Bh&&r!=zh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Eh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),pp(t),t.M=!0,Eh(11))):(gh(e.j,e.m,n,"[Invalid Chunked Response]"),Jh(e),$h(e))}function Kh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bh:(n=Number(t.substring(n,r)),isNaN(n)?zh:(r+=1)+n>t.length?Bh:(t=t.slice(r,r+n),e.C=r+n,t))}function Zh(e){e.Y=Date.now()+e.P,Yh(e,e.P)}function Yh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ih(Kl(e.lb,e),t)}function Qh(e){e.B&&(Vl.clearTimeout(e.B),e.B=null)}function $h(e){0==e.l.H||e.J||yp(e.l,e)}function Jh(e){Qh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ch(e.V),mh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Cd(n.i,e)))if(!e.K&&Cd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;mp(n),op(n)}dp(n),Eh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ih(Kl(n.ib,n),6e3));if(1>=Id(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else kp(n,11)}else if((e.K||n.g==e)&&mp(n),!nf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ad(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,ud(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=wp(r,r.J?r.pa:null,r.Y),d.K){Nd(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Qh(p),Zh(p)),r.g=d}else hp(r);0<n.j.length&&sp(n)}else"stop"!=a[0]&&"close"!=a[0]||kp(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?kp(n,7):ap(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}xh()}catch(a){}}function ed(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ll=jh.prototype).setTimeout=function(e){this.P=e},Ll.nb=function(e){e=e.target;var t=this.M;t&&3==Xd(e)?t.l():this.Pa(e)},Ll.Pa=function(e){try{if(e==this.g)e:{var t=Xd(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||hf||this.g&&(this.h.h||this.g.ja()||ep(this.g)))){this.J||4!=t||7==n||xh(),Qh(this);var r=this.g.da();this.ca=r;t:if(Gh(this)){var i=ep(this.g);e="";var a=i.length,o=4==Xd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jh(this),$h(this);var u="";break t}this.h.i=new Vl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nf(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Eh(12),Jh(this),$h(this);break e}gh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xh(this,r)}this.S?(Hh(this,t,u),hf&&this.i&&3==t&&(vh(this.U,this.V,"tick",this.mb),this.V.start())):(gh(this.j,this.m,u,null),Xh(this,u)),4==t&&Jh(this),this.i&&!this.J&&(4==t?yp(this.l,this):(this.i=!1,Zh(this)))}else(function(e){var t={};e=(e.g&&2<=Xd(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!nf(e[n])){var r=th(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Eh(12)):(this.o=0,Eh(13)),Jh(this),$h(this)}}}catch(t){}},Ll.mb=function(){if(this.g){var e=Xd(this.g),t=this.g.ja();this.C<t.length&&(Qh(this),Hh(this,e,t),this.i&&4!=e&&Zh(this))}},Ll.cancel=function(){this.J=!0,Jh(this)},Ll.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(xh(),Eh(17)),Jh(this),this.o=2,$h(this)):Yh(this,this.Y-e)};var td=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nd){this.h=e.h,id(this,e.j),this.s=e.s,this.g=e.g,ad(this,e.m),this.l=e.l;var t=e.i,n=new yd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),od(this,n),this.o=e.o}else e&&(t=String(e).match(td))?(this.h=!1,id(this,t[1]||"",!0),this.s=cd(t[2]||""),this.g=cd(t[3]||"",!0),ad(this,t[4]),this.l=cd(t[5]||"",!0),od(this,t[6]||"",!0),this.o=cd(t[7]||"")):(this.h=!1,this.i=new yd(null,this.h))}function rd(e){return new nd(e)}function id(e,t,n){e.j=n?cd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ad(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function od(e,t,n){t instanceof yd?(e.i=t,function(e,t){t&&!e.j&&(gd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kd(this,t),wd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ld(t,vd)),e.i=new yd(t,e.h))}function ud(e,t,n){e.i.set(t,n)}function sd(e){return ud(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function cd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ld(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,fd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ld(t,hd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ld(t,hd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ld(n,"/"==n.charAt(0)?pd:dd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ld(n,md)),e.join("")};var hd=/[#\/\?@]/g,dd=/[#\?:]/g,pd=/[#\?]/g,vd=/[#\?@]/g,md=/#/g;function yd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kd(e,t){gd(e),t=_d(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bd(e,t){return gd(e),t=_d(e,t),e.g.has(t)}function wd(e,t,n){kd(e,t),0<n.length&&(e.i=null,e.g.set(_d(e,t),Jl(n)),e.h+=n.length)}function _d(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ll=yd.prototype).add=function(e,t){gd(this),this.i=null,e=_d(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ll.forEach=function(e,t){gd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ll.ta=function(){gd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ll.Z=function(e){gd(this);var t=[];if("string"===typeof e)bd(this,e)&&(t=t.concat(this.g.get(_d(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ll.set=function(e,t){return gd(this),this.i=null,bd(this,e=_d(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ll.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ll.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var xd=Oe((function e(t,n){Ce(this,e),this.g=t,this.map=n}));function Sd(e){this.l=e||Ed,Vl.PerformanceNavigationTiming?e=0<(e=Vl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vl.g&&Vl.g.Ka&&Vl.g.Ka()&&Vl.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ed=10;function Td(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Id(e){return e.h?1:e.g?e.g.size:0}function Cd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ad(e,t){e.g?e.g.add(t):e.h=t}function Nd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Od(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=De(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Jl(e.i)}Sd.prototype.cancel=function(){if(this.i=Od(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=De(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Pd,Dd=function(){function e(){Ce(this,e)}return Oe(e,[{key:"stringify",value:function(e){return Vl.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Vl.JSON.parse(e,void 0)}}]),e}();function Rd(){this.g=new Dd}function Md(e,t,n){var r=n||"";try{ed(e,(function(e,n){var i=e;Bl(e)&&(i=Yf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ld(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Fd(e){this.l=e.ec||null,this.j=e.ob||!1}function jd(e,t){Hf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ud,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yl(Fd,Nh),Fd.prototype.g=function(){return new jd(this.l,this.j)},Fd.prototype.i=(Pd={},function(){return Pd}),Yl(jd,Hf);var Ud=0;function Vd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function zd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bd(e)}function Bd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ll=jd.prototype).open=function(e,t){if(this.readyState!=Ud)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bd(this)},Ll.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Vl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ll.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zd(this)),this.readyState=Ud},Ll.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bd(this)),this.g&&(this.readyState=3,Bd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Vl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ll.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zd(this):Bd(this),3==this.readyState&&Vd(this)}},Ll.Za=function(e){this.g&&(this.response=this.responseText=e,zd(this))},Ll.Ya=function(e){this.g&&(this.response=e,zd(this))},Ll.ka=function(){this.g&&zd(this)},Ll.setRequestHeader=function(e,t){this.v.append(e,t)},Ll.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ll.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qd=Vl.JSON.parse;function Wd(e){Hf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gd,this.L=this.M=!1}Yl(Wd,Hf);var Gd="",Hd=/^https?$/i,Kd=["POST","PUT"];function Zd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Yd(e),$d(e)}function Yd(e){e.F||(e.F=!0,Kf(e,"complete"),Kf(e,"error"))}function Qd(e){if(e.h&&"undefined"!=typeof Ul&&(!e.C[1]||4!=Xd(e)||2!=e.da()))if(e.v&&4==Xd(e))lh(e.La,0,e);else if(Kf(e,"readystatechange"),4==Xd(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(td)[1]||null;!a&&Vl.self&&Vl.self.location&&(a=Vl.self.location.protocol.slice(0,-1)),i=!Hd.test(a?a.toLowerCase():"")}t=i}if(t)Kf(e,"complete"),Kf(e,"success");else{e.m=6;try{var o=2<Xd(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Yd(e)}}finally{$d(e)}}}function $d(e,t){if(e.g){Jd(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Kf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Jd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Vl.clearTimeout(e.A),e.A=null)}function Xd(e){return e.g?e.g.readyState:0}function ep(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Gd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(uv){return null}}function tp(e){var t="";return If(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function np(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ud(e,t,n))}function rp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ip(e){this.Ga=0,this.j=[],this.l=new yh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rp("baseRetryDelayMs",5e3,e),this.hb=rp("retryDelaySeedMs",1e4,e),this.eb=rp("forwardChannelMaxRetries",2,e),this.xa=rp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Sd(e&&e.concurrentRequestLimit),this.Ja=new Rd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ap(e){if(up(e),3==e.H){var t=e.W++,n=rd(e.I);if(ud(n,"SID",e.K),ud(n,"RID",t),ud(n,"TYPE","terminate"),lp(e,n),(t=new jh(e,e.l,t)).L=2,t.v=sd(rd(n)),n=!1,Vl.navigator&&Vl.navigator.sendBeacon)try{n=Vl.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Vl.Image&&((new Image).src=t.v,n=!0),n||(t.g=_p(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Zh(t)}bp(e)}function op(e){e.g&&(pp(e),e.g.cancel(),e.g=null)}function up(e){op(e),e.u&&(Vl.clearTimeout(e.u),e.u=null),mp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vl.clearTimeout(e.m),e.m=null)}function sp(e){if(!Td(e.i)&&!e.m){e.m=!0;var t=e.Na;rh||oh(),ih||(rh(),ih=!0),ah.add(t,e),e.C=0}}function cp(e,t){var n;n=t?t.m:e.W++;var r=rd(e.I);ud(r,"SID",e.K),ud(r,"RID",n),ud(r,"AID",e.V),lp(e,r),e.o&&e.s&&np(r,e.o,e.s),n=new jh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=fp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ad(e.i,n),qh(n,r,t)}function lp(e,t){e.na&&If(e.na,(function(e,n){ud(t,n,e)})),e.h&&ed({},(function(e,n){ud(t,n,e)}))}function fp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Kl(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Md(l,o,"req"+c+"_")}catch(Em){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function hp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;rh||oh(),ih||(rh(),ih=!0),ah.add(t,e),e.A=0}}function dp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ih(Kl(e.Ma,e),gp(e,e.A)),e.A++,!0)}function pp(e){null!=e.B&&(Vl.clearTimeout(e.B),e.B=null)}function vp(e){e.g=new jh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=rd(e.wa);ud(t,"RID","rpc"),ud(t,"SID",e.K),ud(t,"AID",e.V),ud(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ud(t,"TO",e.qa),ud(t,"TYPE","xmlhttp"),lp(e,t),e.o&&e.s&&np(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=sd(rd(t)),n.s=null,n.S=!0,Wh(n,e)}function mp(e){null!=e.v&&(Vl.clearTimeout(e.v),e.v=null)}function yp(e,t){var n=null;if(e.g==t){mp(e),pp(e),e.g=null;var r=2}else{if(!Cd(e.i,t))return;n=t.F,Nd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Kf(r=wh(),new Th(r,n)),sp(e)}else hp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Id(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ih(Kl(e.Na,e,t),gp(e,e.C)),e.C++,!0))}(e,t)||2==r&&dp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:kp(e,5);break;case 4:kp(e,10);break;case 3:kp(e,6);break;default:kp(e,2)}}function gp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function kp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Kl(e.pb,e);n||(n=new nd("//www.google.com/images/cleardot.gif"),Vl.location&&"http"==Vl.location.protocol||id(n,"https"),sd(n)),function(e,t){var n=new yh;if(Vl.Image){var r=new Image;r.onload=Zl(Ld,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zl(Ld,n,r,"TestLoadImage: error",!1,t),r.onabort=Zl(Ld,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zl(Ld,n,r,"TestLoadImage: timeout",!1,t),Vl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Eh(2);e.H=0,e.h&&e.h.za(t),bp(e),up(e)}function bp(e){if(e.H=0,e.ma=[],e.h){var t=Od(e.i);0==t.length&&0==e.j.length||(Xl(e.ma,t),Xl(e.ma,e.j),e.i.i.length=0,Jl(e.j),e.j.length=0),e.h.ya()}}function wp(e,t,n){var r=n instanceof nd?rd(n):new nd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ad(r,r.m);else{var i=Vl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new nd(null);r&&id(a,r),t&&(a.g=t),i&&ad(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&ud(r,n,t),ud(r,"VER",e.ra),lp(e,r),r}function _p(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Wd(new Fd({ob:!0})):new Wd(e.va)).Oa(e.J),t}function xp(){}function Sp(){if(lf&&!(10<=Number(bf)))throw Error("Environmental error: no available transport.")}function Ep(e,t){Hf.call(this),this.g=new ip(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!nf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cp(this)}function Tp(e){Mh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ip(){Lh.call(this),this.status=1}function Cp(e){this.g=e}function Ap(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Np(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Op(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ll=Wd.prototype).Oa=function(e){this.M=e},Ll.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dh.g(),this.C=this.u?Oh(this.u):Oh(Dh),this.g.onreadystatechange=Kl(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Zd(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=De(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Vl.FormData&&e instanceof Vl.FormData,!(0<=$l(Kd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=De(n);try{for(c.s();!(s=c.n()).done;){var l=(0,fe.Z)(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jd(this),0<this.B&&((this.L=function(e){return lf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kl(this.ua,this)):this.A=lh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Zd(this,u)}},Ll.ua=function(){"undefined"!=typeof Ul&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kf(this,"timeout"),this.abort(8))},Ll.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kf(this,"complete"),Kf(this,"abort"),$d(this))},Ll.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$d(this,!0)),Wd.$.N.call(this)},Ll.La=function(){this.s||(this.G||this.v||this.l?Qd(this):this.kb())},Ll.kb=function(){Qd(this)},Ll.isActive=function(){return!!this.g},Ll.da=function(){try{return 2<Xd(this)?this.g.status:-1}catch(Pd){return-1}},Ll.ja=function(){try{return this.g?this.g.responseText:""}catch(Pd){return""}},Ll.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qd(t)}},Ll.Ia=function(){return this.m},Ll.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ll=ip.prototype).ra=8,Ll.H=1,Ll.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new jh(this,this.l,e),n=this.s;if(this.U&&(n?Nf(n=Cf(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=fp(this,t,r),ud(i=rd(this.I),"RID",e),ud(i,"CVER",22),this.F&&ud(i,"X-HTTP-Session-Id",this.F),lp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(tp(n)))+"&"+r:this.o&&np(i,this.o,n)),Ad(this.i,t),this.bb&&ud(i,"TYPE","init"),this.P?(ud(i,"$req",r),ud(i,"SID","null"),t.aa=!0,qh(t,i,null)):qh(t,i,r),this.H=2}}else 3==this.H&&(e?cp(this,e):0==this.j.length||Td(this.i)||cp(this))},Ll.Ma=function(){if(this.u=null,vp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ih(Kl(this.jb,this),e)}},Ll.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Eh(10),op(this),vp(this))},Ll.ib=function(){null!=this.v&&(this.v=null,op(this),dp(this),Eh(19))},Ll.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Eh(2)):(this.l.info("Failed to ping google.com"),Eh(1))},Ll.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ll=xp.prototype).Ba=function(){},Ll.Aa=function(){},Ll.za=function(){},Ll.ya=function(){},Ll.isActive=function(){return!0},Ll.Va=function(){},Sp.prototype.g=function(e,t){return new Ep(e,t)},Yl(Ep,Hf),Ep.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Eh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=wp(e,null,e.Y),sp(e)},Ep.prototype.close=function(){ap(this.g)},Ep.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yf(e),e=n);t.j.push(new xd(t.fb++,e)),3==t.H&&sp(t)},Ep.prototype.N=function(){this.g.h=null,delete this.j,ap(this.g),delete this.g,Ep.$.N.call(this)},Yl(Tp,Mh),Yl(Ip,Lh),Yl(Cp,xp),Cp.prototype.Ba=function(){Kf(this.g,"a")},Cp.prototype.Aa=function(e){Kf(this.g,new Tp(e))},Cp.prototype.za=function(e){Kf(this.g,new Ip)},Cp.prototype.ya=function(){Kf(this.g,"b")},Yl(Ap,(function(){this.blockSize=-1})),Ap.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ap.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Np(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Np(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Np(this,r),i=0;break}}this.h=i,this.i+=t},Ap.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Pp={};function Dp(e){return-128<=e&&128>e?function(e,t){var n=Pp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Op([0|e],0>e?-1:0)})):new Op([0|e],0>e?-1:0)}function Rp(e){if(isNaN(e)||!isFinite(e))return Lp;if(0>e)return zp(Rp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Mp;return new Op(t,0)}var Mp=4294967296,Lp=Dp(0),Fp=Dp(1),jp=Dp(16777216);function Up(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Vp(e){return-1==e.h}function zp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Op(n,~e.h).add(Fp)}function Bp(e,t){return e.add(zp(t))}function qp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Wp(e,t){this.g=e,this.h=t}function Gp(e,t){if(Up(t))throw Error("division by zero");if(Up(e))return new Wp(Lp,Lp);if(Vp(e))return t=Gp(zp(e),t),new Wp(zp(t.g),zp(t.h));if(Vp(t))return t=Gp(e,zp(t)),new Wp(zp(t.g),t.h);if(30<e.g.length){if(Vp(e)||Vp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Fp,r=t;0>=r.X(e);)n=Hp(n),r=Hp(r);var i=Kp(n,1),a=Kp(r,1);for(r=Kp(r,2),n=Kp(n,2);!Up(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Kp(r,1),n=Kp(n,1)}return t=Bp(e,i.R(t)),new Wp(i,t)}for(i=Lp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Rp(n)).R(t);Vp(o)||0<o.X(e);)o=(a=Rp(n-=r)).R(t);Up(a)&&(a=Fp),i=i.add(a),e=Bp(e,o)}return new Wp(i,e)}function Hp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Op(n,e.h)}function Kp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Op(i,e.h)}(Ll=Op.prototype).ea=function(){if(Vp(this))return-zp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Mp+r)*t,t*=Mp}return e},Ll.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Up(this))return"0";if(Vp(this))return"-"+zp(this).toString(e);for(var t=Rp(Math.pow(e,6)),n=this,r="";;){var i=Gp(n,t).g,a=((0<(n=Bp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Up(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ll.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ll.X=function(e){return Vp(e=Bp(this,e))?-1:Up(e)?0:1},Ll.abs=function(){return Vp(this)?zp(this):this},Ll.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Op(n,-2147483648&n[n.length-1]?-1:0)},Ll.R=function(e){if(Up(this)||Up(e))return Lp;if(Vp(this))return Vp(e)?zp(this).R(zp(e)):zp(zp(this).R(e));if(Vp(e))return zp(this.R(zp(e)));if(0>this.X(jp)&&0>e.X(jp))return Rp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,qp(n,2*r+2*i),n[2*r+2*i+1]+=a*s,qp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,qp(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,qp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Op(n,0)},Ll.gb=function(e){return Gp(this,e).h},Ll.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Op(n,this.h&e.h)},Ll.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Op(n,this.h|e.h)},Ll.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Op(n,this.h^e.h)},Sp.prototype.createWebChannel=Sp.prototype.g,Ep.prototype.send=Ep.prototype.u,Ep.prototype.open=Ep.prototype.m,Ep.prototype.close=Ep.prototype.close,Ch.NO_ERROR=0,Ch.TIMEOUT=8,Ch.HTTP_ERROR=6,Ah.COMPLETE="complete",Ph.EventType=Rh,Rh.OPEN="a",Rh.CLOSE="b",Rh.ERROR="c",Rh.MESSAGE="d",Hf.prototype.listen=Hf.prototype.O,Wd.prototype.listenOnce=Wd.prototype.P,Wd.prototype.getLastError=Wd.prototype.Sa,Wd.prototype.getLastErrorCode=Wd.prototype.Ia,Wd.prototype.getStatus=Wd.prototype.da,Wd.prototype.getResponseJson=Wd.prototype.Wa,Wd.prototype.getResponseText=Wd.prototype.ja,Wd.prototype.send=Wd.prototype.ha,Wd.prototype.setWithCredentials=Wd.prototype.Oa,Ap.prototype.digest=Ap.prototype.l,Ap.prototype.reset=Ap.prototype.reset,Ap.prototype.update=Ap.prototype.j,Op.prototype.add=Op.prototype.add,Op.prototype.multiply=Op.prototype.R,Op.prototype.modulo=Op.prototype.gb,Op.prototype.compare=Op.prototype.X,Op.prototype.toNumber=Op.prototype.ea,Op.prototype.toString=Op.prototype.toString,Op.prototype.getBits=Op.prototype.D,Op.fromNumber=Rp,Op.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return zp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rp(Math.pow(n,8)),i=Lp,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Rp(Math.pow(n,o)),i=i.R(o).add(Rp(u))):i=(i=i.R(r)).add(Rp(u))}return i};var Zp=jl.createWebChannelTransport=function(){return new Sp},Yp=jl.getStatEventTarget=function(){return wh()},Qp=jl.ErrorCode=Ch,$p=jl.EventType=Ah,Jp=jl.Event=kh,Xp=jl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ev=(jl.FetchXmlHttpFactory=Fd,jl.WebChannel=Ph),tv=jl.XhrIo=Wd,nv=jl.Md5=Ap,rv=jl.Integer=Op,iv="@firebase/firestore",av=function(){function e(t){Ce(this,e),this.uid=t}return Oe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();av.UNAUTHENTICATED=new av(null),av.GOOGLE_CREDENTIALS=new av("google-credentials-uid"),av.FIRST_PARTY=new av("first-party-uid"),av.MOCK_USER=new av("mock-user");var ov="10.5.0",uv=new Rt("@firebase/firestore");function sv(){return uv.logLevel}function cv(e){if(uv.logLevel<=It.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(hv);uv.debug.apply(uv,["Firestore (".concat(ov,"): ").concat(e)].concat((0,bt.Z)(i)))}}function lv(e){if(uv.logLevel<=It.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(hv);uv.error.apply(uv,["Firestore (".concat(ov,"): ").concat(e)].concat((0,bt.Z)(i)))}}function fv(e){if(uv.logLevel<=It.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(hv);uv.warn.apply(uv,["Firestore (".concat(ov,"): ").concat(e)].concat((0,bt.Z)(i)))}}function hv(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function dv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ov,") INTERNAL ASSERTION FAILED: ")+e;throw lv(t),new Error(t)}function pv(e,t){e||dv()}function vv(e,t){return e}var mv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yv=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Oe(n)}(at),gv=Oe((function e(){var t=this;Ce(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),kv=Oe((function e(t,n){Ce(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),bv=function(){function e(){Ce(this,e)}return Oe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(av.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),wv=function(){function e(t){Ce(this,e),this.token=t,this.changeListener=null}return Oe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),_v=function(){function e(t){Ce(this,e),this.t=t,this.currentUser=av.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Oe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new gv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new gv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){cv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(cv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(cv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(pv("string"==typeof n.accessToken),new kv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return pv(null===e||"string"==typeof e),new av(e)}}]),e}(),xv=function(){function e(t,n,r){Ce(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=av.FIRST_PARTY,this.I=new Map}return Oe(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Sv=function(){function e(t,n,r){Ce(this,e),this.l=t,this.h=n,this.P=r}return Oe(e,[{key:"getToken",value:function(){return Promise.resolve(new xv(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(av.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ev=Oe((function e(t){Ce(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Tv=function(){function e(t){Ce(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return Oe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&cv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,cv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){cv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):cv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(pv("string"==typeof t.token),e.R=t.token,new Ev(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Iv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Cv=function(){function e(){Ce(this,e)}return Oe(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Iv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Av(e,t){return e<t?-1:e>t?1:0}function Nv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ov(e){return e+"\0"}var Pv=function(){function e(t,n){if(Ce(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new yv(mv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yv(mv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new yv(mv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yv(mv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Oe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Av(this.nanoseconds,e.nanoseconds):Av(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Dv=function(){function e(t){Ce(this,e),this.timestamp=t}return Oe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Pv(0,0))}},{key:"max",value:function(){return new e(new Pv(253402300799,999999999))}}]),e}(),Rv=function(){function e(t,n,r){Ce(this,e),void 0===n?n=0:n>t.length&&dv(),void 0===r?r=t.length-n:r>t.length-n&&dv(),this.segments=t,this.offset=n,this.len=r}return Oe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mv=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new yv(mv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,bt.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rv),Lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fv=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Lv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new yv(mv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new yv(mv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new yv(mv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new yv(mv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rv),jv=function(){function e(t){Ce(this,e),this.path=t}return Oe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Mv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mv.fromString(t))}},{key:"fromName",value:function(t){return new e(Mv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Mv.emptyPath())}},{key:"comparator",value:function(e,t){return Mv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mv(t.slice()))}}]),e}(),Uv=Oe((function e(t,n,r,i){Ce(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Vv(e){return e.fields.find((function(e){return 2===e.kind}))}function zv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Uv.UNKNOWN_ID=-1;var Bv=Oe((function e(t,n){Ce(this,e),this.fieldPath=t,this.kind=n}));var qv=function(){function e(t,n){Ce(this,e),this.sequenceNumber=t,this.offset=n}return Oe(e,null,[{key:"empty",value:function(){return new e(0,Hv.min())}}]),e}();function Wv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Dv.fromTimestamp(1e9===r?new Pv(n+1,0):new Pv(n,r));return new Hv(i,jv.empty(),t)}function Gv(e){return new Hv(e.readTime,e.key,-1)}var Hv=function(){function e(t,n,r){Ce(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Oe(e,null,[{key:"min",value:function(){return new e(Dv.min(),jv.empty(),-1)}},{key:"max",value:function(){return new e(Dv.max(),jv.empty(),-1)}}]),e}();function Kv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=jv.comparator(e.documentKey,t.documentKey))?n:Av(e.largestBatchId,t.largestBatchId)}var Zv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yv=function(){function e(){Ce(this,e),this.onCommittedListeners=[]}return Oe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Qv(e){return $v.apply(this,arguments)}function $v(){return($v=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===mv.FAILED_PRECONDITION&&t.message===Zv){e.next=2;break}throw t;case 2:cv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jv=function(){function e(t){var n=this;Ce(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Oe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&dv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=De(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Xv=function(){function e(t,n){var r=this;Ce(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new gv,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new nm(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=um(e.target.error);r.m.reject(new nm(t,n))}}return Oe(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(cv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new im(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new nm(n,t)}}}]),e}(),em=function(){function e(t,n,r){Ce(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Xe())&&lv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Oe(e,[{key:"N",value:function(){var e=_t(kt().mark((function e(t){var n=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return cv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new nm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new yv(mv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new yv(mv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new nm(t,n))},i.onupgradeneeded=function(e){cv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){cv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=_t(kt().mark((function e(t,n,r,i){var a,o,u,s,c=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=kt().mark((function e(){var n,u,s,l;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Xv.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Jv.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,cv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return cv("SimpleDb","Removing database:",e),am(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!it())return!1;if(e.v())return!0;var t=Xe(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),tm=function(){function e(t){Ce(this,e),this.q=t,this.K=!1,this.$=null}return Oe(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return am(this.q.delete())}}]),e}(),nm=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,mv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Oe(n)}(yv);function rm(e){return"IndexedDbTransactionError"===e.name}var im=function(){function e(t){Ce(this,e),this.store=t}return Oe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(cv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(cv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),am(n)}},{key:"add",value:function(e){return cv("SimpleDb","ADD",this.store.name,e,e),am(this.store.add(e))}},{key:"get",value:function(e){var t=this;return am(this.store.get(e)).next((function(n){return void 0===n&&(n=null),cv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return cv("SimpleDb","DELETE",this.store.name,e),am(this.store.delete(e))}},{key:"count",value:function(){return cv("SimpleDb","COUNT",this.store.name),am(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Jv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Jv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){cv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Jv((function(n,r){t.onerror=function(e){var t=um(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Jv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new tm(i),o=t(i.primaryKey,i.value,a);if(o instanceof Jv){var u=o.catch((function(e){return a.done(),Jv.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Jv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function am(e){return new Jv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=um(e.target.error);n(t)}}))}var om=!1;function um(e){var t=em.D(Xe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new yv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return om||(om=!0,setTimeout((function(){throw r}),0)),r}}return e}var sm=function(){function e(t,n){Ce(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return Oe(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;cv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=cv,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!rm(e.t4)){e.next=17;break}cv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Qv(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),cm=function(){function e(t,n){Ce(this,e),this.localStore=t,this.persistence=n}return Oe(e,[{key:"ne",value:function(){var e=_t(kt().mark((function e(){var t,n=this,r=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Jv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return cv("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return cv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Gv(t);Kv(r,n)>0&&(n=r)})),new Hv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),lm=function(){function e(t,n){var r=this;Ce(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return Oe(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function fm(e){return null==e}function hm(e){return 0===e&&1/e==-1/0}function dm(e){return"number"==typeof e&&Number.isInteger(e)&&!hm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function pm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mm(t)),t=vm(e.get(n),t);return mm(t)}function vm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function mm(e){return e+"\x01\x01"}function ym(e){var t=e.length;if(pv(t>=2),2===t)return pv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&dv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:dv()}a=o+2}return new Mv(r)}lm.ae=-1;var gm=["userId","batchId"];function km(e,t){return[e,pm(t)]}function bm(e,t,n){return[e,pm(t),n]}var wm={},_m=["prefixPath","collectionGroup","readTime","documentId"],xm=["prefixPath","collectionGroup","documentId"],Sm=["collectionGroup","readTime","prefixPath","documentId"],Em=["canonicalId","targetId"],Tm=["targetId","path"],Im=["path","targetId"],Cm=["collectionId","parent"],Am=["indexId","uid"],Nm=["uid","sequenceNumber"],Om=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pm=["indexId","uid","orderedDocumentKey"],Dm=["userId","collectionPath","documentId"],Rm=["userId","collectionPath","largestBatchId"],Mm=["userId","collectionGroup","largestBatchId"],Lm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Fm=[].concat((0,bt.Z)(Lm),["documentOverlays"]),jm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Um=jm,Vm=[].concat(Um,["indexConfiguration","indexState","indexEntries"]),zm=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return Oe(n)}(Yv);function Bm(e,t){var n=vv(e);return em.O(n.ue,t)}function qm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Hm=function(){function e(t,n){Ce(this,e),this.comparator=t,this.root=n||Zm.EMPTY}return Oe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Km(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Km(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Km(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Km(this.root,e,this.comparator,!0)}}]),e}(),Km=function(){function e(t,n,r,i){Ce(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Oe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Zm=function(){function e(t,n,r,i,a){Ce(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Oe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw dv();if(this.right.isRed())throw dv();var e=this.left.check();if(e!==this.right.check())throw dv();return e+(this.isRed()?0:1)}}]),e}();Zm.EMPTY=null,Zm.RED=!0,Zm.BLACK=!1,Zm.EMPTY=new(function(){function e(){Ce(this,e),this.size=0}return Oe(e,[{key:"key",get:function(){throw dv()}},{key:"value",get:function(){throw dv()}},{key:"color",get:function(){throw dv()}},{key:"left",get:function(){throw dv()}},{key:"right",get:function(){throw dv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Zm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ym=function(){function e(t){Ce(this,e),this.comparator=t,this.data=new Hm(this.comparator)}return Oe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Qm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Qm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Qm=function(){function e(t){Ce(this,e),this.iter=t}return Oe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function $m(e){return e.hasNext()?e.getNext():void 0}var Jm=function(){function e(t){Ce(this,e),this.fields=t,t.sort(Fv.comparator)}return Oe(e,[{key:"unionWith",value:function(t){var n,r=new Ym(Fv.comparator),i=De(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=De(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=De(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Nv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Xm=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Oe(n)}(ze(Error));var ey=function(e){function t(e){Ce(this,t),this.binaryString=e}return Oe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Av(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xm("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ey.EMPTY_BYTE_STRING=new ey("");var ty=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ny(e){if(pv(!!e),"string"==typeof e){var t=0,n=ty.exec(e);if(pv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ry(e.seconds),nanos:ry(e.nanos)}}function ry(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function iy(e){return"string"==typeof e?ey.fromBase64String(e):ey.fromUint8Array(e)}function ay(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oy(e){var t=e.mapValue.fields.__previous_value__;return ay(t)?oy(t):t}function uy(e){var t=ny(e.mapValue.fields.__local_write_time__.timestampValue);return new Pv(t.seconds,t.nanos)}var sy=Oe((function e(t,n,r,i,a,o,u,s,c){Ce(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),cy=function(){function e(t,n){Ce(this,e),this.projectId=t,this.database=n||"(default)"}return Oe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),ly={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fy={nullValue:"NULL_VALUE"};function hy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ay(e)?4:Ty(e)?9007199254740991:10:dv()}function dy(e,t){if(e===t)return!0;var n=hy(e);if(n!==hy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uy(e).isEqual(uy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ny(e.timestampValue),r=ny(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return iy(e.bytesValue).isEqual(iy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ry(e.geoPointValue.latitude)===ry(t.geoPointValue.latitude)&&ry(e.geoPointValue.longitude)===ry(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ry(e.integerValue)===ry(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ry(e.doubleValue),r=ry(t.doubleValue);return n===r?hm(n)===hm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Nv(e.arrayValue.values||[],t.arrayValue.values||[],dy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qm(n)!==qm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dy(n[i],r[i])))return!1;return!0}(e,t);default:return dv()}}function py(e,t){return void 0!==(e.values||[]).find((function(e){return dy(e,t)}))}function vy(e,t){if(e===t)return 0;var n=hy(e),r=hy(t);if(n!==r)return Av(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Av(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ry(e.integerValue||e.doubleValue),r=ry(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return my(e.timestampValue,t.timestampValue);case 4:return my(uy(e),uy(t));case 5:return Av(e.stringValue,t.stringValue);case 6:return function(e,t){var n=iy(e),r=iy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Av(n[i],r[i]);if(0!==a)return a}return Av(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Av(ry(e.latitude),ry(t.latitude));return 0!==n?n:Av(ry(e.longitude),ry(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=vy(n[i],r[i]);if(a)return a}return Av(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ly.mapValue&&t===ly.mapValue)return 0;if(e===ly.mapValue)return 1;if(t===ly.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Av(r[o],a[o]);if(0!==u)return u;var s=vy(n[r[o]],i[a[o]]);if(0!==s)return s}return Av(r.length,a.length)}(e.mapValue,t.mapValue);default:throw dv()}}function my(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Av(e,t);var n=ny(e),r=ny(t),i=Av(n.seconds,r.seconds);return 0!==i?i:Av(n.nanos,r.nanos)}function yy(e){return gy(e)}function gy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ny(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return iy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return jv.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=De(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=gy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=De(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(gy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):dv()}function ky(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function by(e){return!!e&&"integerValue"in e}function wy(e){return!!e&&"arrayValue"in e}function _y(e){return!!e&&"nullValue"in e}function xy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sy(e){return!!e&&"mapValue"in e}function Ey(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ey(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ey(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ty(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Iy(e){return"nullValue"in e?fy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ky(cy.empty(),jv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:dv()}function Cy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ky(cy.empty(),jv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ly:dv()}function Ay(e,t){var n=vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ny(e,t){var n=vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Oy=function(){function e(t){Ce(this,e),this.value=t}return Oe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Sy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ey(t)}},{key:"setAll",value:function(e){var t=this,n=Fv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ey(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Sy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return dy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Sy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Wm(t,(function(t,n){return e[t]=n}));var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ey(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Py(e){var t=[];return Wm(e.fields,(function(e,n){var r=new Fv([e]);if(Sy(n)){var i=Py(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=De(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Jm(t)}var Dy=function(){function e(t,n,r,i,a,o,u){Ce(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Oe(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Dv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Oy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Oy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Dv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Dv.min(),Dv.min(),Dv.min(),Oy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Dv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Dv.min(),Dv.min(),Oy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Dv.min(),Dv.min(),Oy.empty(),2)}}]),e}(),Ry=Oe((function e(t,n){Ce(this,e),this.position=t,this.inclusive=n}));function My(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jv.comparator(jv.fromName(o.referenceValue),n.key):vy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ly(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!dy(e.position[n],t.position[n]))return!1;return!0}var Fy=Oe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ce(this,e),this.field=t,this.dir=n}));function jy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Uy=Oe((function e(){Ce(this,e)})),Vy=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Oe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vy(t,this.value)):null!==t&&hy(this.value)===hy(t)&&this.matchesComparison(vy(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Qy(e,t,r):"array-contains"===t?new eg(e,r):"in"===t?new tg(e,r):"not-in"===t?new ng(e,r):"array-contains-any"===t?new rg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new $y(e,n):new Jy(e,n)}}]),n}(Uy),zy=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return Oe(n,[{key:"matches",value:function(e){return By(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Uy);function By(e){return"and"===e.op}function qy(e){return"or"===e.op}function Wy(e){return Gy(e)&&By(e)}function Gy(e){var t,n=De(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof zy)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Hy(e){if(e instanceof Vy)return e.field.canonicalString()+e.op.toString()+yy(e.value);if(Wy(e))return e.filters.map((function(e){return Hy(e)})).join(",");var t=e.filters.map((function(e){return Hy(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ky(e,t){return e instanceof Vy?function(e,t){return t instanceof Vy&&e.op===t.op&&e.field.isEqual(t.field)&&dy(e.value,t.value)}(e,t):e instanceof zy?function(e,t){return t instanceof zy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ky(n,t.filters[r])}),!0)}(e,t):void dv()}function Zy(e,t){var n=e.filters.concat(t);return zy.create(n,e.op)}function Yy(e){return e instanceof Vy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(yy(e.value))}(e):e instanceof zy?function(e){return e.op.toString()+" {"+e.getFilters().map(Yy).join(" ,")+"}"}(e):"Filter"}var Qy=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,e,r,i)).key=jv.fromName(i.referenceValue),a}return Oe(n,[{key:"matches",value:function(e){var t=jv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Vy),$y=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,"in",r)).keys=Xy("in",r),i}return Oe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vy),Jy=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,"not-in",r)).keys=Xy("not-in",r),i}return Oe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vy);function Xy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jv.fromName(e.referenceValue)}))}var eg=function(e){Me(n,e);var t=Ue(n);function n(e,r){return Ce(this,n),t.call(this,e,"array-contains",r)}return Oe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return wy(t)&&py(t.arrayValue,this.value)}}]),n}(Vy),tg=function(e){Me(n,e);var t=Ue(n);function n(e,r){return Ce(this,n),t.call(this,e,"in",r)}return Oe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&py(this.value.arrayValue,t)}}]),n}(Vy),ng=function(e){Me(n,e);var t=Ue(n);function n(e,r){return Ce(this,n),t.call(this,e,"not-in",r)}return Oe(n,[{key:"matches",value:function(e){if(py(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!py(this.value.arrayValue,t)}}]),n}(Vy),rg=function(e){Me(n,e);var t=Ue(n);function n(e,r){return Ce(this,n),t.call(this,e,"array-contains-any",r)}return Oe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return py(t.value.arrayValue,e)}))}}]),n}(Vy),ig=Oe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ce(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.le=null}));function ag(e){return new ig(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function og(e){var t=vv(e);if(null===t.le){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Hy(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),fm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return yy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return yy(e)})).join(",")),t.le=n}return t.le}function ug(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ky(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ly(e.startAt,t.startAt)&&Ly(e.endAt,t.endAt)}function sg(e){return jv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cg(e,t){return e.filters.filter((function(e){return e instanceof Vy&&e.field.isEqual(t)}))}function lg(e,t,n){var r,i=fy,a=!0,o=De(cg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=fy,c=!0;switch(u.op){case"<":case"<=":s=Iy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=fy}Ay({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ay({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function fg(e,t,n){var r,i=ly,a=!0,o=De(cg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ly,c=!0;switch(u.op){case">=":case">":s=Cy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ly}Ny({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ny({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var hg=Oe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ce(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function dg(e,t,n,r,i,a,o,u){return new hg(e,t,n,r,i,a,o,u)}function pg(e){return new hg(e)}function vg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function mg(e){return null!==e.collectionGroup}function yg(e){var t=vv(e);if(null===t.he){t.he=[];var n,r=new Set,i=De(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.he.push(a),r.add(a.field.canonicalString())}}catch(s){i.e(s)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",u=function(e){var t=new Ym(Fv.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);u.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.he.push(new Fy(e,o))})),r.has(Fv.keyField().canonicalString())||t.he.push(new Fy(Fv.keyField(),o))}return t.he}function gg(e){var t=vv(e);return t.Pe||(t.Pe=kg(t,yg(e))),t.Pe}function kg(e,t){if("F"===e.limitType)return ag(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Fy(e.field,t)}));var n=e.endAt?new Ry(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ry(e.startAt.position,e.startAt.inclusive):null;return ag(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function bg(e,t){var n=e.filters.concat([t]);return new hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function wg(e,t,n){return new hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _g(e,t){return ug(gg(e),gg(t))&&e.limitType===t.limitType}function xg(e){return"".concat(og(gg(e)),"|lt:").concat(e.limitType)}function Sg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Yy(e)})).join(", "),"]")),fm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return yy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return yy(e)})).join(",")),"Target(".concat(t,")")}(gg(e)),"; limitType=").concat(e.limitType,")")}function Eg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=De(yg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=De(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=My(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yg(e),t))&&!(e.endAt&&!function(e,t,n){var r=My(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yg(e),t))}(e,t)}function Tg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ig(e){return function(t,n){var r,i=!1,a=De(yg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Cg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Cg(e,t,n){var r=e.field.isKeyField()?jv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vy(r,i):dv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return dv()}}var Ag=function(){function e(t,n){Ce(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Oe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=(0,fe.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Wm(this.inner,(function(t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=(0,fe.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Gm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ng=new Hm(jv.comparator);function Og(){return Ng}var Pg=new Hm(jv.comparator);function Dg(){for(var e=Pg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Rg(e){var t=Pg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Mg(){return Fg()}function Lg(){return Fg()}function Fg(){return new Ag((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var jg=new Hm(jv.comparator),Ug=new Ym(jv.comparator);function Vg(){for(var e=Ug,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zg=new Ym(Av);function Bg(){return zg}function qg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(t)?"-0":t}}function Wg(e){return{integerValue:""+e}}function Gg(e,t){return dm(t)?Wg(t):qg(e,t)}var Hg=Oe((function e(){Ce(this,e),this._=void 0}));function Kg(e,t,n){return e instanceof Qg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ay(t)&&(t=oy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $g?Jg(e,t):e instanceof Xg?ek(e,t):function(e,t){var n=Yg(e,t),r=nk(n)+nk(e.Te);return by(n)&&by(e.Te)?Wg(r):qg(e.serializer,r)}(e,t)}function Zg(e,t,n){return e instanceof $g?Jg(e,t):e instanceof Xg?ek(e,t):n}function Yg(e,t){return e instanceof tk?function(e){return by(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Qg=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n)}(Hg),$g=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).elements=e,r}return Oe(n)}(Hg);function Jg(e,t){var n,r=rk(t),i=De(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return dy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xg=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).elements=e,r}return Oe(n)}(Hg);function ek(e,t){var n,r=rk(t),i=De(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!dy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tk=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return Oe(n)}(Hg);function nk(e){return ry(e.integerValue||e.doubleValue)}function rk(e){return wy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ik=Oe((function e(t,n){Ce(this,e),this.field=t,this.transform=n}));var ak=Oe((function e(t,n){Ce(this,e),this.version=t,this.transformResults=n})),ok=function(){function e(t,n){Ce(this,e),this.updateTime=t,this.exists=n}return Oe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function uk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var sk=Oe((function e(){Ce(this,e)}));function ck(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wk(e.key,ok.none()):new pk(e.key,e.data,ok.none());var n,r=e.data,i=Oy.empty(),a=new Ym(Fv.comparator),o=De(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new vk(e.key,i,new Jm(a.toArray()),ok.none())}function lk(e,t,n){e instanceof pk?function(e,t,n){var r=e.value.clone(),i=yk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vk?function(e,t,n){if(uk(e.precondition,t)){var r=yk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fk(e,t,n,r){return e instanceof pk?function(e,t,n,r){if(!uk(e.precondition,t))return n;var i=e.value.clone(),a=gk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vk?function(e,t,n,r){if(!uk(e.precondition,t))return n;var i=gk(e.fieldTransforms,r,t),a=t.data;return a.setAll(mk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return uk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hk(e,t){var n,r=null,i=De(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Yg(a.transform,o||null);null!=u&&(null===r&&(r=Oy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function dk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Nv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $g&&t instanceof $g||e instanceof Xg&&t instanceof Xg?Nv(e.elements,t.elements,dy):e instanceof tk&&t instanceof tk?dy(e.Te,t.Te):e instanceof Qg&&t instanceof Qg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var pk=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ce(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Oe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sk),vk=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ce(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Oe(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(sk);function mk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function yk(e,t,n){var r=new Map;pv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Zg(o,u,n[i]))}return r}function gk(e,t,n){var r,i=new Map,a=De(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Kg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var kk,bk,wk=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Oe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sk),_k=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Oe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sk),xk=function(){function e(t,n,r,i){Ce(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Oe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&lk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=De(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=fk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=De(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=fk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Lg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=ck(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Dv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Nv(this.mutations,e.mutations,(function(e,t){return dk(e,t)}))&&Nv(this.baseMutations,e.baseMutations,(function(e,t){return dk(e,t)}))}}]),e}(),Sk=function(){function e(t,n,r,i){Ce(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Oe(e,null,[{key:"from",value:function(t,n,r){pv(t.mutations.length===r.length);for(var i=jg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ek=function(){function e(t,n){Ce(this,e),this.largestBatchId=t,this.mutation=n}return Oe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Tk=Oe((function e(t,n){Ce(this,e),this.count=t,this.unchangedNames=n}));function Ik(e){switch(e){default:return dv();case mv.CANCELLED:case mv.UNKNOWN:case mv.DEADLINE_EXCEEDED:case mv.RESOURCE_EXHAUSTED:case mv.INTERNAL:case mv.UNAVAILABLE:case mv.UNAUTHENTICATED:return!1;case mv.INVALID_ARGUMENT:case mv.NOT_FOUND:case mv.ALREADY_EXISTS:case mv.PERMISSION_DENIED:case mv.FAILED_PRECONDITION:case mv.ABORTED:case mv.OUT_OF_RANGE:case mv.UNIMPLEMENTED:case mv.DATA_LOSS:return!0}}function Ck(e){if(void 0===e)return lv("GRPC error has no .code"),mv.UNKNOWN;switch(e){case kk.OK:return mv.OK;case kk.CANCELLED:return mv.CANCELLED;case kk.UNKNOWN:return mv.UNKNOWN;case kk.DEADLINE_EXCEEDED:return mv.DEADLINE_EXCEEDED;case kk.RESOURCE_EXHAUSTED:return mv.RESOURCE_EXHAUSTED;case kk.INTERNAL:return mv.INTERNAL;case kk.UNAVAILABLE:return mv.UNAVAILABLE;case kk.UNAUTHENTICATED:return mv.UNAUTHENTICATED;case kk.INVALID_ARGUMENT:return mv.INVALID_ARGUMENT;case kk.NOT_FOUND:return mv.NOT_FOUND;case kk.ALREADY_EXISTS:return mv.ALREADY_EXISTS;case kk.PERMISSION_DENIED:return mv.PERMISSION_DENIED;case kk.FAILED_PRECONDITION:return mv.FAILED_PRECONDITION;case kk.ABORTED:return mv.ABORTED;case kk.OUT_OF_RANGE:return mv.OUT_OF_RANGE;case kk.UNIMPLEMENTED:return mv.UNIMPLEMENTED;case kk.DATA_LOSS:return mv.DATA_LOSS;default:return dv()}}(bk=kk||(kk={}))[bk.OK=0]="OK",bk[bk.CANCELLED=1]="CANCELLED",bk[bk.UNKNOWN=2]="UNKNOWN",bk[bk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bk[bk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bk[bk.NOT_FOUND=5]="NOT_FOUND",bk[bk.ALREADY_EXISTS=6]="ALREADY_EXISTS",bk[bk.PERMISSION_DENIED=7]="PERMISSION_DENIED",bk[bk.UNAUTHENTICATED=16]="UNAUTHENTICATED",bk[bk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bk[bk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bk[bk.ABORTED=10]="ABORTED",bk[bk.OUT_OF_RANGE=11]="OUT_OF_RANGE",bk[bk.UNIMPLEMENTED=12]="UNIMPLEMENTED",bk[bk.INTERNAL=13]="INTERNAL",bk[bk.UNAVAILABLE=14]="UNAVAILABLE",bk[bk.DATA_LOSS=15]="DATA_LOSS";var Ak=null;function Nk(){return new TextEncoder}var Ok=new rv([4294967295,4294967295],0);function Pk(e){var t=Nk().encode(e),n=new nv;return n.update(t),new Uint8Array(n.digest())}function Dk(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new rv([n,r],0),new rv([i,a],0)]}var Rk=function(){function e(t,n,r){if(Ce(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mk("Invalid padding: ".concat(n));if(r<0)throw new Mk("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Mk("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Mk("Invalid padding when bitmap length is 0: ".concat(n));this.Ee=8*t.length-n,this.de=rv.fromNumber(this.Ee)}return Oe(e,[{key:"Ae",value:function(e,t,n){var r=e.add(t.multiply(rv.fromNumber(n)));return 1===r.compare(Ok)&&(r=new rv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}},{key:"Re",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ee)return!1;for(var t=Dk(Pk(e)),n=(0,fe.Z)(t,2),r=n[0],i=n[1],a=0;a<this.hashCount;a++){var o=this.Ae(r,i,a);if(!this.Re(o))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ee)for(var t=Dk(Pk(e)),n=(0,fe.Z)(t,2),r=n[0],i=n[1],a=0;a<this.hashCount;a++){var o=this.Ae(r,i,a);this.Ve(o)}}},{key:"Ve",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Mk=function(e){Me(n,e);var t=Ue(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Oe(n)}(ze(Error)),Lk=function(){function e(t,n,r,i,a){Ce(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Oe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Fk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Dv.min(),i,new Hm(Av),Og(),Vg())}}]),e}(),Fk=function(){function e(t,n,r,i,a){Ce(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Oe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Vg(),Vg(),Vg())}}]),e}(),jk=Oe((function e(t,n,r,i){Ce(this,e),this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i})),Uk=Oe((function e(t,n){Ce(this,e),this.targetId=t,this.ge=n})),Vk=Oe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ey.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ce(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zk=function(){function e(){Ce(this,e),this.pe=0,this.ye=Wk(),this.we=ey.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}return Oe(e,[{key:"current",get:function(){return this.Se}},{key:"resumeToken",get:function(){return this.we}},{key:"De",get:function(){return 0!==this.pe}},{key:"Ce",get:function(){return this.be}},{key:"ve",value:function(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}},{key:"Fe",value:function(){var e=Vg(),t=Vg(),n=Vg();return this.ye.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:dv()}})),new Fk(this.we,this.Se,e,t,n)}},{key:"Me",value:function(){this.be=!1,this.ye=Wk()}},{key:"xe",value:function(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}},{key:"Oe",value:function(e){this.be=!0,this.ye=this.ye.remove(e)}},{key:"Ne",value:function(){this.pe+=1}},{key:"Be",value:function(){this.pe-=1}},{key:"Le",value:function(){this.be=!0,this.Se=!0}}]),e}(),Bk=function(){function e(t){Ce(this,e),this.ke=t,this.qe=new Map,this.Qe=Og(),this.Ke=qk(),this.$e=new Hm(Av)}return Oe(e,[{key:"Ue",value:function(e){var t,n=De(e.me);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.fe&&e.fe.isFoundDocument()?this.We(r,e.fe):this.Ge(r,e.key,e.fe)}}catch(u){n.e(u)}finally{n.f()}var i,a=De(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Ge(o,e.key,e.fe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ze",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.je(n);switch(e.state){case 0:t.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||t.removeTarget(n);break;case 3:t.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:t.He(n)&&(t.Je(n),r.ve(e.resumeToken));break;default:dv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((function(e,r){n.He(r)&&t(r)}))}},{key:"Ye",value:function(e){var t=e.targetId,n=e.ge.count,r=this.Ze(t);if(r){var i=r.target;if(sg(i))if(0===n){var a=new jv(i.path);this.Ge(t,a,Dy.newNoDocument(a,Dv.min()))}else pv(1===n);else{var o=this.Xe(t);if(o!==n){var u=this.et(e),s=u?this.tt(u,e,o):1;if(0!==s){this.Je(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(t,c)}null==Ak||Ak.nt(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ge,this.ke.rt(),u,s))}}}}},{key:"et",value:function(e){var t=e.ge.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=iy(o).toUint8Array()}catch(e){if(e instanceof Xm)return fv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Rk(n,s,l)}catch(e){return fv(e instanceof Mk?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ee?null:r}},{key:"tt",value:function(e,t,n){return t.ge.count===n-this.it(e,t.targetId)?0:2}},{key:"it",value:function(e,t){var n=this,r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.ke.rt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.Ge(t,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.qe.forEach((function(r,i){var a=t.Ze(i);if(a){if(r.current&&sg(a.target)){var o=new jv(a.target.path);null!==t.Qe.get(o)||t.ot(i,o)||t.Ge(i,o,Dy.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Fe()),r.Me())}}));var r=Vg();this.Ke.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ze(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Lk(e,n,this.$e,this.Qe,r);return this.Qe=Og(),this.Ke=qk(),this.$e=new Hm(Av),i}},{key:"We",value:function(e,t){if(this.He(e)){var n=this.ot(e,t.key)?2:0;this.je(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.Ke=this.Ke.insert(t.key,this._t(t.key).add(e))}}},{key:"Ge",value:function(e,t,n){if(this.He(e)){var r=this.je(e);this.ot(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this._t(t).delete(e)),n&&(this.Qe=this.Qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qe.delete(e)}},{key:"Xe",value:function(e){var t=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ne",value:function(e){this.je(e).Ne()}},{key:"je",value:function(e){var t=this.qe.get(e);return t||(t=new zk,this.qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.Ke.get(e);return t||(t=new Ym(Av),this.Ke=this.Ke.insert(e,t)),t}},{key:"He",value:function(e){var t=null!==this.Ze(e);return t||cv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ze",value:function(e){var t=this.qe.get(e);return t&&t.De?null:this.ke.ut(e)}},{key:"Je",value:function(e){var t=this;this.qe.set(e,new zk),this.ke.getRemoteKeysForTarget(e).forEach((function(n){t.Ge(e,n,null)}))}},{key:"ot",value:function(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}]),e}();function qk(){return new Hm(jv.comparator)}function Wk(){return new Hm(jv.comparator)}var Gk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kk={and:"AND",or:"OR"},Zk=Oe((function e(t,n){Ce(this,e),this.databaseId=t,this.useProto3Json=n}));function Yk(e,t){return e.useProto3Json||fm(t)?t:{value:t}}function Qk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $k(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jk(e,t){return Qk(e,t.toTimestamp())}function Xk(e){return pv(!!e),Dv.fromTimestamp(function(e){var t=ny(e);return new Pv(t.seconds,t.nanos)}(e))}function eb(e,t){return function(e){return new Mv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tb(e){var t=Mv.fromString(e);return pv(Sb(t)),t}function nb(e,t){return eb(e.databaseId,t.path)}function rb(e,t){var n=tb(t);if(n.get(1)!==e.databaseId.projectId)throw new yv(mv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yv(mv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jv(ub(n))}function ib(e,t){return eb(e.databaseId,t)}function ab(e){var t=tb(e);return 4===t.length?Mv.emptyPath():ub(t)}function ob(e){return new Mv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ub(e){return pv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sb(e,t,n){return{name:nb(e,t),fields:n.value.mapValue.fields}}function cb(e,t,n){var r=rb(e,t.name),i=Xk(t.updateTime),a=t.createTime?Xk(t.createTime):Dv.min(),o=new Oy({mapValue:{fields:t.fields}}),u=Dy.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function lb(e,t){return"found"in t?function(e,t){pv(!!t.found),t.found.name,t.found.updateTime;var n=rb(e,t.found.name),r=Xk(t.found.updateTime),i=t.found.createTime?Xk(t.found.createTime):Dv.min(),a=new Oy({mapValue:{fields:t.found.fields}});return Dy.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){pv(!!t.missing),pv(!!t.readTime);var n=rb(e,t.missing),r=Xk(t.readTime);return Dy.newNoDocument(n,r)}(e,t):dv()}function fb(e,t){var n;if(t instanceof pk)n={update:sb(e,t.key,t.value)};else if(t instanceof wk)n={delete:nb(e,t.key)};else if(t instanceof vk)n={update:sb(e,t.key,t.data),updateMask:xb(t.fieldMask)};else{if(!(t instanceof _k))return dv();n={verify:nb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $g)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tk)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw dv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:dv()}(e,t.precondition)),n}function hb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ok.updateTime(Xk(e.updateTime)):void 0!==e.exists?ok.exists(e.exists):ok.none()}(t.currentDocument):ok.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)pv("REQUEST_TIME"===t.setToServerValue),n=new Qg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $g(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Xg(i)}else"increment"in t?n=new tk(e,t.increment):dv();var a=Fv.fromServerFormat(t.fieldPath);return new ik(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=rb(e,t.update.name),a=new Oy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Jm(t.map((function(e){return Fv.fromServerFormat(e)})))}(t.updateMask);return new vk(i,a,o,n,r)}return new pk(i,a,n,r)}if(t.delete){var u=rb(e,t.delete);return new wk(u,n)}if(t.verify){var s=rb(e,t.verify);return new _k(s,n)}return dv()}function db(e,t){return{documents:[ib(e,t.path)]}}function pb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ib(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ib(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return _b(zy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:bb(e.field),direction:yb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Yk(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function vb(e){var t=ab(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=mb(e);return t instanceof zy&&Wy(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Fy(wb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return fm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ry(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ry(n,t)}(n.endAt)),dg(t,i,u,o,s,"F",c,l)}function mb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wb(e.unaryFilter.field);return Vy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wb(e.unaryFilter.field);return Vy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wb(e.unaryFilter.field);return Vy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wb(e.unaryFilter.field);return Vy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dv()}}(e):void 0!==e.fieldFilter?function(e){return Vy.create(wb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zy.create(e.compositeFilter.filters.map((function(e){return mb(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return dv()}}(e.compositeFilter.op))}(e):dv()}function yb(e){return Gk[e]}function gb(e){return Hk[e]}function kb(e){return Kk[e]}function bb(e){return{fieldPath:e.canonicalString()}}function wb(e){return Fv.fromServerFormat(e.fieldPath)}function _b(e){return e instanceof Vy?function(e){if("=="===e.op){if(xy(e.value))return{unaryFilter:{field:bb(e.field),op:"IS_NAN"}};if(_y(e.value))return{unaryFilter:{field:bb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xy(e.value))return{unaryFilter:{field:bb(e.field),op:"IS_NOT_NAN"}};if(_y(e.value))return{unaryFilter:{field:bb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bb(e.field),op:gb(e.op),value:e.value}}}(e):e instanceof zy?function(e){var t=e.getFilters().map((function(e){return _b(e)}));return 1===t.length?t[0]:{compositeFilter:{op:kb(e.op),filters:t}}}(e):dv()}function xb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Sb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Eb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Dv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ey.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ce(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return Oe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Tb=Oe((function e(t){Ce(this,e),this.ct=t}));function Ib(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:nb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Qk(e,t.version.toTimestamp()),createTime:Qk(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ab(t.version)};else{if(!t.isUnknownDocument())return dv();r.unknownDocument={path:n.path.toArray(),version:Ab(t.version)}}return r}function Cb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ab(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nb(e){var t=new Pv(e.seconds,e.nanoseconds);return Dv.fromTimestamp(t)}function Ob(e,t){for(var n=(t.baseMutations||[]).map((function(t){return hb(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return hb(e.ct,t)})),u=Pv.fromMillis(t.localWriteTimeMs);return new xk(t.batchId,u,n,o)}function Pb(e){var t,n=Nb(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Nb(e.lastLimboFreeSnapshotVersion):Dv.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return pv(1===e.documents.length),gg(pg(ab(e.documents[0])))}(e.query):function(e){return gg(vb(e))}(e.query),new Eb(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,ey.fromBase64String(e.resumeToken))}function Db(e,t){var n,r=Ab(t.snapshotVersion),i=Ab(t.lastLimboFreeSnapshotVersion);n=sg(t.target)?db(e.ct,t.target):pb(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:og(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Rb(e){var t=vb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wg(t,t.limit,"L"):t}function Mb(e,t){return new Ek(t.largestBatchId,hb(e.ct,t.overlayMutation))}function Lb(e,t){var n=t.path.lastSegment();return[e,pm(t.path.popLast()),n]}function Fb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ab(r.readTime),documentKey:pm(r.documentKey.path),largestBatchId:r.largestBatchId}}var jb=function(){function e(){Ce(this,e)}return Oe(e,[{key:"getBundleMetadata",value:function(e,t){return Ub(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Nb(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Ub(e).put(function(e){return{bundleId:e.id,createTime:Ab(Xk(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Vb(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Rb(e.bundledQuery),readTime:Nb(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Vb(e).put(function(e){return{name:e.name,readTime:Ab(Xk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ub(e){return Bm(e,"bundles")}function Vb(e){return Bm(e,"namedQueries")}var zb=function(){function e(t,n){Ce(this,e),this.serializer=t,this.userId=n}return Oe(e,[{key:"getOverlay",value:function(e,t){var n=this;return Bb(e).get(Lb(this.userId,t)).next((function(e){return e?Mb(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mg();return Jv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Ek(t,a);i.push(r.ht(e,o))})),Jv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(pm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Bb(e).J("collectionPathOverlayIndex",i))})),Jv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Mg(),a=pm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bb(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Mb(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Mg(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bb(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Mb(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return Bb(e).put(function(e,t,n){var r=Lb(t,n.mutation.key),i=(0,fe.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:fb(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Bb(e){return Bm(e,"documentOverlays")}var qb=function(){function e(){Ce(this,e)}return Oe(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ry(e.integerValue));else if("doubleValue"in e){var n=ry(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),hm(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(iy(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Ty(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):dv()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),jv.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function Wb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Gb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Wb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}qb.bt=new qb;var Hb=function(){function e(){Ce(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Oe(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.vt()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.vt()}},{key:"Nt",value:function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=Gb(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=Gb(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"vt",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Kb=function(){function e(t){Ce(this,e),this.Gt=t}return Oe(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),Zb=function(){function e(t){Ce(this,e),this.Gt=t}return Oe(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),Yb=function(){function e(){Ce(this,e),this.Gt=new Hb,this.zt=new Kb(this.Gt),this.jt=new Zb(this.Gt)}return Oe(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),Qb=function(){function e(t,n,r,i){Ce(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Oe(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $b(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Jb(e.arrayValue,t.arrayValue))?n:0!==(n=Jb(e.directionalValue,t.directionalValue))?n:jv.comparator(e.documentKey,t.documentKey)}function Jb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Xb=function(){function e(t){Ce(this,e),this.Yt=new Ym((function(e,t){return Fv.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=De(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Oe(e,[{key:"en",get:function(){return this.Yt.size>1}},{key:"tn",value:function(e){if(pv(e.collectionGroup===this.collectionId),this.en)return!1;var t=Vv(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=zv(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){var o=this.Yt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var u=n[i];if(!this.rn(o,u)||!this.sn(this.Zt[a++],u))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],s))return!1}return!0}},{key:"on",value:function(){if(this.en)return null;var e,t=new Ym(Fv.comparator),n=[],r=De(this.Xt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Bv(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Bv(i.field,0))}}}catch(s){r.e(s)}finally{r.f()}var a,o=De(this.Zt);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||t.has(u.field)||(t=t.add(u.field),n.push(new Bv(u.field,"asc"===u.dir?0:1)))}}catch(s){o.e(s)}finally{o.f()}return new Uv(Uv.UNKNOWN_ID,this.collectionId,n,qv.empty())}},{key:"nn",value:function(e){var t,n=De(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ew(e){var t,n;if(pv(e instanceof Vy||e instanceof zy),e instanceof Vy){if(e instanceof tg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Vy.create(e.field,"==",t)})))||[];return zy.create(r,"or")}return e}var i=e.filters.map((function(e){return ew(e)}));return zy.create(i,e.op)}function tw(e){if(0===e.getFilters().length)return[];var t=aw(ew(e));return pv(iw(t)),nw(t)||rw(t)?[t]:t.getFilters()}function nw(e){return e instanceof Vy}function rw(e){return e instanceof zy&&Wy(e)}function iw(e){return nw(e)||rw(e)||function(e){if(e instanceof zy&&qy(e)){var t,n=De(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!nw(r)&&!rw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function aw(e){if(pv(e instanceof Vy||e instanceof zy),e instanceof Vy)return e;if(1===e.filters.length)return aw(e.filters[0]);var t=e.filters.map((function(e){return aw(e)})),n=zy.create(t,e.op);return iw(n=sw(n))?n:(pv(n instanceof zy),pv(By(n)),pv(n.filters.length>1),n.filters.reduce((function(e,t){return ow(e,t)})))}function ow(e,t){var n;return pv(e instanceof Vy||e instanceof zy),pv(t instanceof Vy||t instanceof zy),n=e instanceof Vy?t instanceof Vy?function(e,t){return zy.create([e,t],"and")}(e,t):uw(e,t):t instanceof Vy?uw(t,e):function(e,t){if(pv(e.filters.length>0&&t.filters.length>0),By(e)&&By(t))return Zy(e,t.getFilters());var n=qy(e)?e:t,r=qy(e)?t:e,i=n.filters.map((function(e){return ow(e,r)}));return zy.create(i,"or")}(e,t),sw(n)}function uw(e,t){if(By(t))return Zy(t,e.getFilters());var n=t.filters.map((function(t){return ow(e,t)}));return zy.create(n,"or")}function sw(e){if(pv(e instanceof Vy||e instanceof zy),e instanceof Vy)return e;var t=e.getFilters();if(1===t.length)return sw(t[0]);if(Gy(e))return e;var n=t.map((function(e){return sw(e)})),r=[];return n.forEach((function(t){t instanceof Vy?r.push(t):t instanceof zy&&(t.op===e.op?r.push.apply(r,(0,bt.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:zy.create(r,e.op)}var cw=function(){function e(){Ce(this,e),this._n=new lw}return Oe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),Jv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Jv.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Jv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Jv.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Jv.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Jv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Jv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Jv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Jv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Jv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Jv.resolve(Hv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Jv.resolve(Hv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Jv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Jv.resolve()}}]),e}(),lw=function(){function e(){Ce(this,e),this.index={}}return Oe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ym(Mv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ym(Mv.comparator)).toArray()}}]),e}(),fw=new Uint8Array(0),hw=function(){function e(t,n){Ce(this,e),this.user=t,this.databaseId=n,this.an=new lw,this.un=new Ag((function(e){return og(e)}),(function(e,t){return ug(e,t)})),this.uid=t.uid||""}return Oe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:pm(i)};return dw(e).put(a)}return Jv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ov(t),""],!1,!0);return dw(e).G(r).next((function(e){var r,i=De(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ym(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=vw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=mw(e);return a.next((function(e){o.put(Fb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=vw(e),r=mw(e),i=pw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=vw(e),n=pw(e),r=mw(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Jv.forEach(this.cn(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new Xb(t).on();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=pw(e),i=!0,a=new Map;return Jv.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Vg(),o=[];return Jv.forEach(a,(function(i,a){cv("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(og(t)));var u=function(e,t){var n=Vv(t);if(void 0===n)return null;var r,i=De(cg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=De(zv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=De(cg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=De(zv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?lg(e,o.fieldPath,e.startAt):fg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ry(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=De(zv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?fg(e,o.fieldPath,e.endAt):lg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ry(r,i)}(a,i),f=n.hn(i,a,c),h=n.hn(i,a,l),d=n.Pn(i,a,s),p=n.In(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Jv.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=jv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Jv.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:tw(zy.create(e.filters,"and")).map((function(t){return ag(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Tn(t[h/c]):fw,f=u.En(e,s,n[h%c],r),d=u.dn(e,s,i[h%c],a),p=o.map((function(t){return u.En(e,s,t,!0)}));l.push.apply(l,(0,bt.Z)(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"En",value:function(e,t,n,r){var i=new Qb(e,jv.empty(),t,n);return r?i:i.Jt()}},{key:"dn",value:function(e,t,n,r){var i=new Qb(e,jv.empty(),t,n);return r?i.Jt():i}},{key:"ln",value:function(e,t){var n=new Xb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=De(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Jv.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ym(Fv.comparator),r=!1,i=De(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=De(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=De(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new Yb,i=De(zv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ht(a.kind);qb.bt.Pt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Wt()}},{key:"Tn",value:function(e){var t=new Yb;return qb.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"Rn",value:function(e,t){var n=new Yb;return qb.bt.Pt(ky(this.databaseId,t),n.Ht(function(e){var t=zv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Yb);var i,a=0,o=De(zv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=De(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.Vn(t,s.fieldPath)&&wy(c))r=this.mn(r,s,c);else{var h=f.Ht(s.kind);qb.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"mn",value:function(e,t,n){var r,i=(0,bt.Z)(e),a=[],o=De(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=De(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Yb;f.seed(l.Wt()),qb.bt.Pt(s,f.Ht(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Vy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=vw(e),i=mw(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Jv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new qv(t.sequenceNumber,new Hv(Nb(t.readTime),new jv(ym(t.documentKey)),t.largestBatchId)):qv.empty(),r=e.fields.map((function(e){var t=(0,fe.Z)(e,2),n=t[0],r=t[1];return new Bv(Fv.fromServerFormat(n),r)}));return new Uv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Av(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=vw(e),a=mw(e);return this.gn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Jv.forEach(t,(function(t){return a.put(Fb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Jv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Jv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Jv.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?Jv.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return pw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return pw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=pw(e),i=new Ym($b);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new Qb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new Ym($b),r=this.An(t,e);if(null==r)return n;var i=Vv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(wy(a)){var o,u=De(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Qb(t.indexId,e.key,this.Tn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Qb(t.indexId,e.key,fw,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;cv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=$m(a),s=$m(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=$m(o)):l?(i(u),u=$m(a)):(u=$m(a),s=$m(o))}}(r,i,$b,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),Jv.waitFor(o)}},{key:"gn",value:function(e){var t=1;return mw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return $b(e,t)})).filter((function(e,t,n){return!t||0!==$b(e,n[t-1])}));var r=[];r.push(e);var i,a=De(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=$b(o,e),s=$b(o,t);if(0===u)r[0]=e.Jt();else if(u>0&&s<0)r.push(o),r.push(o.Jt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Dn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,fw,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,fw,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Dn",value:function(e,t){return $b(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(yw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Jv.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||dv()}))})).next(yw)}}]),e}();function dw(e){return Bm(e,"collectionParents")}function pw(e){return Bm(e,"indexEntries")}function vw(e){return Bm(e,"indexConfiguration")}function mw(e){return Bm(e,"indexState")}function yw(e){pv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Kv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Hv(t.readTime,t.documentKey,n)}var gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kw=function(){function e(t,n,r){Ce(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Oe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){pv(1===u)})));var c,l=[],f=De(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=bm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Jv.waitFor(a).next((function(){return l}))}function ww(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw dv();t=e.noDocument}return JSON.stringify(t).length}kw.DEFAULT_COLLECTION_PERCENTILE=10,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kw.DEFAULT=new kw(41943040,kw.DEFAULT_COLLECTION_PERCENTILE,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kw.DISABLED=new kw(-1,0,0);var _w=function(){function e(t,n,r,i){Ce(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}return Oe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ew(e),o=Sw(e);return o.add({}).next((function(u){pv("number"==typeof u);var s,c=new xk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return fb(e.ct,t)})),i=n.mutations.map((function(t){return fb(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Ym((function(e,t){return Av(e.canonicalString(),t.canonicalString())})),d=De(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=bm(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,wm))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Cn[u]=c.keys()})),Jv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Sw(e).get(t).next((function(e){return e?(pv(e.userId===n.userId),Ob(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Cn[t]?Jv.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Cn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Sw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(pv(t.batchId>=r),a=Ob(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Sw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sw(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ob(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=km(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ew(e).Z({range:i},(function(r,i,o){var u=(0,fe.Z)(r,3),s=u[0],c=u[1],l=u[2],f=ym(c);if(s===n.userId&&t.path.isEqual(f))return Sw(e).get(l).next((function(e){if(!e)throw dv();pv(e.userId===n.userId),a.push(Ob(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ym(Av),i=[];return t.forEach((function(t){var a=km(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Ew(e).Z({range:o},(function(e,i,a){var o=(0,fe.Z)(e,3),u=o[0],s=o[1],c=o[2],l=ym(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Jv.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=km(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ym(Av);return Ew(e).Z({range:o},(function(e,t,a){var o=(0,fe.Z)(e,3),s=o[0],c=o[1],l=o[2],f=ym(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Fn(e,u)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Sw(e).get(t).next((function(e){if(null===e)throw dv();pv(e.userId===n.userId),r.push(Ob(n.serializer,e))})))})),Jv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bw(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),Jv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.Cn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Jv.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return Ew(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ym(e[1]);i.push(a)}else r.done()})).next((function(){pv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return xw(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return Tw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return pv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function xw(e,t,n){var r=km(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ew(e).Z({range:a,Y:!0},(function(e,n,r){var a=(0,fe.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Sw(e){return Bm(e,"mutations")}function Ew(e){return Bm(e,"documentMutations")}function Tw(e){return Bm(e,"mutationQueues")}var Iw=function(){function e(t){Ce(this,e),this.On=t}return Oe(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}(),Cw=function(){function e(t,n){Ce(this,e),this.referenceDelegate=t,this.serializer=n}return Oe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ln(e).next((function(n){var r=new Iw(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ln(e).next((function(e){return Dv.fromTimestamp(new Pv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ln(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ln(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Ln(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Aw(e).delete(t.targetId)})).next((function(){return n.Ln(e)})).next((function(t){return pv(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Aw(e).Z((function(o,u){var s=Pb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Jv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Aw(e).Z((function(e,n){var r=Pb(n);t(r)}))}},{key:"Ln",value:function(e){return Nw(e).get("targetGlobalKey").next((function(e){return pv(null!==e),e}))}},{key:"kn",value:function(e,t){return Nw(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return Aw(e).put(Db(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ln(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=og(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Aw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Pb(n);ug(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ow(e);return t.forEach((function(t){var o=pm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Jv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ow(e);return Jv.forEach(t,(function(t){var a=pm(t.path);return Jv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ow(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ow(e),i=Vg();return r.Z({range:n,Y:!0},(function(e,t,n){var r=ym(e[1]),a=new jv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=pm(t.path),r=IDBKeyRange.bound([n],[Ov(n)],!1,!0),i=0;return Ow(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,fe.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return Aw(e).get(t).next((function(e){return e?Pb(e):null}))}}]),e}();function Aw(e){return Bm(e,"targets")}function Nw(e){return Bm(e,"targetGlobal")}function Ow(e){return Bm(e,"targetDocuments")}function Pw(e,t){var n=(0,fe.Z)(e,2),r=n[0],i=n[1],a=(0,fe.Z)(t,2),o=a[0],u=a[1],s=Av(r,o);return 0===s?Av(i,u):s}var Dw=function(){function e(t){Ce(this,e),this.Kn=t,this.buffer=new Ym(Pw),this.$n=0}return Oe(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Pw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Rw=function(){function e(t,n,r){Ce(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return Oe(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;cv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!rm(e.t0)){e.next=12;break}cv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Qv(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Mw=function(){function e(t,n){Ce(this,e),this.jn=t,this.params=n}return Oe(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Jv.resolve(lm.ae);var r=new Dw(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(cv("LruGarbageCollector","Garbage collection skipped; disabled"),Jv.resolve(gw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(cv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),gw):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(cv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),sv()<=It.DEBUG&&cv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Jv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Lw(e,t){return new Mw(e,t)}var Fw=function(){function e(t,n){Ce(this,e),this.db=t,this.garbageCollector=Lw(this,n)}return Oe(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return jw(e,n)}},{key:"removeReference",value:function(e,t,n){return jw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return jw(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return Tw(e).X((function(r){return xw(e,r,t).next((function(e){return e&&(n=!0),Jv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,u){if(u<=t){var s=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Dv.min()),Ow(e).delete(function(e){return[0,pm(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Jv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return jw(e,t)}},{key:"Xn",value:function(e,t){var n,r=Ow(e),i=lm.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,fe.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==lm.ae&&t(new jv(ym(n)),i),i=s,n=u):i=lm.ae})).next((function(){i!==lm.ae&&t(new jv(ym(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function jw(e,t){return Ow(e).put(function(e,t){return{targetId:0,path:pm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Uw=function(){function e(){Ce(this,e),this.changes=new Ag((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Oe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Jv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Vw=function(){function e(t){Ce(this,e),this.serializer=t}return Oe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ww(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ww(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Cb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Dy.newInvalidDocument(t);return Ww(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gw(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:Dy.newInvalidDocument(t)};return Ww(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gw(t))},(function(e,i){r={document:n.nr(t,i),size:ww(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Og();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=Og(),i=new Hm(jv.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,ww(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return Jv.resolve();var r=new Ym(Kw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Gw(r.first()),Gw(r.last())),a=r.getIterator(),o=a.getNext();return Ww(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=jv.fromSegments([].concat((0,bt.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Kw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(Gw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,u=[o.popLast().toArray(),o.lastSegment(),Cb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ww(e).G(IDBKeyRange.bound(u,s,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Og(),u=De(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=a.nr(jv.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(Eg(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){u.e(l)}finally{u.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Og(),o=Hw(t,n),u=Hw(t,Hv.max());return Ww(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.nr(jv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Bw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return qw(e).get("remoteDocumentGlobalKey").next((function(e){return pv(!!e),e}))}},{key:"tr",value:function(e,t){return qw(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=cb(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=jv.fromSegments(t.noDocument.path),i=Nb(t.noDocument.readTime);n=Dy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return dv();var a=jv.fromSegments(t.unknownDocument.path),o=Nb(t.unknownDocument.version);n=Dy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Pv(e[0],e[1]);return Dv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Dv.min()))return n}return Dy.newInvalidDocument(e)}}]),e}();function zw(e){return new Vw(e)}var Bw=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new Ag((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Oe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ym((function(e,t){return Av(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ib(t.ar.serializer,o);i=i.add(a.path.popLast());var c=ww(s);r+=c-u.size,n.push(t.ar.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ib(t.ar.serializer,o.convertToNoDocument(Dv.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),Jv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Uw);function qw(e){return Bm(e,"remoteDocumentGlobal")}function Ww(e){return Bm(e,"remoteDocumentsV14")}function Gw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Hw(e,t){var n=t.documentKey.path.toArray();return[e,Cb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Kw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Av(n[a],r[a]))return i;return(i=Av(n.length,r.length))||((i=Av(n[n.length-2],r[r.length-2]))||Av(n[n.length-1],r[r.length-1]))}var Zw=Oe((function e(t,n){Ce(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Yw=function(){function e(t,n,r,i){Ce(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Oe(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&fk(r.mutation,e,Jm.empty(),Pv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Vg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vg(),i=Mg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Dg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Mg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Vg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Og(),a=Fg(),o=Fg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof vk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),fk(o.mutation,t,o.mutation.getFieldMask(),Pv.now())):a.set(t.key,Jm.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Zw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Fg(),i=new Hm((function(e,t){return e-t})),a=Vg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=De(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Jm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Vg()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Lg();c.forEach((function(e){if(!a.has(e)){var n=ck(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Jv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return jv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Jv.resolve(Mg()),u=-1,s=a;return o.next((function(t){return Jv.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Jv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Vg())})).next((function(e){return{batchId:u,changes:Rg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new jv(t)).next((function(e){var t=Dg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Dg();return this.indexManager.getCollectionParents(e,a).next((function(u){return Jv.forEach(u,(function(u){var s=function(e,t){return new hg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dy.newInvalidDocument(r)))}));var n=Dg();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&fk(a.mutation,r,Jm.empty(),Pv.now()),Eg(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Qw=function(){function e(t){Ce(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return Oe(e,[{key:"getBundleMetadata",value:function(e,t){return Jv.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Xk(e.createTime)}}(t)),Jv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Jv.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Rb(e.bundledQuery),readTime:Xk(e.readTime)}}(t)),Jv.resolve()}}]),e}(),$w=function(){function e(){Ce(this,e),this.overlays=new Hm(jv.comparator),this.hr=new Map}return Oe(e,[{key:"getOverlay",value:function(e,t){return Jv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mg();return Jv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Jv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),Jv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Mg(),i=t.length+1,a=new jv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Jv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Hm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Mg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Mg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Jv.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ek(t,n));var a=this.hr.get(t);void 0===a&&(a=Vg(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Jw=function(){function e(){Ce(this,e),this.Pr=new Ym(Xw.Ir),this.Tr=new Ym(Xw.Er)}return Oe(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xw(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new Xw(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new jv(new Mv([])),r=new Xw(n,e),i=new Xw(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new jv(new Mv([])),n=new Xw(t,e),r=new Xw(t,e+1),i=Vg();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xw(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xw=function(){function e(t,n){Ce(this,e),this.key=t,this.pr=n}return Oe(e,null,[{key:"Ir",value:function(e,t){return jv.comparator(e.key,t.key)||Av(e.pr,t.pr)}},{key:"Er",value:function(e,t){return Av(e.pr,t.pr)||jv.comparator(e.key,t.key)}}]),e}(),e_=function(){function e(t,n){Ce(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ym(Xw.Ir)}return Oe(e,[{key:"checkEmpty",value:function(e){return Jv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new xk(i,t,n,r);this.mutationQueue.push(a);var o,u=De(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.wr=this.wr.add(new Xw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Jv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Jv.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return Jv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Jv.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return Jv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xw(t,0),i=new Xw(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),Jv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ym(Av);return t.forEach((function(e){var t=new Xw(e,0),i=new Xw(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),Jv.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jv.isDocumentKey(i)||(i=i.child(""));var a=new Xw(new jv(i),0),o=new Ym(Av);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),Jv.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;pv(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return Jv.forEach(t.mutations,(function(i){var a=new Xw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xw(t,0),r=this.wr.firstAfterOrEqual(n);return Jv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Jv.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),t_=function(){function e(t){Ce(this,e),this.vr=t,this.docs=new Hm(jv.comparator),this.size=0}return Oe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Jv.resolve(n?n.document.mutableCopy():Dy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Og();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dy.newInvalidDocument(e))})),Jv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Og(),a=t.path,o=new jv(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Kv(Gv(l),n)<=0||(r.has(l.key)||Eg(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Jv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){dv()}},{key:"Fr",value:function(e,t){return Jv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new n_(this)}},{key:"getSize",value:function(e){return Jv.resolve(this.size)}}]),e}(),n_=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).ar=e,r}return Oe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),Jv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Uw),r_=function(){function e(t){Ce(this,e),this.persistence=t,this.Mr=new Ag((function(e){return og(e)}),ug),this.lastRemoteSnapshotVersion=Dv.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jw,this.targetCount=0,this.Br=Iw.Nn()}return Oe(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),Jv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Jv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Jv.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),Jv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Jv.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new Iw(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,Jv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),Jv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Jv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Jv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Jv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return Jv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),Jv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Jv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),Jv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return Jv.resolve(n)}},{key:"containsKey",value:function(e,t){return Jv.resolve(this.Nr.containsKey(t))}}]),e}(),i_=function(){function e(t,n){var r=this;Ce(this,e),this.Lr={},this.overlays={},this.kr=new lm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new r_(this),this.indexManager=new cw,this.remoteDocumentCache=function(e){return new t_(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new Tb(n),this.$r=new Qw(this.serializer)}return Oe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new $w,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new e_(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;cv("MemoryPersistence","Starting transaction:",e);var i=new a_(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return Jv.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),a_=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Oe(n)}(Yv),o_=function(){function e(t){Ce(this,e),this.persistence=t,this.zr=new Jw,this.jr=null}return Oe(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw dv()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Jv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Jv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),Jv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jv.forEach(this.Jr,(function(r){var i=jv.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,Dv.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return Jv.or([function(){return Jv.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),u_=function(){function e(t){Ce(this,e),this.serializer=t}return Oe(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Xv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gm,{unique:!0}),e.createObjectStore("documentMutations")}(e),s_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Jv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),s_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Jv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Dm});t.createIndex("collectionPathOverlayIndex",Rm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Mm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:_m});t.createIndex("documentKeyIndex",xm),t.createIndex("collectionGroupIndex",Sm)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Am}).createIndex("sequenceNumberIndex",Nm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Om}).createIndex("documentKeyIndex",Pm,{unique:!1})}(e)}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=ww(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Jv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Jv.forEach(r,(function(r){pv(r.userId===n.userId);var i=Ob(t.serializer,r);return bw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Mv(n),o=function(e){return[0,pm(e)]}(a);r.push(t.get(o).next((function(n){return n?Jv.resolve():function(n){return t.put({targetId:0,path:pm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Jv.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Cm});var n=t.store("collectionParents"),r=new lw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:pm(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Mv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=(0,fe.Z)(e,3),r=(n[0],n[1]),a=(n[2],ym(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Pb(r),a=Db(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new jv(Mv.fromString(e.document.name).popFirst(5)):e.noDocument?jv.fromSegments(e.noDocument.path):e.unknownDocument?jv.fromSegments(e.unknownDocument.path):dv()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Jv.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=zw(this.serializer),a=new i_(o_.Hr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Vg();Ob(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Jv.forEach(r,(function(e,r){var o=new av(r),u=zb.lt(n.serializer,o),s=a.getIndexManager(o),c=_w.lt(o,n.serializer,s,a.referenceDelegate);return new Yw(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new zm(t,lm.ae),e).next()}))}))}}]),e}();function s_(e){e.createObjectStore("targetDocuments",{keyPath:Tm}).createIndex("documentTargetsIndex",Im,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Em,{unique:!0}),e.createObjectStore("targetGlobal")}var c_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",l_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Ce(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=u,this._i=c,this.ai=l,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.C())throw new yv(mv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fw(this,i),this.Ti=n+"main",this.serializer=new Tb(s),this.Ei=new em(this.Ti,this.ui,new u_(this.serializer)),this.Qr=new Cw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zw(this.serializer),this.$r=new jb,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&lv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Oe(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new yv(mv.FAILED_PRECONDITION,c_);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new lm(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=_t(kt().mark((function n(r){return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=_t(kt().mark((function t(n){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return h_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(rm(t))return cv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return cv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return f_(e).get("owner").next((function(e){return Jv.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return h_(e).delete(this.clientId)}},{key:"Di",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i,a=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ci(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Bm(e,"clientMetadata");return t.G().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Jv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=De(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?Jv.resolve(!0):f_(e).get("owner").next((function(n){if(null!==n&&t.Ci(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new yv(mv.FAILED_PRECONDITION,c_);return!1}}return!(!t.networkEnabled||!t.inForeground)||h_(e).G().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&cv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=_t(kt().mark((function e(){var t=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new zm(e,lm.ae);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Bi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Ci(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Li",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return h_(t).G().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return _w.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new hw(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return zb.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;cv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Vm:14===e?Um:13===e?jm:12===e?Fm:11===e?Lm:void dv()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new zm(a,r.kr?r.kr.next():lm.ae),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw lv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new yv(mv.FAILED_PRECONDITION,Zv);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return f_(e).get("owner").next((function(e){if(null!==e&&t.Ci(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new yv(mv.FAILED_PRECONDITION,c_)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return f_(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=f_(e);return n.get("owner").next((function(e){return t.Si(e)?(cv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Jv.resolve()}))}},{key:"Ci",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(lv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return cv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return lv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){lv("Failed to set zombie client id.",e)}}},{key:"Bi",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return em.C()}}]),e}();function f_(e){return Bm(e,"owner")}function h_(e){return Bm(e,"clientMetadata")}function d_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var p_=function(){function e(t,n,r,i){Ce(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return Oe(e,null,[{key:"Ki",value:function(t,n){var r,i=Vg(),a=Vg(),o=De(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),v_=function(){function e(){Ce(this,e),this._documentReadCount=0}return Oe(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),m_=function(){function e(){Ce(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}return Oe(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new v_;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(sv()<=It.DEBUG&&cv("QueryEngine","SDK will not create cache indexes for query:",Sg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Jv.resolve()):(sv()<=It.DEBUG&&cv("QueryEngine","Query:",Sg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(sv()<=It.DEBUG&&cv("QueryEngine","The SDK decides to create cache indexes for query:",Sg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gg(t))):Jv.resolve())}},{key:"ji",value:function(e,t){var n=this;if(vg(t))return Jv.resolve(null);var r=gg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=wg(t,null,"F"),r=gg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Vg.apply(void 0,(0,bt.Z)(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,wg(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return vg(t)||r.isEqual(Dv.min())?Jv.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?Jv.resolve(null):(sv()<=It.DEBUG&&cv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sg(t)),i.es(e,o,t,Wv(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new Ym(Ig(e));return t.forEach((function(t,r){Eg(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return sv()<=It.DEBUG&&cv("QueryEngine","Using full collection scan to execute query:",Sg(t)),this.zi.getDocumentsMatchingQuery(e,t,Hv.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),y_=function(){function e(t,n,r,i){Ce(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new Hm(Av),this.rs=new Ag((function(e){return og(e)}),ug),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return Oe(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function g_(e,t,n,r){return new y_(e,t,n,r)}function k_(e,t){return b_.apply(this,arguments)}function b_(){return b_=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Vg(),s=De(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=De(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=De(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=De(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t){var n=vv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Jv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);pv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Vg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function __(e){var t=vv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function x_(e,t){var n=vv(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(ey.EMPTY_BYTE_STRING,Dv.min()).withLastLimboFreeSnapshotVersion(Dv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var u=Og(),s=Vg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(S_(e,a,t.documentUpdates).next((function(e){u=e.cs,s=e.ls}))),!r.isEqual(Dv.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Jv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.ns=i,e}))}function S_(e,t,n){var r=Vg(),i=Vg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Og();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Dv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):cv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function E_(e,t){var n=vv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function T_(e,t){var n=vv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,Jv.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new Eb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function I_(e,t,n){return C_.apply(this,arguments)}function C_(){return C_=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vv(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),rm(e.t1)){e.next=12;break}throw e.t1;case 12:cv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),C_.apply(this,arguments)}function A_(e,t,n){var r=vv(e),i=Dv.min(),a=Vg();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=vv(e),i=r.rs.get(n);return void 0!==i?Jv.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,gg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:Dv.min(),n?a:Vg())})).next((function(e){return P_(r,Tg(t),e),{documents:e,hs:a}}))}))}function N_(e,t){var n=vv(e),r=vv(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function O_(e,t){var n=vv(e),r=n.ss.get(t)||Dv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.os.getAllFromCollectionGroup(e,t,Wv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return P_(n,t,e),e}))}function P_(e,t,n){var r=e.ss.get(t)||Dv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}function D_(e,t,n,r){return R_.apply(this,arguments)}function R_(){return R_=_t(kt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=vv(t),o=Vg(),u=Og(),s=De(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ps(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Is(l)).setReadTime(n.Ts(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.os.newChangeBuffer({trackRemovals:!0}),e.next=7,T_(a,function(e){return gg(pg(Mv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return S_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls)})).next((function(){return t.cs}))}))})));case 9:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function M_(e,t){return L_.apply(this,arguments)}function L_(){return L_=_t(kt().mark((function e(t,n){var r,i,a,o=arguments;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Vg(),e.next=3,T_(t,gg(Rb(n.bundledQuery)));case 3:return i=e.sent,a=vv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Xk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(ey.EMPTY_BYTE_STRING,t);return a.ns=a.ns.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function F_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function j_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function U_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var V_=function(){function e(t,n,r,i){Ce(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Oe(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new yv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(lv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),z_=function(){function e(t,n,r){Ce(this,e),this.targetId=t,this.state=n,this.error=r}return Oe(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yv(i.error.code,i.error.message))),a?new e(t,i.state,r):(lv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),B_=function(){function e(t,n){Ce(this,e),this.clientId=t,this.activeTargetIds=n}return Oe(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bg(),o=0;i&&o<r.activeTargetIds.length;++o)i=dm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(lv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),q_=function(){function e(t,n){Ce(this,e),this.clientId=t,this.onlineState=n}return Oe(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(lv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),W_=function(){function e(){Ce(this,e),this.activeTargetIds=Bg()}return Oe(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),G_=function(){function e(t,n,r,i,a){Ce(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Hm(Av),this.started=!1,this.ys=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ws=F_(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new W_),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}return Oe(e,[{key:"start",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Li();case 2:t=e.sent,n=De(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Vs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(F_(this.persistenceKey,i)))&&(o=B_.Es(i,a))&&(this.ps=this.ps.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ms(),(u=this.storage.getItem(this.vs))&&(s=this.xs(u))&&this.Os(s),c=De(this.ys);try{for(c.s();!(l=c.n()).done;)f=l.value,this.gs(f)}catch(d){c.e(d)}finally{c.f()}this.ys=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ss,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ns(this.ps)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ps.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Bs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Bs(e,t,n),this.Ls(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(U_(this.persistenceKey,e));if(n){var r=z_.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ks.Rs(e),this.Ms()}},{key:"isLocalQueryTarget",value:function(e){return this.ks.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(U_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ls(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ks(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return cv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){cv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){cv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"gs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(cv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void lv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(_t(kt().mark((function e(){var r,i,a,o,u,s,c;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.bs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.$s(n.key),e.abrupt("return",t.Us(r,null));case 6:if(!(i=t.Ws(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Us(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Ds.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Gs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.zs(a));case 16:e.next=41;break;case 18:if(!t.Cs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.js(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Hs(o));case 23:e.next=41;break;case 25:if(n.key!==t.vs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Os(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ss){e.next=37;break}s=function(e){var t=lm.ae;if(null!=e)try{var n=JSON.parse(e);pv("number"==typeof n),t=n}catch(e){lv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==lm.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Fs){e.next=41;break}return c=t.Js(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ys(e)})));case 41:e.next=44;break;case 43:t.ys.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"ks",get:function(){return this.ps.get(this.Vs)}},{key:"Ms",value:function(){this.setItem(this.ws,this.ks.ds())}},{key:"Bs",value:function(e,t,n){var r=new V_(this.currentUser,e,t,n),i=j_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}},{key:"Ls",value:function(e){var t=j_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Qs",value:function(e){var t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}},{key:"qs",value:function(e,t,n){var r=U_(this.persistenceKey,e),i=new z_(e,t,n);this.setItem(r,i.ds())}},{key:"Ks",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}},{key:"$s",value:function(e){var t=this.bs.exec(e);return t?t[1]:null}},{key:"Ws",value:function(e,t){var n=this.$s(e);return B_.Es(n,t)}},{key:"Gs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return V_.Es(new av(i),r,t)}},{key:"js",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]);return z_.Es(r,t)}},{key:"xs",value:function(e){return q_.Es(e)}},{key:"Js",value:function(e){return JSON.parse(e)}},{key:"zs",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Zs(t.batchId,t.state,t.error));case 2:cv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Hs",value:function(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}},{key:"Us",value:function(e,t){var n=this,r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),a=this.Ns(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.eo(o,u).then((function(){n.ps=r}))}},{key:"Os",value:function(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ns",value:function(e){var t=Bg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),H_=function(){function e(){Ce(this,e),this.no=new W_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Oe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new W_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),K_=function(){function e(){Ce(this,e)}return Oe(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Z_=function(){function e(){var t=this;Ce(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return Oe(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){cv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=De(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){cv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=De(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Y_=null;function Q_(){return null===Y_?Y_=268435456+Math.round(2147483648*Math.random()):Y_++,"0x"+Y_.toString(16)}var $_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},J_=function(){function e(t){Ce(this,e),this.lo=t.lo,this.ho=t.ho}return Oe(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),X_="WebChannelConnection",ex=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Oe(n,[{key:"Co",value:function(e,t,n,r){var i=Q_();return new Promise((function(a,o){var u=new tv;u.setWithCredentials(!0),u.listenOnce($p.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Qp.NO_ERROR:var t=u.getResponseJson();cv(X_,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Qp.TIMEOUT:cv(X_,"RPC '".concat(e,"' ").concat(i," timed out")),o(new yv(mv.DEADLINE_EXCEEDED,"Request time out"));break;case Qp.HTTP_ERROR:var n=u.getStatus();if(cv(X_,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(mv).indexOf(t)>=0?t:mv.UNKNOWN}(s.status);o(new yv(c,s.message))}else o(new yv(mv.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new yv(mv.UNAVAILABLE,"Connection failed."));break;default:dv()}}finally{cv(X_,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);cv(X_,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=Q_(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zp(),o=Yp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");cv(X_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new J_({lo:function(t){h?cv(X_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(cv(X_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),cv(X_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,ev.EventType.OPEN,(function(){h||cv(X_,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,ev.EventType.CLOSE,(function(){h||(h=!0,cv(X_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(l,ev.EventType.ERROR,(function(t){h||(h=!0,fv(X_,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new yv(mv.UNAVAILABLE,"The operation could not be completed")))})),p(l,ev.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];pv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){cv(X_,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=kk[e];if(void 0!==t)return Ck(t)}(u),c=o.message;void 0===s&&(s=mv.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Vo(new yv(s,c)),l.close()}else cv(X_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,Jp.STAT_EVENT,(function(t){t.stat===Xp.PROXY?cv(X_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xp.NOPROXY&&cv(X_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){Ce(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return Oe(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=Q_(),o=this.bo(e,t);cv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,r,i),this.Co(e,o,u,n).then((function(t){return cv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw fv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ov,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=$_[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}}]),e}());function tx(){return"undefined"!=typeof window?window:null}function nx(){return"undefined"!=typeof document?document:null}function rx(e){return new Zk(e,!0)}var ix=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ce(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return Oe(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&cv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),ax=function(){function e(t,n,r,i,a,o,u,s){Ce(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ix(t,n)}return Oe(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===mv.RESOURCE_EXHAUSTED?(lv(n.toString()),lv("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===mv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,fe.Z)(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new yv(mv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return cv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(cv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ox=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a,o,u){var s;return Ce(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return Oe(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:dv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(pv(void 0===t||"string"==typeof t),ey.fromBase64String(t||"")):(pv(void 0===t||t instanceof Uint8Array),ey.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?mv.UNKNOWN:Ck(e.code);return new yv(t,e.message||"")}(o);n=new Vk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=rb(e,s.document.name),l=Xk(s.document.updateTime),f=s.document.createTime?Xk(s.document.createTime):Dv.min(),h=new Oy({mapValue:{fields:s.document.fields}}),d=Dy.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new jk(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=rb(e,m.document),g=m.readTime?Xk(m.readTime):Dv.min(),k=Dy.newNoDocument(y,g),b=m.removedTargetIds||[];n=new jk([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=rb(e,w.document),x=w.removedTargetIds||[];n=new jk([],x,_,null)}else{if(!("filter"in t))return dv();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,I=S.unchangedNames,C=new Tk(T,I),A=S.targetId;n=new Uk(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Dv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Dv.min():t.readTime?Xk(t.readTime):Dv.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=ob(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=sg(r)?{documents:db(e,r)}:{query:pb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$k(e,t.resumeToken);var i=Yk(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Dv.min())>0){n.readTime=Qk(e,t.snapshotVersion.toTimestamp());var a=Yk(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=ob(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(ax),ux=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a,o,u){var s;return Ce(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.h_=!1,s}return Oe(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,nr(Le(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(pv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(pv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Xk(e.updateTime):Xk(t);return n.isEqual(Dv.min())&&(n=Xk(t)),new ak(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Xk(e.commitTime);return this.listener.T_(n,t)}return pv(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=ob(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return fb(t.serializer,e)}))};this.t_(n)}}]),n}(ax),sx=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a){var o;return Ce(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return Oe(n,[{key:"R_",value:function(){if(this.A_)throw new yv(mv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n){var r=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,fe.Z)(i,2),o=a[0],u=a[1];return r.connection.So(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new yv(mv.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,fe.Z)(a,2),u=o[0],s=o[1];return i.connection.vo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new yv(mv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0}}]),n}(Oe((function e(){Ce(this,e)})));var cx=function(){function e(t,n){Ce(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return Oe(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(lv(t),this.g_=!1):cv("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),lx=Oe((function e(t,n,r,i,a){var o=this;Ce(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=wx(o),!e.t0){e.next=5;break}return cv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vv(t)).v_.add(4),e.next=4,dx(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,fx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new cx(r,i)}));function fx(e){return hx.apply(this,arguments)}function hx(){return(hx=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wx(t)){e.next=18;break}n=De(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function dx(e){return px.apply(this,arguments)}function px(){return(px=_t(kt().mark((function e(t){var n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=De(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function vx(e,t){var n=vv(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),bx(n)?kx(n):Qx(n).Jo()&&yx(n,t))}function mx(e,t){var n=vv(e),r=Qx(n);n.C_.delete(t),r.Jo()&&gx(n,t),0===n.C_.size&&(r.Jo()?r.Xo():wx(n)&&n.x_.set("Unknown"))}function yx(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qx(e).c_(t)}function gx(e,t){e.O_.Ne(t),Qx(e).l_(t)}function kx(e){e.O_=new Bk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.C_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),Qx(e).start(),e.x_.p_()}function bx(e){return wx(e)&&!Qx(e).Ho()&&e.C_.size>0}function wx(e){return 0===vv(e).v_.size}function _x(e){e.O_=void 0}function xx(e){return Sx.apply(this,arguments)}function Sx(){return(Sx=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){yx(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ex(e,t){return Tx.apply(this,arguments)}function Tx(){return(Tx=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_x(t),bx(t)?(t.x_.S_(n),kx(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ix(e,t,n){return Cx.apply(this,arguments)}function Cx(){return Cx=_t(kt().mark((function e(t,n,r){var i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof Vk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=De(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),cv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ax(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof jk?t.O_.Ue(n):n instanceof Uk?t.O_.Ye(n):t.O_.ze(n),r.isEqual(Dv.min())){e.next=29;break}return e.prev=14,e.next=17,__(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(ey.EMPTY_BYTE_STRING,r.snapshotVersion)),gx(e,t);var i=new Eb(r.target,t,n,r.sequenceNumber);yx(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),cv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ax(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Cx.apply(this,arguments)}function Ax(e,t,n){return Nx.apply(this,arguments)}function Nx(){return(Nx=_t(kt().mark((function e(t,n,r){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rm(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,dx(t);case 5:t.x_.set("Offline"),r||(r=function(){return __(t.localStore)}),t.asyncQueue.enqueueRetryable(_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,fx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ox(e,t){return t().catch((function(n){return Ax(e,n,t)}))}function Px(e){return Dx.apply(this,arguments)}function Dx(){return Dx=_t(kt().mark((function e(t){var n,r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vv(t),r=$x(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!Rx(n)){e.next=19;break}return e.prev=3,e.next=6,E_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,Mx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ax(n,e.t0);case 17:e.next=2;break;case 19:Lx(n)&&Fx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Dx.apply(this,arguments)}function Rx(e){return wx(e)&&e.D_.length<10}function Mx(e,t){e.D_.push(t);var n=$x(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Lx(e){return wx(e)&&!$x(e).Ho()&&e.D_.length>0}function Fx(e){$x(e).start()}function jx(e){return Ux.apply(this,arguments)}function Ux(){return(Ux=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$x(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vx(e){return zx.apply(this,arguments)}function zx(){return(zx=_t(kt().mark((function e(t){var n,r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$x(t),r=De(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=Sk.from(i,n,r),e.next=3,Ox(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Px(t);case 5:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Wx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=_t(kt().mark((function e(t,n){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&$x(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Ik(e)&&e!==mv.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),$x(t).Zo(),e.next=5,Ox(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Px(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Lx(t)&&Fx(t);case 5:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Hx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=_t(kt().mark((function e(t,n){var r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=vv(t)).asyncQueue.verifyOperationInProgress(),cv("RemoteStore","RemoteStore received new credentials"),i=wx(r),r.v_.add(3),e.next=6,dx(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,fx(r);case 12:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Zx(e,t){return Yx.apply(this,arguments)}function Yx(){return(Yx=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vv(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,fx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,dx(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qx(e){return e.N_||(e.N_=function(e,t,n){var r=vv(e);return r.R_(),new ox(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:xx.bind(null,e),To:Ex.bind(null,e),u_:Ix.bind(null,e)}),e.F_.push(function(){var t=_t(kt().mark((function t(n){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),bx(e)?kx(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:_x(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function $x(e){return e.B_||(e.B_=function(e,t,n){var r=vv(e);return r.R_(),new ux(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:jx.bind(null,e),To:Wx.bind(null,e),E_:Vx.bind(null,e),T_:Bx.bind(null,e)}),e.F_.push(function(){var t=_t(kt().mark((function t(n){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.B_.Zo(),t.next=4,Px(e);case 4:t.next=9;break;case 6:return t.next=8,e.B_.stop();case 8:e.D_.length>0&&(cv("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}var Jx=function(){function e(t,n,r,i,a){Ce(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Oe(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yv(mv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Xx(e,t){if(lv("AsyncQueue","".concat(t,": ").concat(e)),rm(e))return new yv(mv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var eS=function(){function e(t){Ce(this,e),this.comparator=t?function(e,n){return t(e,n)||jv.comparator(e.key,n.key)}:function(e,t){return jv.comparator(e.key,t.key)},this.keyedMap=Dg(),this.sortedSet=new Hm(this.comparator)}return Oe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),tS=function(){function e(){Ce(this,e),this.L_=new Hm(jv.comparator)}return Oe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):dv():this.L_=this.L_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.L_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),nS=function(){function e(t,n,r,i,a,o,u,s,c){Ce(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Oe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,eS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),rS=Oe((function e(){Ce(this,e),this.q_=void 0,this.listeners=[]})),iS=Oe((function e(){Ce(this,e),this.queries=new Ag((function(e){return xg(e)}),_g),this.onlineState="Unknown",this.Q_=new Set}));function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=_t(kt().mark((function e(t,n){var r,i,a,o,u;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new rS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Xx(e.t0,"Initialization of query '".concat(Sg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.K_(r.onlineState),o.q_&&n.U_(o.q_)&&fS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),oS.apply(this,arguments)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=_t(kt().mark((function e(t,n){var r,i,a,o,u;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function cS(e,t){var n,r=vv(e),i=!1,a=De(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=De(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.U_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&fS(r)}function lS(e,t,n){var r=vv(e),i=r.queries.get(t);if(i){var a,o=De(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function fS(e){e.Q_.forEach((function(e){e.next()}))}var hS=function(){function e(t,n,r){Ce(this,e),this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}return Oe(e,[{key:"U_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=De(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new nS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.G_?this.j_(e)&&(this.W_.next(e),a=!0):this.H_(e,this.onlineState)&&(this.J_(e),a=!0),this.z_=e,a}},{key:"onError",value:function(e){this.W_.error(e)}},{key:"K_",value:function(e){this.onlineState=e;var t=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),t=!0),t}},{key:"H_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Y_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"j_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"J_",value:function(e){e=nS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}]),e}(),dS=function(){function e(t,n){Ce(this,e),this.Z_=t,this.byteLength=n}return Oe(e,[{key:"X_",value:function(){return"metadata"in this.Z_}}]),e}(),pS=function(){function e(t){Ce(this,e),this.serializer=t}return Oe(e,[{key:"Ps",value:function(e){return rb(this.serializer,e)}},{key:"Is",value:function(e){return e.metadata.exists?cb(this.serializer,e.document,!1):Dy.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return Xk(e)}}]),e}(),vS=function(){function e(t,n,r){Ce(this,e),this.ea=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mS(t)}return Oe(e,[{key:"ta",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Z_.namedQuery)this.queries.push(e.Z_.namedQuery);else if(e.Z_.documentMetadata){this.documents.push({metadata:e.Z_.documentMetadata}),e.Z_.documentMetadata.exists||++t;var n=Mv.fromString(e.Z_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Z_.document&&(this.documents[this.documents.length-1].document=e.Z_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"na",value:function(e){var t,n=new Map,r=new pS(this.serializer),i=De(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ps(a.metadata.name),s=De(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Vg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D_(this.localStore,new pS(this.serializer),this.documents,this.ea.id);case 2:t=e.sent,n=this.na(this.documents),r=De(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,M_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ra:this.collectionGroups,ia:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function mS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var yS=Oe((function e(t){Ce(this,e),this.key=t})),gS=Oe((function e(t){Ce(this,e),this.key=t})),kS=function(){function e(t,n){Ce(this,e),this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Vg(),this.mutatedKeys=Vg(),this.aa=Ig(t),this.ua=new eS(this.aa)}return Oe(e,[{key:"ca",get:function(){return this.sa}},{key:"la",value:function(e,t){var n=this,r=t?t.ha:new tS,i=t?t.ua:this.ua,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Eg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Pa(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.aa(f,s)>0||c&&n.aa(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ua:o,ha:r,Xi:u,mutatedKeys:a}}},{key:"Pa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;var a=e.ha.k_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dv()}};return n(e)-n(t)}(e.type,t.type)||r.aa(e.doc,t.doc)})),this.Ia(n);var o=t?this.Ta():[],u=0===this._a.size&&this.current?1:0,s=u!==this.oa;return this.oa=u,0!==a.length||s?{snapshot:new nS(this.query,e.ua,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"K_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ua:this.ua,ha:new tS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}},{key:"da",value:function(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}},{key:"Ia",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.sa=t.sa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.sa=t.sa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this._a;this._a=Vg(),this.ua.forEach((function(t){e.da(t.key)&&(e._a=e._a.add(t.key))}));var n=[];return t.forEach((function(t){e._a.has(t)||n.push(new gS(t))})),this._a.forEach((function(e){t.has(e)||n.push(new yS(e))})),n}},{key:"Aa",value:function(e){this.sa=e.hs,this._a=Vg();var t=this.la(e.documents);return this.applyChanges(t,!0)}},{key:"Ra",value:function(){return nS.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,0===this.oa,this.hasCachedResults)}}]),e}(),bS=Oe((function e(t,n,r){Ce(this,e),this.query=t,this.targetId=n,this.view=r})),wS=Oe((function e(t){Ce(this,e),this.key=t,this.Va=!1})),_S=function(){function e(t,n,r,i,a,o){Ce(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Ag((function(e){return xg(e)}),_g),this.ga=new Map,this.pa=new Set,this.ya=new Hm(jv.comparator),this.wa=new Map,this.Sa=new Jw,this.ba={},this.Da=new Map,this.Ca=Iw.Bn(),this.onlineState="Unknown",this.va=void 0}return Oe(e,[{key:"isPrimaryClient",get:function(){return!0===this.va}}]),e}();function xS(e,t){return SS.apply(this,arguments)}function SS(){return SS=_t(kt().mark((function e(t,n){var r,i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mE(t),!(o=r.fa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ra(),e.next=15;break;case 6:return e.next=8,T_(r.localStore,gg(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,ES(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&vx(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function ES(e,t,n,r,i){return TS.apply(this,arguments)}function TS(){return TS=_t(kt().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fa=function(e,n,r){return function(){var e=_t(kt().mark((function e(t,n,r,i){var a,o,u;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.la(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,A_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.la(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(HS(t,n.targetId,u.Ea),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,A_(t.localStore,n,!0);case 3:return o=e.sent,u=new kS(n,o.hs),s=u.la(o.documents),c=Fk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),HS(t,r,l.Ea),f=new bS(n,r,u),e.abrupt("return",(t.fa.set(n,f),t.ga.has(r)?t.ga.get(r).push(n):t.ga.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function IS(e,t){return CS.apply(this,arguments)}function CS(){return CS=_t(kt().mark((function e(t,n){var r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vv(t),i=r.fa.get(n),!((a=r.ga.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ga.set(i.targetId,a.filter((function(e){return!_g(e,n)}))),void r.fa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,I_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mx(r.remoteStore,i.targetId),WS(r,i.targetId)})).catch(Qv);case 9:e.next=14;break;case 11:return WS(r,i.targetId),e.next=14,I_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function AS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=_t(kt().mark((function e(t,n,r){var i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=vv(e),a=Pv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Vg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Og(),s=Vg();return i.os.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=De(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=hk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new vk(c.key,l,Py(l.value.mapValue),ok.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Rg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ba[e.currentUser.toKey()];r||(r=new Hm(Av)),r=r.insert(t,n),e.ba[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,YS(i,a.changes);case 9:return e.next=11,Px(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Xx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),NS.apply(this,arguments)}function OS(e,t){return PS.apply(this,arguments)}function PS(){return PS=_t(kt().mark((function e(t,n){var r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),e.prev=1,e.next=4,x_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.wa.get(t);n&&(pv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Va=!0:e.modifiedDocuments.size>0?pv(n.Va):e.removedDocuments.size>0&&(pv(n.Va),n.Va=!1))})),e.next=8,YS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Qv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),PS.apply(this,arguments)}function DS(e,t,n){var r=vv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.fa.forEach((function(e,n){var r=n.view.K_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=De(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.K_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&fS(n)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function RS(e,t,n){return MS.apply(this,arguments)}function MS(){return MS=_t(kt().mark((function e(t,n,r){var i,a,o,u,s,c;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=vv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.wa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Hm(jv.comparator)).insert(o,Dy.newNoDocument(o,Dv.min())),s=Vg().add(o),c=new Lk(Dv.min(),new Map,new Hm(Av),u,s),e.next=9,OS(i,c);case 9:i.ya=i.ya.remove(o),i.wa.delete(n),ZS(i),e.next=16;break;case 14:return e.next=16,I_(i.localStore,n,!1).then((function(){return WS(i,n,r)})).catch(Qv);case 16:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function LS(e,t){return FS.apply(this,arguments)}function FS(){return FS=_t(kt().mark((function e(t,n){var r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),i=n.batch.batchId,e.prev=1,e.next=4,w_(r.localStore,n);case 4:return a=e.sent,qS(r,i,null),BS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,YS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),FS.apply(this,arguments)}function jS(e,t,n){return US.apply(this,arguments)}function US(){return US=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vv(t),e.prev=1,e.next=4,function(e,t){var n=vv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return pv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,qS(i,n,r),BS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,YS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),US.apply(this,arguments)}function VS(e,t){return zS.apply(this,arguments)}function zS(){return zS=_t(kt().mark((function e(t,n){var r,i,a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wx((r=vv(t)).remoteStore)||cv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=vv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Da.get(i)||[]).push(n),r.Da.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Xx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),zS.apply(this,arguments)}function BS(e,t){(e.Da.get(t)||[]).forEach((function(e){e.resolve()})),e.Da.delete(t)}function qS(e,t,n){var r=vv(e),i=r.ba[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function WS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=De(e.ga.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fa.delete(a),n&&e.ma.Ma(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach((function(t){e.Sa.containsKey(t)||GS(e,t)}))}function GS(e,t){e.pa.delete(t.path.canonicalString());var n=e.ya.get(t);null!==n&&(mx(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),ZS(e))}function HS(e,t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof yS?(e.Sa.addReference(a.key,t),KS(e,a)):a instanceof gS?(cv("SyncEngine","Document no longer in limbo: "+a.key),e.Sa.removeReference(a.key,t),e.Sa.containsKey(a.key)||GS(e,a.key)):dv()}}catch(o){i.e(o)}finally{i.f()}}function KS(e,t){var n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(cv("SyncEngine","New document in limbo: "+n),e.pa.add(r),ZS(e))}function ZS(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){var t=e.pa.values().next().value;e.pa.delete(t);var n=new jv(Mv.fromString(t)),r=e.Ca.next();e.wa.set(r,new wS(n)),e.ya=e.ya.insert(n,r),vx(e.remoteStore,new Eb(gg(pg(n.path)),r,"TargetPurposeLimboResolution",lm.ae))}}function YS(e,t,n){return QS.apply(this,arguments)}function QS(){return QS=_t(kt().mark((function e(t,n,r){var i,a,o,u;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vv(t),a=[],o=[],u=[],e.t0=i.fa.isEmpty(),e.t0){e.next=9;break}return i.fa.forEach((function(e,t){u.push(i.Fa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=p_.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ma.u_(a),e.next=9,function(){var e=_t(kt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Jv.forEach(n,(function(t){return Jv.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Jv.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),rm(e.t0)){e.next=10;break}throw e.t0;case 10:cv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=De(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ns.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ns=r.ns.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function $S(e,t){return JS.apply(this,arguments)}function JS(){return(JS=_t(kt().mark((function e(t,n){var r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=vv(t)).currentUser.isEqual(n)){e.next=11;break}return cv("SyncEngine","User change. New user:",n.toKey()),e.next=5,k_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Da.forEach((function(e){e.forEach((function(e){e.reject(new yv(mv.CANCELLED,t))}))})),e.Da.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,YS(r,i.us);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XS(e,t){var n=vv(e),r=n.wa.get(t);if(r&&r.Va)return Vg().add(r.key);var i=Vg(),a=n.ga.get(t);if(!a)return i;var o,u=De(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.fa.get(s);i=i.unionWith(c.view.ca)}}catch(l){u.e(l)}finally{u.f()}return i}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=_t(kt().mark((function e(t,n){var r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),e.next=3,A_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Aa(i),e.abrupt("return",(r.isPrimaryClient&&HS(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return(rE=_t(kt().mark((function e(t,n){var r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),e.abrupt("return",O_(r.localStore,n).then((function(e){return YS(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iE(e,t,n,r){return aE.apply(this,arguments)}function aE(){return aE=_t(kt().mark((function e(t,n,r,i){var a,o;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vv(t),e.next=3,function(e,t){var n=vv(e),r=vv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Jv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Px(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(qS(a,n,i||null),BS(a,n),function(e,t){vv(vv(e).mutationQueue).Mn(t)}(a.localStore,n)):dv();case 11:return e.next=13,YS(a,o);case 13:e.next=16;break;case 15:cv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return(uE=_t(kt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mE(r=vv(t)),yE(r),!0!==n||!0===r.va){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,sE(r,i.toArray());case 5:return a=e.sent,r.va=!0,e.next=9,Zx(r.remoteStore,!0);case 9:o=De(a);try{for(o.s();!(u=o.n()).done;)s=u.value,vx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.va){e.next=25;break}return c=[],l=Promise.resolve(),r.ga.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return WS(r,t),I_(r.localStore,t,!0)})),mx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,sE(r,c);case 21:return function(e){var t=vv(e);t.wa.forEach((function(e,n){mx(t.remoteStore,n)})),t.Sa.mr(),t.wa=new Map,t.ya=new Hm(jv.comparator)}(r),r.va=!1,e.next=25,Zx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=_t(kt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=vv(t),a=[],o=[],u=De(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ga.get(c))||0===f.length){e.next=34;break}return e.next=11,T_(i.localStore,gg(f[0]));case 11:l=e.sent,h=De(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.fa.get(p),e.next=20,eE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,N_(i.localStore,c);case 36:return y=e.sent,e.next=39,T_(i.localStore,y);case 39:return l=e.sent,e.next=42,ES(i,lE(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ma.u_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),cE.apply(this,arguments)}function lE(e){return dg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fE(e){return function(e){return vv(vv(e).persistence).Li()}(vv(e).localStore)}function hE(e,t,n,r){return dE.apply(this,arguments)}function dE(){return dE=_t(kt().mark((function e(t,n,r,i){var a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=vv(t)).va){e.next=3;break}return e.abrupt("return",void cv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ga.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,O_(a.localStore,Tg(o[0]));case 10:return u=e.sent,s=Lk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ey.EMPTY_BYTE_STRING),e.next=14,YS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,I_(a.localStore,n,!0);case 17:return WS(a,n,i),e.abrupt("break",20);case 19:dv();case 20:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(e,t,n){return vE.apply(this,arguments)}function vE(){return vE=_t(kt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=mE(t)).va){e.next=45;break}a=De(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ga.has(u)){e.next=10;break}return cv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,N_(i.localStore,u);case 12:return s=e.sent,e.next=15,T_(i.localStore,s);case 15:return c=e.sent,e.next=18,ES(i,lE(s),c.targetId,!1,c.resumeToken);case 18:vx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=De(r),e.prev=30,h=kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ga.has(t),!e.t0){e.next=5;break}return e.next=5,I_(i.localStore,t,!1).then((function(){mx(i.remoteStore,t),WS(i,t)})).catch(Qv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),vE.apply(this,arguments)}function mE(e){var t=vv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RS.bind(null,t),t.ma.u_=cS.bind(null,t.eventManager),t.ma.Ma=lS.bind(null,t.eventManager),t}function yE(e){var t=vv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jS.bind(null,t),t}function gE(e,t,n){var r=vv(e);(function(){var e=_t(kt().mark((function e(t,n,r){var i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=vv(e),r=Xk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(mS(i)),a=new vS(i,t.localStore,n.serializer),e.next=15,n.xa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ta(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.xa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,YS(t,s.ia,void 0);case 31:return e.next=33,function(e,t){var n=vv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.ra));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(fv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var kE=function(){function e(){Ce(this,e),this.synchronizeTabs=!1}return Oe(e,[{key:"initialize",value:function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=rx(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return g_(this.persistence,new m_,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new i_(o_.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new H_}},{key:"terminate",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bE=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).Oa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Oe(n,[{key:"initialize",value:function(){var e=_t(kt().mark((function e(t){var r=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(Le(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Oa.initialize(this,t);case 4:return e.next=6,yE(this.Oa.syncEngine);case 6:return e.next=8,Px(this.Oa.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return g_(this.persistence,new m_,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Rw(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new cm(t,this.persistence);return new sm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=d_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kw.withCacheSize(this.cacheSizeBytes):kw.DEFAULT;return new l_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,tx(),nx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new H_}}]),n}(kE),wE=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r,!1)).Oa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Oe(n,[{key:"initialize",value:function(){var e=_t(kt().mark((function e(t){var r,i=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(Le(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Oa.syncEngine,e.t0=this.sharedClientState instanceof G_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Zs:iE.bind(null,r),Xs:hE.bind(null,r),eo:pE.bind(null,r),Li:fE.bind(null,r),Ys:nE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oE(i.Oa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=tx();if(!G_.C(t))throw new yv(mv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=d_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new G_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(bE),_E=function(){function e(){Ce(this,e)}return Oe(e,[{key:"initialize",value:function(){var e=_t(kt().mark((function e(t,n){var r=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return DS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$S.bind(null,this.syncEngine),e.next=12,Zx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new iS}},{key:"createDatastore",value:function(e){var t=rx(e.databaseInfo.databaseId),n=function(e){return new ex(e)}(e.databaseInfo);return function(e,t,n,r){return new sx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new lx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return DS(t.syncEngine,e,0)}),Z_.C()?new Z_:new K_)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new _S(e,t,n,r,i,a);return o&&(u.va=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vv(t),cv("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,dx(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function xE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return _t(kt().mark((function r(){var i;return kt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return _t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var SE=function(){function e(t){Ce(this,e),this.observer=t,this.muted=!1}return Oe(e,[{key:"next",value:function(e){this.observer.next&&this.Na(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Na(this.observer.error,e):lv("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ba",value:function(){this.muted=!0}},{key:"Na",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),EE=function(){function e(t,n){var r=this;Ce(this,e),this.La=t,this.serializer=n,this.metadata=new gv,this.buffer=new Uint8Array,this.ka=new TextDecoder("utf-8"),this.qa().then((function(e){e&&e.X_()?r.metadata.resolve(e.Z_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Z_))))}),(function(e){return r.metadata.reject(e)}))}return Oe(e,[{key:"close",value:function(){return this.La.cancel()}},{key:"getMetadata",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xa",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.qa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"qa",value:function(){var e=_t(kt().mark((function e(){var t,n,r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ka.decode(t),r=Number(n),isNaN(r)&&this.Ka("length string (".concat(n,") is not valid number")),e.next=9,this.$a(r);case 9:return i=e.sent,e.abrupt("return",new dS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Qa",value:function(){var e=_t(kt().mark((function e(){var t,n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Ua()<0)){e.next=7;break}return e.next=3,this.Wa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Ua())<0&&this.Ka("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Wa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ka("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ka.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ka",value:function(e){throw this.La.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Wa",value:function(){var e=_t(kt().mark((function e(){var t,n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.La.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),TE=function(){function e(t){Ce(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Oe(e,[{key:"lookup",value:function(){var e=_t(kt().mark((function e(t){var n,r=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new yv(mv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=_t(kt().mark((function e(t,n){var r,i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),i=ob(r.serializer)+"/documents",a={documents:n.map((function(e){return nb(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=lb(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());pv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new wk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=_t(kt().mark((function e(){var t,n=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=jv.fromPath(t);n.mutations.push(new _k(r,n.precondition(r)))})),e.next=7,function(){var e=_t(kt().mark((function e(t,n){var r,i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vv(t),i=ob(r.serializer)+"/documents",a={writes:n.map((function(e){return fb(r.serializer,e)}))},e.next=3,r.So("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dv();t=Dv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yv(mv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dv.min())?ok.exists(!1):ok.updateTime(t):ok.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dv.min()))throw new yv(mv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ok.updateTime(t)}return ok.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),IE=function(){function e(t,n,r,i,a){Ce(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ga=r.maxAttempts,this.jo=new ix(this.asyncQueue,"transaction_retry")}return Oe(e,[{key:"run",value:function(){this.Ga-=1,this.za()}},{key:"za",value:function(){var e=this;this.jo.qo(_t(kt().mark((function t(){var n,r;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new TE(e.datastore),(r=e.ja(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ha(t)}))}))})).catch((function(t){e.Ha(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ja",value:function(e){try{var t=this.updateFunction(e);return!fm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ha",value:function(e){var t=this;this.Ga>0&&this.Ja(e)?(this.Ga-=1,this.asyncQueue.enqueueAndForget((function(){return t.za(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ja",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ik(t)}return!1}}]),e}(),CE=function(){function e(t,n,r,i){var a=this;Ce(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=av.UNAUTHENTICATED,this.clientId=Cv.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return cv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Oe(e,[{key:"getConfiguration",value:function(){var e=_t(kt().mark((function e(){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new yv(mv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new gv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_t(kt().mark((function n(){var r;return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Xx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function AE(e,t){return NE.apply(this,arguments)}function NE(){return NE=_t(kt().mark((function e(t,n){var r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),cv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,k_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function OE(e,t){return PE.apply(this,arguments)}function PE(){return PE=_t(kt().mark((function e(t,n){var r,i;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,RE(t);case 3:return r=e.sent,cv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Hx(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Hx(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function DE(e){return"FirebaseError"===e.name?e.code===mv.FAILED_PRECONDITION||e.code===mv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function RE(e){return ME.apply(this,arguments)}function ME(){return(ME=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return cv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,AE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),DE(n=e.t0)){e.next=13;break}throw n;case 13:return fv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,AE(t,new kE);case 16:e.next=21;break;case 18:return cv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,AE(t,new kE);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function LE(e){return FE.apply(this,arguments)}function FE(){return(FE=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return cv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,OE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return cv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,OE(t,new _E);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jE(e){return RE(e).then((function(e){return e.persistence}))}function UE(e){return RE(e).then((function(e){return e.localStore}))}function VE(e){return LE(e).then((function(e){return e.remoteStore}))}function zE(e){return LE(e).then((function(e){return e.syncEngine}))}function BE(e){return LE(e).then((function(e){return e.datastore}))}function qE(e){return WE.apply(this,arguments)}function WE(){return(WE=_t(kt().mark((function e(t){var n,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=xS.bind(null,n.syncEngine),r.onUnlisten=IS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gv;return e.asyncQueue.enqueueAndForget(_t(kt().mark((function i(){return kt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new SE({next:function(a){t.enqueueAndForget((function(){return uS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new yv(mv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new yv(mv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new hS(pg(n.path),a,{includeMetadataChanges:!0,Y_:!0});return aS(e,o)},i.next=3,qE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function HE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gv;return e.asyncQueue.enqueueAndForget(_t(kt().mark((function i(){return kt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new SE({next:function(n){t.enqueueAndForget((function(){return uS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new yv(mv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new hS(n,a,{includeMetadataChanges:!0,Y_:!0});return aS(e,o)},i.next=3,qE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function KE(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var ZE=new Map;function YE(e,t,n){if(!n)throw new yv(mv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function QE(e,t,n,r){if(!0===t&&!0===r)throw new yv(mv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function $E(e){if(!jv.isDocumentKey(e))throw new yv(mv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function JE(e){if(jv.isDocumentKey(e))throw new yv(mv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function XE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":dv()}function eT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yv(mv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=XE(e);throw new yv(mv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function tT(e,t){if(t<=0)throw new yv(mv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var nT=function(){function e(t){var n,r;if(Ce(this,e),void 0===t.host){if(void 0!==t.ssl)throw new yv(mv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yv(mv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yv(mv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yv(mv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yv(mv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Oe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),rT=function(){function e(t,n,r,i){Ce(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1}return Oe(e,[{key:"app",get:function(){if(!this._app)throw new yv(mv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new yv(mv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bv;switch(e.type){case"firstParty":return new Sv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yv(mv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ZE.get(e);t&&(cv("ComponentProvider","Removing Datastore"),ZE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function iT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=eT(e,rT))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&fv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=av.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new yv(mv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new av(c)}e._authCredentials=new wv(new kv(u,s))}}var aT=function(){function e(t,n,r){Ce(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Oe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),oT=function(){function e(t,n,r){Ce(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Oe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new uT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),uT=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,e,r,pg(i)))._path=i,a.type="collection",a}return Oe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new oT(this.firestore,null,new jv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(aT);function sT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),YE("collection","path",t),e instanceof rT){var a=Mv.fromString.apply(Mv,[t].concat(r));return JE(a),new uT(e,null,a)}if(!(e instanceof oT||e instanceof uT))throw new yv(mv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return JE(o),new uT(e.firestore,null,o)}function cT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),1===arguments.length&&(t=Cv.V()),YE("doc","path",t),e instanceof rT){var a=Mv.fromString.apply(Mv,[t].concat(r));return $E(a),new oT(e,null,new jv(a))}if(!(e instanceof oT||e instanceof uT))throw new yv(mv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return $E(o),new oT(e.firestore,e instanceof uT?e.converter:null,new jv(o))}function lT(e,t){return e=gt(e),t=gt(t),(e instanceof oT||e instanceof uT)&&(t instanceof oT||t instanceof uT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function fT(e,t){return e=gt(e),t=gt(t),e instanceof aT&&t instanceof aT&&e.firestore===t.firestore&&_g(e._query,t._query)&&e.converter===t.converter}var hT=function(){function e(){var t=this;Ce(this,e),this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new ix(this,"async_queue_retry"),this.su=function(){var e=nx();e&&cv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=nx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.su)}return Oe(e,[{key:"isShuttingDown",get:function(){return this.Xa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ou(),this._u(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;var t=nx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.su)}}},{key:"enqueue",value:function(e){var t=this;if(this.ou(),this.Xa)return new Promise((function(){}));var n=new gv;return this._u((function(){return t.Xa&&t.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Za.push(e),t.au()}))}},{key:"au",value:function(){var e=_t(kt().mark((function e(){var t=this;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Za.length){e.next=14;break}return e.prev=1,e.next=4,this.Za[0]();case 4:this.Za.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),rm(e.t0)){e.next=12;break}throw e.t0;case 12:cv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Za.length>0&&this.jo.qo((function(){return t.au()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t=this,n=this.Ya.then((function(){return t.nu=!0,e().catch((function(e){t.tu=e,t.nu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.nu=!1,e}))}));return this.Ya=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ou(),this.iu.indexOf(e)>-1&&(t=0);var i=Jx.createAndSchedule(this,e,t,n,(function(e){return r.uu(e)}));return this.eu.push(i),i}},{key:"ou",value:function(){this.tu&&dv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"cu",value:function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ya,e.next=3,t;case 3:if(t!==this.Ya){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lu",value:function(e){var t,n=De(this.eu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"hu",value:function(e){var t=this;return this.cu().then((function(){t.eu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=De(t.eu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.cu()}))}},{key:"Pu",value:function(e){this.iu.push(e)}},{key:"uu",value:function(e){var t=this.eu.indexOf(e);this.eu.splice(t,1)}}]),e}();function dT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=De(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pT=function(){function e(){Ce(this,e),this._progressObserver={},this._taskCompletionResolver=new gv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Oe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),vT=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a){var o;return Ce(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new hT,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Oe(n,[{key:"_terminate",value:function(){return this._firestoreClient||yT(this),this._firestoreClient.terminate()}}]),n}(rT);function mT(e){return e._firestoreClient||yT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yT(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new sy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,KE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new CE(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function gT(e,t,n){var r=new gv;return e.asyncQueue.enqueue(_t(kt().mark((function i(){var a;return kt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,AE(e,n);case 3:return i.next=5,OE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),DE(a=i.t0)){i.next=13;break}throw a;case 13:fv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function kT(e){return function(e){var t=new gv;return e.asyncQueue.enqueueAndForget(_t(kt().mark((function n(){return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=VS,n.next=3,zE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(mT(e=eT(e,vT)))}function bT(e){return function(e){return e.asyncQueue.enqueue(_t(kt().mark((function t(){var n,r;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jE(e);case 2:return n=t.sent,t.next=5,VE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=vv(e);return t.v_.delete(0),fx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(mT(e=eT(e,vT)))}function wT(e){return function(e){return e.asyncQueue.enqueue(_t(kt().mark((function t(){var n,r;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jE(e);case 2:return n=t.sent,t.next=5,VE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vv(t)).v_.add(0),e.next=4,dx(n);case 4:n.x_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(mT(e=eT(e,vT)))}function _T(e,t){var n=mT(e=eT(e,vT)),r=new pT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new EE(e,t)}(function(e,t){if(e instanceof Uint8Array)return xE(e,t);if(e instanceof ArrayBuffer)return xE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Nk().encode(e):e),t)}(n,rx(t));e.asyncQueue.enqueueAndForget(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gE,t.next=3,zE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function xT(e,t){return function(e,t){return e.asyncQueue.enqueue(_t(kt().mark((function n(){return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=vv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,UE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(mT(e=eT(e,vT)),t).then((function(t){return t?new aT(e,null,t.query):null}))}function ST(e){if(e._initialized||e._terminated)throw new yv(mv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ET=function(){function e(t){Ce(this,e),this._byteString=t}return Oe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ey.fromBase64String(t))}catch(t){throw new yv(mv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ey.fromUint8Array(t))}}]),e}(),TT=function(){function e(){Ce(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new yv(mv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fv(n)}return Oe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var IT=Oe((function e(t){Ce(this,e),this._methodName=t})),CT=function(){function e(t,n){if(Ce(this,e),!isFinite(t)||t<-90||t>90)throw new yv(mv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yv(mv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Oe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Av(this._lat,e._lat)||Av(this._long,e._long)}}]),e}(),AT=/^__.*__$/,NT=function(){function e(t,n,r){Ce(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Oe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new vk(e,this.data,this.fieldMask,t,this.fieldTransforms):new pk(e,this.data,t,this.fieldTransforms)}}]),e}(),OT=function(){function e(t,n,r){Ce(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Oe(e,[{key:"toMutation",value:function(e,t){return new vk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function PT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dv()}}var DT=function(){function e(t,n,r,i,a,o){Ce(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Iu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Oe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Ru(e),r}},{key:"Vu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Iu(),r}},{key:"mu",value:function(e){return this.Eu({path:void 0,Au:!0})}},{key:"fu",value:function(e){return XT(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Iu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}},{key:"Ru",value:function(e){if(0===e.length)throw this.fu("Document fields must not be empty");if(PT(this.Tu)&&AT.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}]),e}(),RT=function(){function e(t,n,r){Ce(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||rx(t)}return Oe(e,[{key:"yu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new DT({Tu:e,methodName:t,pu:n,path:Fv.emptyPath(),Au:!1,gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function MT(e){var t=e._freezeSettings(),n=rx(e._databaseId);return new RT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.yu(a.merge||a.mergeFields?2:0,t,n,i);YT("Data must be an object, but it was:",o,r);var u,s,c=KT(r,o);if(a.merge)u=new Jm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=De(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=QT(t,l.value,n);if(!o.contains(d))throw new yv(mv.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));eI(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Jm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new NT(new Oy(c),u,s)}var FT=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.fu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(IT);function jT(e,t,n){return new DT({Tu:3,pu:t.settings.pu,methodName:e._methodName,Au:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var UT=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"_toFieldTransform",value:function(e){return new ik(e.path,new Qg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(IT),VT=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e)).wu=r,i}return Oe(n,[{key:"_toFieldTransform",value:function(e){var t=jT(this,e,!0),n=this.wu.map((function(e){return HT(e,t)})),r=new $g(n);return new ik(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IT),zT=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e)).wu=r,i}return Oe(n,[{key:"_toFieldTransform",value:function(e){var t=jT(this,e,!0),n=this.wu.map((function(e){return HT(e,t)})),r=new Xg(n);return new ik(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IT),BT=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e)).Su=r,i}return Oe(n,[{key:"_toFieldTransform",value:function(e){var t=new tk(e.serializer,Gg(e.serializer,this.Su));return new ik(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IT);function qT(e,t,n,r){var i=e.yu(1,t,n);YT("Data must be an object, but it was:",i,r);var a=[],o=Oy.empty();Wm(r,(function(e,r){var u=JT(t,e,n);r=gt(r);var s=i.Vu(u);if(r instanceof FT)a.push(u);else{var c=HT(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Jm(a);return new OT(o,u,i.fieldTransforms)}function WT(e,t,n,r,i,a){var o=e.yu(1,t,n),u=[QT(t,r,n)],s=[i];if(a.length%2!=0)throw new yv(mv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(QT(t,a[c])),s.push(a[c+1]);for(var l=[],f=Oy.empty(),h=u.length-1;h>=0;--h)if(!eI(l,u[h])){var d=u[h],p=s[h];p=gt(p);var v=o.Vu(d);if(p instanceof FT)l.push(d);else{var m=HT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Jm(l);return new OT(f,y,o.fieldTransforms)}function GT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return HT(n,e.yu(r?4:3,t))}function HT(e,t){if(ZT(e=gt(e)))return YT("Unsupported field value:",t,e),KT(e,t);if(e instanceof IT)return function(e,t){if(!PT(t.Tu))throw t.fu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&4!==t.Tu)throw t.fu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=De(e);try{for(a.s();!(n=a.n()).done;){var o=HT(n.value,t.mu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=gt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Pv.fromDate(e);return{timestampValue:Qk(t.serializer,n)}}if(e instanceof Pv){var r=new Pv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qk(t.serializer,r)}}if(e instanceof CT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ET)return{bytesValue:$k(t.serializer,e._byteString)};if(e instanceof oT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:eb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fu("Unsupported field value: ".concat(XE(e)))}(e,t)}function KT(e,t){var n={};return Gm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wm(e,(function(e,r){var i=HT(r,t.du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ZT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pv||e instanceof CT||e instanceof ET||e instanceof oT||e instanceof IT)}function YT(e,t,n){if(!ZT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=XE(n);throw"an object"===r?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function QT(e,t,n){if((t=gt(t))instanceof TT)return t._internalPath;if("string"==typeof t)return JT(e,t);throw XT("Field path arguments must be of type string or ",e,!1,void 0,n)}var $T=new RegExp("[~\\*/\\[\\]]");function JT(e,t,n){if(t.search($T)>=0)throw XT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ve(TT,(0,bt.Z)(t.split(".")))._internalPath}catch(Yl){throw XT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function XT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new yv(mv.INVALID_ARGUMENT,u+e+s)}function eI(e,t){return e.some((function(e){return e.isEqual(t)}))}var tI=function(){function e(t,n,r,i,a){Ce(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Oe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new oT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new nI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),nI=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"data",value:function(){return nr(Le(n.prototype),"data",this).call(this)}}]),n}(tI);function rI(e,t){return"string"==typeof t?JT(e,t):t instanceof TT?t._internalPath:t._delegate._internalPath}function iI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yv(mv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aI=Oe((function e(){Ce(this,e)})),oI=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n)}(aI);function uI(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof aI&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof cI})).length,n=e.filter((function(e){return e instanceof sI})).length;if(t>1||t>0&&n>0)throw new yv(mv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=De(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var sI=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Oe(n,[{key:"_apply",value:function(e){var t=this._parse(e);return wI(e._query,t),new aT(e.firestore,e.converter,bg(e._query,t))}},{key:"_parse",value:function(e){var t=MT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new yv(mv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){bI(o,a);var s,c=[],l=De(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(kI(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=kI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||bI(o,a),u=GT(n,t,o,"in"===a||"not-in"===a);return Vy.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oI);var cI=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Oe(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:zy.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=De(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;wI(r,a),r=bg(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new aT(e.firestore,e.converter,bg(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(aI);var lI=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Oe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new yv(mv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yv(mv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fy(t,n)}(e._query,this._field,this._direction);return new aT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new hg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oI);var fI=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Oe(n,[{key:"_apply",value:function(e){return new aT(e.firestore,e.converter,wg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oI);var hI=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Oe(n,[{key:"_apply",value:function(e){var t=gI(e,this.type,this._docOrFields,this._inclusive);return new aT(e.firestore,e.converter,function(e,t){return new hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oI);function dI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hI._create("startAt",t,!0)}function pI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hI._create("startAfter",t,!1)}var vI=function(e){Me(n,e);var t=Ue(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Oe(n,[{key:"_apply",value:function(e){var t=gI(e,this.type,this._docOrFields,this._inclusive);return new aT(e.firestore,e.converter,function(e,t){return new hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oI);function mI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vI._create("endBefore",t,!1)}function yI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vI._create("endAt",t,!0)}function gI(e,t,n,r){if(n[0]=gt(n[0]),n[0]instanceof tI)return function(e,t,n,r,i){if(!r)throw new yv(mv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=De(yg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ky(t,r.key));else{var c=r.data.field(s.field);if(ay(c))throw new yv(mv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new yv(mv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ry(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=MT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new yv(mv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new yv(mv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!mg(e)&&-1!==c.indexOf("/"))throw new yv(mv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Mv.fromString(c));if(!jv.isDocumentKey(l))throw new yv(mv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new jv(l);u.push(ky(t,f))}else{var h=GT(n,r,c);u.push(h)}}return new Ry(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function kI(e,t,n){if("string"==typeof(n=gt(n))){if(""===n)throw new yv(mv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mg(t)&&-1!==n.indexOf("/"))throw new yv(mv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mv.fromString(n));if(!jv.isDocumentKey(r))throw new yv(mv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ky(e,new jv(r))}if(n instanceof oT)return ky(e,n._key);throw new yv(mv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(XE(n),"."))}function bI(e,t){if(!Array.isArray(e)||0===e.length)throw new yv(mv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function wI(e,t){var n=function(e,t){var n,r=De(e);try{for(r.s();!(n=r.n()).done;){var i,a=De(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new yv(mv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new yv(mv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var _I=function(){function e(){Ce(this,e)}return Oe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ry(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(iy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Wm(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new CT(ry(e.latitude),ry(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=oy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ny(e);return new Pv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mv.fromString(e);pv(Sb(n));var r=new cy(n.get(1),n.get(3)),i=new jv(n.popFirst(5));return r.isEqual(t)||lv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function xI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var SI=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).firestore=e,r}return Oe(n,[{key:"convertBytes",value:function(e){return new ET(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oT(this.firestore,null,t)}}]),n}(_I);var EI=function(){function e(t,n){Ce(this,e),this.hasPendingWrites=t,this.fromCache=n}return Oe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),TI=function(e){Me(n,e);var t=Ue(n);function n(e,r,i,a,o,u){var s;return Ce(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Oe(n,[{key:"exists",value:function(){return nr(Le(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new II(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(tI),II=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nr(Le(n.prototype),"data",this).call(this,e)}}]),n}(TI),CI=function(){function e(t,n,r,i){Ce(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new EI(i.hasPendingWrites,i.fromCache),this.query=r}return Oe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new II(n._firestore,n._userDataWriter,r.key,r,new EI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yv(mv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new II(e._firestore,e._userDataWriter,t.doc.key,t.doc,new EI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new II(e._firestore,e._userDataWriter,t.doc.key,t.doc,new EI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:AI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function AI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dv()}}function NI(e,t){return e instanceof TI&&t instanceof TI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof CI&&t instanceof CI&&e._firestore===t._firestore&&fT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var OI=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).firestore=e,r}return Oe(n,[{key:"convertBytes",value:function(e){return new ET(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oT(this.firestore,null,t)}}]),n}(_I);function PI(e){e=eT(e,oT);var t=eT(e.firestore,vT),n=mT(t),r=new OI(t);return function(e,t){var n=new gv;return e.asyncQueue.enqueueAndForget(_t(kt().mark((function r(){return kt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_t(kt().mark((function e(t,n,r){var i,a;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=vv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new yv(mv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Xx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,UE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new TI(t,r,e._key,n,new EI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function DI(e){e=eT(e,aT);var t=eT(e.firestore,vT),n=mT(t),r=new OI(t);return iI(e._query),HE(n,e._query).then((function(n){return new CI(t,r,e,n)}))}function RI(e){e=eT(e,aT);var t=eT(e.firestore,vT),n=mT(t),r=new OI(t);return function(e,t){var n=new gv;return e.asyncQueue.enqueueAndForget(_t(kt().mark((function r(){return kt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_t(kt().mark((function e(t,n,r){var i,a,o,u,s;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A_(t,n,!0);case 3:i=e.sent,a=new kS(n,i.hs),o=a.la(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Xx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,UE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new CI(t,r,e,n)}))}function MI(e){e=eT(e,aT);var t=eT(e.firestore,vT),n=mT(t),r=new OI(t);return HE(n,e._query,{source:"server"}).then((function(n){return new CI(t,r,e,n)}))}function LI(e,t,n){e=eT(e,oT);var r=eT(e.firestore,vT),i=xI(e.converter,t,n);return VI(r,[LT(MT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ok.none())])}function FI(e,t,n){e=eT(e,oT);for(var r=eT(e.firestore,vT),i=MT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return VI(r,[("string"==typeof(t=gt(t))||t instanceof TT?WT(i,"updateDoc",e._key,t,n,o):qT(i,"updateDoc",e._key,t)).toMutation(e._key,ok.exists(!0))])}function jI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=gt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||dT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(dT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof oT)l=eT(e.firestore,vT),f=pg(e._key.path),c={next:function(t){n[s]&&n[s](zI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=eT(e,aT);l=eT(p.firestore,vT),f=p._query;var v=new OI(l);c={next:function(e){n[s]&&n[s](new CI(l,v,p,e))},error:n[s+1],complete:n[s+2]},iI(e._query)}return function(e,t,n,r){var i=new SE(r),a=new hS(t,i,n);return e.asyncQueue.enqueueAndForget(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aS,t.next=3,qE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ba(),e.asyncQueue.enqueueAndForget(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=uS,t.next=3,qE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(mT(l),f,h,c)}function UI(e,t){return function(e,t){var n=new SE(t);return e.asyncQueue.enqueueAndForget(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){vv(e).Q_.add(t),t.next()},t.next=3,qE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ba(),e.asyncQueue.enqueueAndForget(_t(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){vv(e).Q_.delete(t)},t.next=3,qE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(mT(e=eT(e,vT)),dT(t)?t:{next:t})}function VI(e,t){return function(e,t){var n=new gv;return e.asyncQueue.enqueueAndForget(_t(kt().mark((function r(){return kt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=AS,r.next=3,zE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(mT(e),t)}function zI(e,t,n){var r=n.docs.get(t._key),i=new OI(e);return new TI(e,i,t._key,r,new EI(n.hasPendingWrites,n.fromCache),t.converter)}var BI={maxAttempts:5},qI=function(){function e(t,n){Ce(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=MT(t)}return Oe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=WI(e,this._firestore),i=xI(r.converter,t,n),a=LT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ok.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=WI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gt(t))||t instanceof TT?WT(this._dataReader,"WriteBatch.update",i._key,t,n,o):qT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ok.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=WI(e,this._firestore);return this._mutations=this._mutations.concat(new wk(t._key,ok.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new yv(mv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function WI(e,t){if((e=gt(e)).firestore!==t)throw new yv(mv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var GI=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r))._firestore=e,i}return Oe(n,[{key:"get",value:function(e){var t=this,r=WI(e,this._firestore),i=new OI(this._firestore);return nr(Le(n.prototype),"get",this).call(this,e).then((function(e){return new TI(t._firestore,i,r._key,e._document,new EI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ce(this,e),this._firestore=t,this._transaction=n,this._dataReader=MT(t)}return Oe(e,[{key:"get",value:function(e){var t=this,n=WI(e,this._firestore),r=new SI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return dv();var i=e[0];if(i.isFoundDocument())return new tI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new tI(t._firestore,r,n._key,null,n.converter);throw dv()}))}},{key:"set",value:function(e,t,n){var r=WI(e,this._firestore),i=xI(r.converter,t,n),a=LT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=WI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gt(t))||t instanceof TT?WT(this._dataReader,"Transaction.update",i._key,t,n,o):qT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=WI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function HI(e,t,n){e=eT(e,vT);var r=Object.assign(Object.assign({},BI),n);return function(e){if(e.maxAttempts<1)throw new yv(mv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new gv;return e.asyncQueue.enqueueAndForget(_t(kt().mark((function i(){var a;return kt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,BE(e);case 2:a=i.sent,new IE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(mT(e),(function(n){return t(new GI(e,n))}),r)}function KI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VT("arrayUnion",t)}function ZI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zT("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ov=e}(bn),dn(new xt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new vT(new _v(e.getProvider("auth-internal")),new Tv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yv(mv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Tn(iv,"4.3.0",e),Tn(iv,"4.3.0","esm2017")}();function YI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function QI(){if("undefined"===typeof Uint8Array)throw new yv("unimplemented","Uint8Arrays are not available in this environment.")}function $I(){if("undefined"==typeof atob)throw new yv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var JI=function(){function e(t){Ce(this,e),this._delegate=t}return Oe(e,[{key:"toBase64",value:function(){return $I(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return QI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return $I(),new e(ET.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return QI(),new e(ET.fromUint8Array(t))}}]),e}();function XI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=De(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var eC=function(){function e(){Ce(this,e)}return Oe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ST(e=eT(e,vT));var n=mT(e);if(n._uninitializedComponentsProvider)throw new yv(mv.FAILED_PRECONDITION,"SDK cache is already specified.");fv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new _E;return gT(n,i,new bE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ST(e=eT(e,vT));var t=mT(e);if(t._uninitializedComponentsProvider)throw new yv(mv.FAILED_PRECONDITION,"SDK cache is already specified.");fv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new _E;return gT(t,r,new wE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new yv(mv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new gv;return e._queue.enqueueAndForgetEvenWhileRestricted(_t(kt().mark((function n(){return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(em.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,em.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(d_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),tC=function(){function e(t,n,r){var i=this;Ce(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof cy||(this._appCompat=t)}return Oe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||fv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};iT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return bT(this._delegate)}},{key:"disableNetwork",value:function(){return wT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&QE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return kT(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return UI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new yv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new vC(this,sT(this._delegate,e))}catch(t){throw uC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new oC(this,cT(this._delegate,e))}catch(t){throw uC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new hC(this,function(e,t){if(e=eT(e,rT),YE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yv(mv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new aT(e,null,function(e){return new hg(Mv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw uC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return HI(this._delegate,(function(n){return e(new rC(t,n))}))}},{key:"batch",value:function(){var e=this;return mT(this._delegate),new iC(new qI(this._delegate,(function(t){return VI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return _T(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return xT(this._delegate,e).then((function(e){return e?new hC(t,e):null}))}}]),e}(),nC=function(e){Me(n,e);var t=Ue(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).firestore=e,r}return Oe(n,[{key:"convertBytes",value:function(e){return new JI(new ET(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return oC.forKey(t,this.firestore,null)}}]),n}(_I);var rC=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new nC(t)}return Oe(e,[{key:"get",value:function(e){var t=this,n=mC(e);return this._delegate.get(n).then((function(e){return new lC(t._firestore,new TI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=mC(e);return n?(YI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=mC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mC(e);return this._delegate.delete(t),this}}]),e}(),iC=function(){function e(t){Ce(this,e),this._delegate=t}return Oe(e,[{key:"set",value:function(e,t,n){var r=mC(e);return n?(YI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=mC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),aC=function(){function e(t,n,r){Ce(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Oe(e,[{key:"fromFirestore",value:function(e,t){var n=new II(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new nC(t),n),i.set(n,a)),a}}]),e}();aC.INSTANCES=new WeakMap;var oC=function(){function e(t,n){Ce(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nC(t)}return Oe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new vC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new vC(this.firestore,sT(this._delegate,e))}catch(t){throw uC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=gt(e))instanceof oT&&lT(this._delegate,e)}},{key:"set",value:function(e,t){t=YI("DocumentReference.set",t);try{return t?LI(this._delegate,e,t):LI(this._delegate,e)}catch(n){throw uC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?FI(this._delegate,e):FI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw uC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return VI(eT((e=this._delegate).firestore,vT),[new wk(e._key,ok.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sC(n),a=cC(n,(function(t){return new lC(e.firestore,new TI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return jI(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?PI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=eT(e,oT);var t=eT(e.firestore,vT);return GE(mT(t),e._key,{source:"server"}).then((function(n){return zI(t,e,n)}))}(this._delegate):function(e){e=eT(e,oT);var t=eT(e.firestore,vT);return GE(mT(t),e._key).then((function(n){return zI(t,e,n)}))}(this._delegate)).then((function(e){return new lC(t.firestore,new TI(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new yv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new oT(n._delegate,r,new jv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new oT(n._delegate,r,t))}}]),e}();function uC(e,t,n){return e.message=e.message.replace(t,n),e}function sC(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!XI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function cC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=XI(e[0])?e[0]:XI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var lC=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n}return Oe(e,[{key:"ref",get:function(){return new oC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return NI(this._delegate,e._delegate)}}]),e}(),fC=function(e){Me(n,e);var t=Ue(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Oe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||dv(),t}}]),n}(lC),hC=function(){function e(t,n){Ce(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nC(t)}return Oe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,uI(this._delegate,function(e,t,n){var r=t,i=rI("where",e);return sI._create(i,r,n)}(t,n,r)))}catch(i){throw uC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,uI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=rI("orderBy",e);return lI._create(n,t)}(t,n)))}catch(r){throw uC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,uI(this._delegate,(tT("limit",n=t),fI._create("limit",n,"F"))))}catch(n){throw uC(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,uI(this._delegate,(tT("limitToLast",n=t),fI._create("limitToLast",n,"L"))))}catch(n){throw uC(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,uI(this._delegate,dI.apply(void 0,arguments)))}catch(t){throw uC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,uI(this._delegate,pI.apply(void 0,arguments)))}catch(t){throw uC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,uI(this._delegate,mI.apply(void 0,arguments)))}catch(t){throw uC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,uI(this._delegate,yI.apply(void 0,arguments)))}catch(t){throw uC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return fT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?RI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?MI(this._delegate):DI(this._delegate)).then((function(e){return new pC(t.firestore,new CI(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sC(n),a=cC(n,(function(t){return new pC(e.firestore,new CI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return jI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),dC=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n}return Oe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new fC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),pC=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n}return Oe(e,[{key:"query",get:function(){return new hC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new fC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new dC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new fC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return NI(this._delegate,e._delegate)}}]),e}(),vC=function(e){Me(n,e);var t=Ue(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Oe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new oC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new oC(this.firestore,void 0===e?cT(this._delegate):cT(this._delegate,e))}catch(t){throw uC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=eT(e.firestore,vT),r=cT(e),i=xI(e.converter,t);return VI(n,[LT(MT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ok.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new oC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return lT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(aC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(hC);function mC(e){return eT(e,oT)}var yC=function(){function e(){Ce(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ve(TT,n)}return Oe(e,[{key:"isEqual",value:function(e){return(e=gt(e))instanceof TT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Fv.keyField().canonicalString())}}]),e}(),gC=function(){function e(t){Ce(this,e),this._delegate=t}return Oe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new UT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new FT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=KI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ZI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new BT("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kC={Firestore:tC,GeoPoint:CT,Timestamp:Pv,Blob:JI,Transaction:rC,WriteBatch:iC,DocumentReference:oC,DocumentSnapshot:lC,Query:hC,QueryDocumentSnapshot:fC,QuerySnapshot:pC,CollectionReference:vC,FieldPath:yC,FieldValue:gC,setLogLevel:function(e){var t;t=e,uv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new xt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kC)))}(e,(function(e,t){return new tC(e,t,new eC)})),e.registerVersion("@firebase/firestore-compat","0.3.19")}(Jn);var bC=Jn.initializeApp({apiKey:"AIzaSyCVsTo20-yqg2FskgrbGrIuKABIab1-OFU",authDomain:"clone-7416d.firebaseapp.com",databaseURL:"https://clone-7416d-default-rtdb.firebaseio.com",projectId:"clone-7416d",storageBucket:"clone-7416d.appspot.com",messagingSenderId:"1003883283110",appId:"1:1003883283110:web:5f409c2568c369eea5aa67",measurementId:"G-KC9BR9XE7C"}).firestore(),wC=Jn.auth(),_C=n(403),xC=function(){var e=(0,t.useState)(""),n=(0,fe.Z)(e,2),r=n[0],i=n[1];console.log(r);var a=(0,t.useContext)(he),o=a.basket,u=a.user;return(0,de.jsx)("div",{children:(0,de.jsxs)("div",{className:"header",children:[(0,de.jsxs)("div",{className:"header_logoSection",children:[(0,de.jsx)(xe,{to:"/",children:(0,de.jsx)("img",{className:"header_logo",src:"/asset/Nauwa shop.png",alt:"logo"})}),(0,de.jsx)(xe,{to:"/"})]}),(0,de.jsxs)("div",{className:"header_search",children:[(0,de.jsx)("input",{className:"header_input",type:"text",placeholder:"search",onChange:function(e){return i(e.target.value)},style:{textAlign:"center"}}),(0,de.jsx)(_C.Z,{className:"searchicon"})]}),(0,de.jsxs)("div",{className:"header_nav",children:[(0,de.jsx)(xe,{to:!u&&"/login",children:(0,de.jsxs)("div",{className:"header_option hp1",onClick:function(){u&&wC.signOut()},children:[(0,de.jsxs)("span",{className:"header_optionOne",children:["Hello ",u?u.email:"Guest"]}),(0,de.jsx)("span",{className:"header_optionTwo",children:u?"Sign out":"Sign In"})]})}),(0,de.jsx)("div",{className:"header_option",children:(0,de.jsxs)(xe,{to:"/order",children:[" ",(0,de.jsx)("span",{style:{textDecoration:"none"},className:"header_optionTwo",children:"$Orders"})]})}),(0,de.jsx)(xe,{to:"/checkout",children:(0,de.jsxs)("div",{className:"header_optionBasket",children:[(0,de.jsx)(Te.Z,{}),(0,de.jsx)("span",{className:"header_optionTwo  header_basketCount",children:null===o||void 0===o?void 0:o.length})]})})]})]})})},SC=function(){var e=function(){var e=ce(W).match;return e?e.params:{}}();return console.log(e),(0,de.jsxs)("div",{children:[(0,de.jsx)("h1",{children:"Product Details loaded"}),(0,de.jsx)("p",{children:e.id})]})},EC=function(){var e=le(),n=(0,t.useState)(),r=(0,fe.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(""),u=(0,fe.Z)(o,2),s=u[0],c=u[1];return(0,de.jsxs)("div",{className:"login",children:[(0,de.jsx)(xe,{to:"/",children:(0,de.jsx)("img",{src:"/asset/Nauwa shop.png",alt:"logo",className:"login_logo"})}),(0,de.jsxs)("div",{className:"login_container",children:[(0,de.jsx)("h1",{children:"Sign In"}),(0,de.jsxs)("form",{children:[(0,de.jsx)("h5",{children:"Email"}),(0,de.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},value:i,placeholder:"Enter  Email"}),(0,de.jsx)("h5",{children:"Password"}),(0,de.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)},value:s,placeholder:"Enter Password"}),(0,de.jsx)("button",{type:"Submit",className:"login_signingBtn",onClick:function(t){t.preventDefault(),wC.signInWithEmailAndPassword(i,s).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},children:"Sign In"})]}),(0,de.jsx)("p",{children:"By continuing, you agree to Nauwa shop's Conditions of Use and Privacy Notice."}),(0,de.jsx)("button",{className:"login_registerBtn",onClick:function(t){t.preventDefault(),wC.createUserWithEmailAndPassword(i,s).then((function(t){t&&e.push("/")})).catch((function(e){return alert(e.message)}))},children:"Create your user account"})]})]})},TC=function(){return(0,de.jsx)("div",{className:"not_found",children:(0,de.jsxs)(xe,{to:"/",children:[(0,de.jsx)("div",{children:(0,de.jsx)("h1",{children:"Page Not Found!"})}),(0,de.jsx)("div",{children:(0,de.jsx)("img",{src:""})})]})})},IC="https://js.stripe.com/v3",CC=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,AC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",NC=null,OC=function(e){return null!==NC||(NC=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(AC),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(IC,'"]')),t=0;t<e.length;t++){var n=e[t];if(CC.test(n.src))return n}return null}();r&&e?console.warn(AC):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(IC).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),NC},PC=Promise.resolve().then((function(){return OC(null)})),DC=!1;PC.catch((function(e){DC||console.warn(e)}));var RC=n(764),MC=function(e){var n=e.id,r=e.image,i=e.title,a=e.rating,o=e.price,u=e.hideButton,s=(0,t.useContext)(he).removeFromBasket;return(0,de.jsxs)("div",{className:"checkout_product",children:[(0,de.jsx)("img",{className:"checkout_product_image",src:r,alt:""}),(0,de.jsxs)("div",{className:"checkout_product_info",children:[(0,de.jsx)("p",{className:"checkout_product",children:i}),(0,de.jsx)("div",{className:"product_rating",children:Array(a).fill().map((function(e,t){return(0,de.jsx)("p",{children:"\u2b50"},t)}))}),(0,de.jsxs)("p",{className:"checkout_product_price",children:[(0,de.jsx)("small",{children:"$"}),(0,de.jsx)("strong",{children:o})]}),!u&&(0,de.jsx)("button",{onClick:function(){s({id:n})},children:"Remove From basket"})]})]})},LC=n(482),FC=n.n(LC),jC=function(){var e=le(),n=(0,t.useContext)(he),r=n.basket,i=n.getBasketTotal;return(0,de.jsxs)("div",{className:"subtotal",children:[(0,de.jsx)(FC(),{renderText:function(e){return(0,de.jsxs)(de.Fragment,{children:[(0,de.jsxs)("p",{children:["Subtotal(",r.length,"items):",(0,de.jsx)("strong",{children:e})]}),(0,de.jsxs)("small",{className:"subtotal_gift",children:[(0,de.jsx)("input",{type:"checkbox"}),"This order contain a gift"]})]})},decimalScale:2,value:i(r),displayType:"text",prefix:"$"}),(0,de.jsx)("button",{onClick:function(t){return e.push("/payment")},children:"Proceed to Checkout"})]})},UC=function(){var e=(0,t.useContext)(he),n=e.basket,r=e.user;return(0,de.jsxs)("div",{className:"checkout",children:[(0,de.jsxs)("div",{className:"checkout_left",children:[(0,de.jsx)("img",{className:"checkout_ad",src:"",alt:""}),(0,de.jsxs)("div",{children:[(0,de.jsxs)("h3",{children:["hello,",null===r||void 0===r?void 0:r.email]}),(0,de.jsx)("h2",{className:"checkout_title",children:"Your Shopping Basket"}),n.map((function(e){return(0,de.jsx)(MC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating},e.id)}))]})]}),(0,de.jsx)("div",{className:"checkout_right",children:(0,de.jsx)(jC,{})})]})};function VC(e,t){return function(){return e.apply(t,arguments)}}var zC=Object.prototype.toString,BC=Object.getPrototypeOf,qC=function(e){return function(t){var n=zC.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),WC=function(e){return e=e.toLowerCase(),function(t){return qC(t)===e}},GC=function(e){return function(t){return typeof t===e}},HC=Array.isArray,KC=GC("undefined");var ZC=WC("ArrayBuffer");var YC=GC("string"),QC=GC("function"),$C=GC("number"),JC=function(e){return null!==e&&"object"===typeof e},XC=function(e){if("object"!==qC(e))return!1;var t=BC(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eA=WC("Date"),tA=WC("File"),nA=WC("Blob"),rA=WC("FileList"),iA=WC("URLSearchParams");function aA(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),HC(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function oA(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var uA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,sA=function(e){return!KC(e)&&e!==uA};var cA,lA=(cA="undefined"!==typeof Uint8Array&&BC(Uint8Array),function(e){return cA&&e instanceof cA}),fA=WC("HTMLFormElement"),hA=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),dA=WC("RegExp"),pA=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};aA(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},vA="abcdefghijklmnopqrstuvwxyz",mA="0123456789",yA={DIGIT:mA,ALPHA:vA,ALPHA_DIGIT:vA+vA.toUpperCase()+mA};var gA=WC("AsyncFunction"),kA={isArray:HC,isArrayBuffer:ZC,isBuffer:function(e){return null!==e&&!KC(e)&&null!==e.constructor&&!KC(e.constructor)&&QC(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||QC(e.append)&&("formdata"===(t=qC(e))||"object"===t&&QC(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ZC(e.buffer)},isString:YC,isNumber:$C,isBoolean:function(e){return!0===e||!1===e},isObject:JC,isPlainObject:XC,isUndefined:KC,isDate:eA,isFile:tA,isBlob:nA,isRegExp:dA,isFunction:QC,isStream:function(e){return JC(e)&&QC(e.pipe)},isURLSearchParams:iA,isTypedArray:lA,isFileList:rA,forEach:aA,merge:function e(){for(var t=(sA(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&oA(n,i)||i;XC(n[a])&&XC(r)?n[a]=e(n[a],r):XC(r)?n[a]=e({},r):HC(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&aA(arguments[i],r);return n},extend:function(e,t,n){return aA(t,(function(t,r){n&&QC(t)?e[r]=VC(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&BC(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:qC,kindOfTest:WC,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(HC(e))return e;var t=e.length;if(!$C(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:fA,hasOwnProperty:hA,hasOwnProp:hA,reduceDescriptors:pA,freezeMethods:function(e){pA(e,(function(t,n){if(QC(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];QC(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return HC(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:oA,global:uA,isContextDefined:sA,ALPHABET:yA,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yA.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&QC(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(JC(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=HC(n)?[]:{};return aA(n,(function(t,n){var a=e(t,r+1);!KC(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:gA,isThenable:function(e){return e&&(JC(e)||QC(e))&&QC(e.then)&&QC(e.catch)}};function bA(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}kA.inherits(bA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kA.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var wA=bA.prototype,_A={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){_A[e]={value:e}})),Object.defineProperties(bA,_A),Object.defineProperty(wA,"isAxiosError",{value:!0}),bA.from=function(e,t,n,r,i,a){var o=Object.create(wA);return kA.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),bA.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var xA=bA;function SA(e){return kA.isPlainObject(e)||kA.isArray(e)}function EA(e){return kA.endsWith(e,"[]")?e.slice(0,-2):e}function TA(e,t,n){return e?e.concat(t).map((function(e,t){return e=EA(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var IA=kA.toFlatObject(kA,{},null,(function(e){return/^is[A-Z]/.test(e)}));var CA=function(e,t,n){if(!kA.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=kA.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!kA.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&kA.isSpecCompliantForm(t);if(!kA.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(kA.isDate(e))return e.toISOString();if(!u&&kA.isBlob(e))throw new xA("Blob is not supported. Use a Buffer instead.");return kA.isArrayBuffer(e)||kA.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(kA.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(kA.isArray(e)&&function(e){return kA.isArray(e)&&!e.some(SA)}(e)||(kA.isFileList(e)||kA.endsWith(n,"[]"))&&(u=kA.toArray(e)))return n=EA(n),u.forEach((function(e,r){!kA.isUndefined(e)&&null!==e&&t.append(!0===o?TA([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!SA(e)||(t.append(TA(i,n,a),s(e)),!1)}var l=[],f=Object.assign(IA,{defaultVisitor:c,convertValue:s,isVisitable:SA});if(!kA.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!kA.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),kA.forEach(n,(function(n,a){!0===(!(kA.isUndefined(n)||null===n)&&i.call(t,n,kA.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function AA(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function NA(e,t){this._pairs=[],e&&CA(e,this,t)}var OA=NA.prototype;OA.append=function(e,t){this._pairs.push([e,t])},OA.toString=function(e){var t=e?function(t){return e.call(this,t,AA)}:AA;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var PA=NA;function DA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RA(e,t,n){if(!t)return e;var r,i=n&&n.encode||DA,a=n&&n.serialize;if(r=a?a(t,n):kA.isURLSearchParams(t)?t.toString():new PA(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var MA=function(){function e(){Ce(this,e),this.handlers=[]}return Oe(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){kA.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),LA=MA,FA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jA={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:PA,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var UA=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&kA.isArray(r)?r.length:a,u?(kA.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&kA.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&kA.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(kA.isFormData(e)&&kA.isFunction(e.entries)){var n={};return kA.forEachEntry(e,(function(e,r){t(function(e){return kA.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var VA={transitional:FA,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=kA.isObject(e);if(a&&kA.isHTMLForm(e)&&(e=new FormData(e)),kA.isFormData(e))return i&&i?JSON.stringify(UA(e)):e;if(kA.isArrayBuffer(e)||kA.isBuffer(e)||kA.isStream(e)||kA.isFile(e)||kA.isBlob(e))return e;if(kA.isArrayBufferView(e))return e.buffer;if(kA.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return CA(e,new jA.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return jA.isNode&&kA.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=kA.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return CA(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(kA.isString(e))try{return(t||JSON.parse)(e),kA.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||VA.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&kA.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw xA.from(a,xA.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jA.classes.FormData,Blob:jA.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kA.forEach(["delete","get","head","post","put","patch"],(function(e){VA.headers[e]={}}));var zA=VA,BA=kA.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qA=Symbol("internals");function WA(e){return e&&String(e).trim().toLowerCase()}function GA(e){return!1===e||null==e?e:kA.isArray(e)?e.map(GA):String(e)}function HA(e,t,n,r,i){return kA.isFunction(r)?r.call(this,t,n):(i&&(t=n),kA.isString(t)?kA.isString(r)?-1!==t.indexOf(r):kA.isRegExp(r)?r.test(t):void 0:void 0)}var KA=function(e,t){function n(e){Ce(this,n),e&&this.set(e)}return Oe(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=WA(t);if(!i)throw new Error("header name must be a non-empty string");var a=kA.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=GA(e))}var a=function(e,t){return kA.forEach(e,(function(e,n){return i(e,n,t)}))};return kA.isPlainObject(e)||e instanceof this.constructor?a(e,t):kA.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&BA[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=WA(e)){var n=kA.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(kA.isFunction(t))return t.call(this,r,n);if(kA.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=WA(e)){var n=kA.findKey(this,e);return!(!n||void 0===this[n]||t&&!HA(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=WA(e)){var i=kA.findKey(n,e);!i||t&&!HA(0,n[i],i,t)||(delete n[i],r=!0)}}return kA.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!HA(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return kA.forEach(this,(function(r,i){var a=kA.findKey(n,i);if(a)return t[a]=GA(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=GA(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return kA.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&kA.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,fe.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[qA]=this[qA]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=WA(e);t[r]||(!function(e,t){var n=kA.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return kA.isArray(e)?e.forEach(r):r(e),this}}]),n}();KA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),kA.reduceDescriptors(KA.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),kA.freezeMethods(KA);var ZA=KA;function YA(e,t){var n=this||zA,r=t||n,i=ZA.from(r.headers),a=r.data;return kA.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function QA(e){return!(!e||!e.__CANCEL__)}function $A(e,t,n){xA.call(this,null==e?"canceled":e,xA.ERR_CANCELED,t,n),this.name="CanceledError"}kA.inherits($A,xA,{__CANCEL__:!0});var JA=$A;var XA=jA.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),kA.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),kA.isString(r)&&o.push("path="+r),kA.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function eN(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var tN=jA.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=kA.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var nN=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function rN(e,t){var n=0,r=nN(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var iN="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a=e.data,o=ZA.from(e.headers).normalize(),u=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}kA.isFormData(a)&&(jA.isStandardBrowserEnv||jA.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?kA.isString(i=o.getContentType())&&o.setContentType(i.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(l+":"+f))}var h=eN(e.baseURL,e.url);function d(){if(c){var r=ZA.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new xA("Request failed with status code "+n.status,[xA.ERR_BAD_REQUEST,xA.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:u&&"text"!==u&&"json"!==u?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),RA(h,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(d)},c.onabort=function(){c&&(n(new xA("Request aborted",xA.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new xA("Network Error",xA.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||FA;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new xA(t,r.clarifyTimeoutError?xA.ETIMEDOUT:xA.ECONNABORTED,e,c)),c=null},jA.isStandardBrowserEnv){var p=(e.withCredentials||tN(h))&&e.xsrfCookieName&&XA.read(e.xsrfCookieName);p&&o.set(e.xsrfHeaderName,p)}void 0===a&&o.setContentType(null),"setRequestHeader"in c&&kA.forEach(o.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),kA.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),u&&"json"!==u&&(c.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&c.addEventListener("progress",rN(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",rN(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){c&&(n(!t||t.type?new JA(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var v=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);v&&-1===jA.protocols.indexOf(v)?n(new xA("Unsupported protocol "+v+":",xA.ERR_BAD_REQUEST,e)):c.send(a||null)}))},aN={http:null,xhr:iN};kA.forEach(aN,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var oN=function(e){return"- ".concat(e)},uN=function(e){return kA.isFunction(e)||null===e||!1===e},sN=function(e){for(var t,n,r=(e=kA.isArray(e)?e:[e]).length,i={},a=0;a<r;a++){var o=void 0;if(n=t=e[a],!uN(t)&&void 0===(n=aN[(o=String(t)).toLowerCase()]))throw new xA("Unknown adapter '".concat(o,"'"));if(n)break;i[o||"#"+a]=n}if(!n){var u=Object.entries(i).map((function(e){var t=(0,fe.Z)(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),s=r?u.length>1?"since :\n"+u.map(oN).join("\n"):" "+oN(u[0]):"as no adapter specified";throw new xA("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function cN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new JA(null,e)}function lN(e){return cN(e),e.headers=ZA.from(e.headers),e.data=YA.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sN(e.adapter||zA.adapter)(e).then((function(t){return cN(e),t.data=YA.call(e,e.transformResponse,t),t.headers=ZA.from(t.headers),t}),(function(t){return QA(t)||(cN(e),t&&t.response&&(t.response.data=YA.call(e,e.transformResponse,t.response),t.response.headers=ZA.from(t.response.headers))),Promise.reject(t)}))}var fN=function(e){return e instanceof ZA?e.toJSON():e};function hN(e,t){t=t||{};var n={};function r(e,t,n){return kA.isPlainObject(e)&&kA.isPlainObject(t)?kA.merge.call({caseless:n},e,t):kA.isPlainObject(t)?kA.merge({},t):kA.isArray(t)?t.slice():t}function i(e,t,n){return kA.isUndefined(t)?kA.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!kA.isUndefined(t))return r(void 0,t)}function o(e,t){return kA.isUndefined(t)?kA.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(fN(e),fN(t),!0)}};return kA.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);kA.isUndefined(o)&&a!==u||(n[r]=o)})),n}var dN="1.5.1",pN={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){pN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var vN={};pN.transitional=function(e,t,n){function r(e,t){return"[Axios v1.5.1] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new xA(r(i," has been removed"+(t?" in "+t:"")),xA.ERR_DEPRECATED);return t&&!vN[i]&&(vN[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var mN={assertOptions:function(e,t,n){if("object"!==typeof e)throw new xA("options must be an object",xA.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new xA("option "+a+" must be "+s,xA.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new xA("Unknown option "+a,xA.ERR_BAD_OPTION)}},validators:pN},yN=mN.validators,gN=function(){function e(t){Ce(this,e),this.defaults=t,this.interceptors={request:new LA,response:new LA}}return Oe(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=hN(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&mN.assertOptions(r,{silentJSONParsing:yN.transitional(yN.boolean),forcedJSONParsing:yN.transitional(yN.boolean),clarifyTimeoutError:yN.transitional(yN.boolean)},!1),null!=i&&(kA.isFunction(i)?t.paramsSerializer={serialize:i}:mN.assertOptions(i,{encode:yN.function,serialize:yN.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&kA.merge(a.common,a[t.method]);a&&kA.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=ZA.concat(o,a);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[lN.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=lN.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return RA(eN((e=hN(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();kA.forEach(["delete","get","head","options"],(function(e){gN.prototype[e]=function(t,n){return this.request(hN(n||{},{method:e,url:t,data:(n||{}).data}))}})),kA.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(hN(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}gN.prototype[e]=t(),gN.prototype[e+"Form"]=t(!0)}));var kN=gN,bN=function(){function e(t){if(Ce(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new JA(e,t,i),n(r.reason))}))}return Oe(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),wN=bN;var _N={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_N).forEach((function(e){var t=(0,fe.Z)(e,2),n=t[0],r=t[1];_N[r]=n}));var xN=_N;var SN=function e(t){var n=new kN(t),r=VC(kN.prototype.request,n);return kA.extend(r,kN.prototype,n,{allOwnKeys:!0}),kA.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(hN(t,n))},r}(zA);SN.Axios=kN,SN.CanceledError=JA,SN.CancelToken=wN,SN.isCancel=QA,SN.VERSION=dN,SN.toFormData=CA,SN.AxiosError=xA,SN.Cancel=SN.CanceledError,SN.all=function(e){return Promise.all(e)},SN.spread=function(e){return function(t){return e.apply(null,t)}},SN.isAxiosError=function(e){return kA.isObject(e)&&!0===e.isAxiosError},SN.mergeConfig=hN,SN.AxiosHeaders=ZA,SN.formToJSON=function(e){return UA(kA.isHTMLForm(e)?new FormData(e):e)},SN.getAdapter=sN,SN.HttpStatusCode=xN,SN.default=SN;var EN=SN.create({baseURL:"http://127.0.0.1:5001/ecommerce-shopping-dcec2/us-central1/api"}),TN=function(){var e=(0,t.useContext)(he),n=e.basket,r=e.user,i=e.getBasketTotal,a=e.emptyBasket,o=(0,RC.useStripe)(),u=(0,RC.useElements)(),s=le(),c=(0,t.useState)(!1),l=(0,fe.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)(""),p=(0,fe.Z)(d,2),v=p[0],m=p[1],y=(0,t.useState)(null),g=(0,fe.Z)(y,2),k=g[0],b=g[1],w=(0,t.useState)(!0),_=(0,fe.Z)(w,2),x=_[0],S=_[1],E=(0,t.useState)(!0),T=(0,fe.Z)(E,2),I=T[0],C=T[1];(0,t.useEffect)((function(){var e=function(){var e=_t(kt().mark((function e(){var t;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EN({method:"post",url:"/payments/create?total=".concat(100*i(n))});case 2:t=e.sent,C(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),console.log("the secret is",I);var A=function(){var e=_t(kt().mark((function e(t){return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),e.next=4,o.confirmCardPayment(I,{payment_method:{card:u.getElement(RC.CardElement)}}).then((function(e){var t=e.paymentIntent;bC.collection("user").doc(null===r||void 0===r?void 0:r.uid).collection("orders").doc(t.id).set({basket:n,amount:t.amount,created:t.created}),h(!0),b(null),m(!1),a(),s.push("/order")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,de.jsx)("div",{className:"payment",children:(0,de.jsxs)("div",{className:"payment_container",children:[(0,de.jsxs)("h1",{children:["Checkout",(0,de.jsxs)(xe,{to:"/checkout",children:[null===n||void 0===n?void 0:n.length," items"]})]}),(0,de.jsxs)("div",{className:"payment_section",children:[(0,de.jsx)("div",{className:"payment_title",children:(0,de.jsx)("h3",{children:"Delivery Address"})}),(0,de.jsxs)("div",{className:"payment_address",children:[(0,de.jsx)("p",{children:null===r||void 0===r?void 0:r.email}),(0,de.jsx)("p",{children:"123 reactJS Road"}),(0,de.jsx)("p",{children:"Cape Town,South Africa "})]})]}),(0,de.jsxs)("div",{className:"payment_section",children:[(0,de.jsx)("div",{className:"payment_title",children:(0,de.jsx)("h3",{children:"Review items and delivery"})}),(0,de.jsx)("div",{className:"payment_items",children:n.map((function(e){return(0,de.jsx)(MC,{id:e.id,image:e.image,rating:e.rating,price:e.price},e.id)}))})]}),(0,de.jsxs)("div",{className:"payment_section",children:[(0,de.jsx)("div",{className:"payment_title",children:(0,de.jsx)("h3",{children:"Payment Method"})}),(0,de.jsx)("div",{className:"payment_detals",children:(0,de.jsxs)("form",{onSubmit:A,children:[(0,de.jsx)(RC.CardElement,{onChange:function(e){S(e.empty),b(e.error?e.error.message:"")}}),(0,de.jsxs)("div",{className:"payment_price_container",children:[(0,de.jsx)(FC(),{renderText:function(e){return(0,de.jsxs)("h3",{children:["Order total:",e," "]})},decimalScale:2,value:i(n),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,de.jsx)("button",{disabled:v||x||f,children:(0,de.jsx)("span",{children:v?(0,de.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),k&&(0,de.jsx)("div",{children:k})]})})]})]})})},IN=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Lt(Lt({},e),{},{basket:[].concat((0,bt.Z)(e.basket),[t.payload])});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.payload.id})),r=(0,bt.Z)(e.basket);return n>=0?r.splice(n,1):console.warn("cannot remove (id:${action.payload.id})as it is not in the basket"),Lt(Lt({},e),{},{basket:r});case"EMPTY_BASKET":return Lt(Lt({},e),{},{basket:[]});case"SET_USER":return Lt(Lt({},e),{},{user:t.payload});default:return e}},CN=function(e){var n=(0,t.useReducer)(IN,{basket:[],user:null}),r=(0,fe.Z)(n,2),i=r[0],a=r[1],o=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)};console.log("Basket:",i.basket),console.log("Total:",o(i.basket));var u=function(){var e=_t(kt().mark((function e(t){var n;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.item,a({type:"ADD_TO_BASKET",payload:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,de.jsx)(he.Provider,{value:{basket:i.basket,user:i.user,getBasketTotal:o,addToBasket:u,setUser:function(e){a({type:"SET_USER",payload:e})},removeFromBasket:function(e){a({type:"REMOVE_FROM_BASKET",payload:e})},emptyBasket:function(){a({type:"EMPTY_BASKET"})}},children:e.children})},AN=n(426),NN=n.n(AN),ON=function(e){var t,n,r,i=e.order;return(0,de.jsxs)("div",{className:"order",children:[(0,de.jsx)("p",{children:NN().unix(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.created).format("MMMM Do YYYY, h:mma")}),(0,de.jsx)("p",{children:(0,de.jsx)("small",{children:i.id})}),null===i||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.basket)||void 0===r?void 0:r.map((function(e){return(0,de.jsx)(MC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0},e.id)})),(0,de.jsx)(FC(),{renderText:function(e){return(0,de.jsxs)("h3",{children:["Order total:",e," "]})},decimalScale:2,value:i.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"})]})},PN=function(){var e=(0,t.useContext)(he),n=(e.basket,e.user),r=(e.getBasketTotal,e.emptyBasket,(0,t.useState)([])),i=(0,fe.Z)(r,2),a=i[0],o=i[1];return(0,t.useEffect)((function(){n?bC.collection("user").doc(null===n||void 0===n?void 0:n.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):o([])}),[n]),(0,de.jsxs)("div",{children:[(0,de.jsx)("h1",{children:"Your orders "}),(0,de.jsx)("div",{className:"orders_order",children:null===a||void 0===a?void 0:a.map((function(e){return(0,de.jsx)(ON,{order:e},e.id)}))})]})},DN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];DC=!0;var r=Date.now();return PC.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.1.9",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51O0gq3F71lqZQv1BbewxM37bQyCBesinvbzK9blky0kKE8xuJk62lRBZGu4rZKznwlPOcC2vL6nGm2hAFeHV2EhF00Ol9xycsy"),RN=function(){var e=(0,t.useContext)(he).setUser;return(0,t.useEffect)((function(){wC.onAuthStateChanged((function(t){console.log("User is ->",t),e(t||null)}))}),[]),(0,de.jsxs)(de.Fragment,{children:[(0,de.jsx)(xC,{}),(0,de.jsx)("main",{children:(0,de.jsxs)(se,{children:[(0,de.jsx)(ne,{path:"/",exact:!0,children:(0,de.jsx)($,{to:"/home"})}),(0,de.jsx)(ne,{path:"/home",exact:!0,children:(0,de.jsx)(me,{})}),(0,de.jsx)(ne,{path:"/products",exact:!0,children:(0,de.jsx)(ve,{})}),(0,de.jsx)(ne,{path:"/products/:id",children:(0,de.jsx)(SC,{})}),(0,de.jsx)(ne,{path:"/checkout",children:(0,de.jsx)(UC,{})}),(0,de.jsx)(ne,{path:"/payment",children:(0,de.jsx)(RC.Elements,{stripe:DN,children:(0,de.jsx)(TN,{})})}),(0,de.jsx)(ne,{path:"/login",children:(0,de.jsx)(EC,{})}),(0,de.jsx)(ne,{path:"/order",children:(0,de.jsx)(PN,{})}),(0,de.jsx)(ne,{path:"*",children:(0,de.jsx)(TC,{})})]})})]})};n(250).createRoot(document.getElementById("root")).render((0,de.jsx)(t.StrictMode,{children:(0,de.jsx)(ye,{children:(0,de.jsx)(CN,{children:(0,de.jsx)(RN,{})})})}))}()}();
//# sourceMappingURL=main.c677cea5.js.map